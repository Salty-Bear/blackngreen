(self.webpackChunkbungus_Frontend=self.webpackChunkbungus_Frontend||[]).push([[179],{6304:(dt,Ee,P)=>{"use strict";P.d(Ee,{Dh:()=>Se,GT:()=>ye,cc:()=>Re,on:()=>we,pX:()=>ie,xv:()=>Ce});var u=P(5879),V=P(7142);dt=P.hmd(dt);const L=["ngOnDestroy"],ie=(Ne,Ue,tt,ct={})=>new Proxy(Ne,{get:(J,ve)=>tt.runOutsideAngular(()=>{var ae;if(Ne[ve])return!(null===(ae=ct?.spy)||void 0===ae)&&ae.get&&ct.spy.get(ve,Ne[ve]),Ne[ve];if(L.indexOf(ve)>-1)return()=>{};const se=Ue.toPromise().then(he=>{const K=he&&he[ve];return"function"==typeof K?K.bind(he):K&&K.then?K.then(Pe=>tt.run(()=>Pe)):tt.run(()=>K)});return new Proxy(()=>{},{get:(he,K)=>se[K],apply:(he,K,Pe)=>se.then(st=>{var Et;const Sn=st&&st(...Pe);return!(null===(Et=ct?.spy)||void 0===Et)&&Et.apply&&ct.spy.apply(ve,Pe,Sn),Sn})})})}),ye=(Ne,Ue)=>{Ue.forEach(tt=>{Object.getOwnPropertyNames(tt.prototype||tt).forEach(ct=>{Object.defineProperty(Ne.prototype,ct,Object.getOwnPropertyDescriptor(tt.prototype||tt,ct))})})};class ne{constructor(Ue){return Ue}}const Se=new u.OlP("angularfire2.app.options"),Ce=new u.OlP("angularfire2.app.name");function we(Ne,Ue,tt){const J="object"==typeof tt&&tt||{};J.name=J.name||"string"==typeof tt&&tt||"[DEFAULT]";const ae=V.Z.apps.filter(se=>se&&se.name===J.name)[0]||Ue.runOutsideAngular(()=>V.Z.initializeApp(Ne,J));try{JSON.stringify(Ne)!==JSON.stringify(ae.options)&&j("error",`${ae.name} Firebase App already initialized with different options${dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ne(ae)}const j=(Ne,...Ue)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ne](...Ue)};function Re(Ne,Ue,tt,ct,J){const[,ve,ae]=globalThis.\u0275AngularfireInstanceCache.find(se=>se[0]===Ne)||[];if(ve)return function Le(Ne,Ue){try{return Ne.toString()===Ue.toString()}catch{return Ne===Ue}}(J,ae)||(Te("error",`${Ue} was already initialized on the ${tt} Firebase App with different settings.${et?" You may need to reload as Firebase is not HMR aware.":""}`),Te("warn",{is:J,was:ae})),ve;{const se=ct();return globalThis.\u0275AngularfireInstanceCache.push([Ne,se,J]),se}}const et=!!dt.hot,Te=(Ne,...Ue)=>{(0,u.X6Q)()&&typeof console<"u"&&console[Ne](...Ue)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6878:(dt,Ee,P)=>{"use strict";P.d(Ee,{$:()=>Kh,A:()=>z,D:()=>Le,I:()=>Fh,J:()=>nc,L:()=>We,N:()=>jr,P:()=>Rn,Q:()=>ol,R:()=>Xm,U:()=>Am,V:()=>wa,W:()=>Gs,X:()=>lo,Y:()=>$h,Z:()=>Gh,_:()=>oc,a:()=>$u,a0:()=>dC,a1:()=>Bn,a2:()=>pR,a3:()=>mR,a4:()=>Sv,a5:()=>Ho,a6:()=>lc,a7:()=>Qh,a8:()=>Xh,a9:()=>Dv,aA:()=>K,aB:()=>yl,aC:()=>Pn,aD:()=>Ss,aE:()=>Qo,aF:()=>yo,aG:()=>_o,aH:()=>Ln,aL:()=>hc,aO:()=>os,aa:()=>km,ab:()=>Av,ac:()=>Om,ad:()=>Mv,ae:()=>Vu,af:()=>Rv,ai:()=>fC,aj:()=>gR,ak:()=>Ov,an:()=>Wh,ao:()=>uc,aq:()=>lf,ar:()=>dc,as:()=>st,at:()=>Xe,au:()=>Ie,av:()=>J,aw:()=>cs,ax:()=>xf,ay:()=>en,az:()=>ve,b:()=>df,c:()=>mi,d:()=>Yu,e:()=>Ca,f:()=>Zu,g:()=>Wi,h:()=>Gr,i:()=>qs,j:()=>Yv,k:()=>bo,l:()=>Jm,m:()=>bl,o:()=>ka,p:()=>Ce,r:()=>at,s:()=>On,u:()=>dr,v:()=>Vm,x:()=>Pv});var u=P(5861),V=P(9058),L=P(534),ie=P(7582),ye=P(7879),ne=P(4537);const Ce={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Le=function re(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},et=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Te=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ue=new ye.Yd("@firebase/auth");function ct(x,..._){Ue.logLevel<=ye.in.ERROR&&Ue.error(`Auth (${L.SDK_VERSION}): ${x}`,..._)}function J(x,..._){throw he(x,..._)}function ve(x,..._){return he(x,..._)}function ae(x,_,y){const E=Object.assign(Object.assign({},et()),{[_]:y});return new V.LL("auth","Firebase",E).create(_,{appName:x.name})}function se(x,_,y){if(!(_ instanceof y))throw y.name!==_.constructor.name&&J(x,"argument-error"),ae(x,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function he(x,..._){if("string"!=typeof x){const y=_[0],E=[..._.slice(1)];return E[0]&&(E[0].appName=x.name),x._errorFactory.create(y,...E)}return Te.create(x,..._)}function K(x,_,...y){if(!x)throw he(_,...y)}function Pe(x){const _="INTERNAL ASSERTION FAILED: "+x;throw ct(_),new Error(_)}function st(x,_){x||Pe(_)}function Et(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.href)||""}function Sn(){return"http:"===ui()||"https:"===ui()}function ui(){var x;return typeof self<"u"&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class zi{constructor(_,y){this.shortDelay=_,this.longDelay=y,st(y>_,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function ki(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Sn()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function br(x,_){st(x.emulator,"Emulator should always be set here");const{url:y}=x.emulator;return _?`${y}${_.startsWith("/")?_.slice(1):_}`:y}class de{static initialize(_,y,E){this.fetchImpl=_,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Pe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Pe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Pe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},be=new zi(3e4,6e4);function ce(x,_){return x.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:x.tenantId}):_}function _e(x,_,y,E){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,u.Z)(function*(x,_,y,E,T={}){return qe(x,T,(0,u.Z)(function*(){let O={},X={};E&&("GET"===_?X=E:O={body:JSON.stringify(E)});const pe=(0,V.xO)(Object.assign({key:x.config.apiKey},X)).slice(1),$e=yield x._getAdditionalHeaders();return $e["Content-Type"]="application/json",x.languageCode&&($e["X-Firebase-Locale"]=x.languageCode),de.fetch()(mt(x,x.config.apiHost,y,pe),Object.assign({method:_,headers:$e,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function qe(x,_,y){return He.apply(this,arguments)}function He(){return(He=(0,u.Z)(function*(x,_,y){x._canInitEmulator=!1;const E=Object.assign(Object.assign({},fe),_);try{const T=new it(x),O=yield Promise.race([y(),T.promise]);T.clearNetworkTimeout();const X=yield O.json();if("needConfirmation"in X)throw Mt(x,"account-exists-with-different-credential",X);if(O.ok&&!("errorMessage"in X))return X;{const pe=O.ok?X.errorMessage:X.error.message,[$e,Ye]=pe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw Mt(x,"credential-already-in-use",X);if("EMAIL_EXISTS"===$e)throw Mt(x,"email-already-in-use",X);if("USER_DISABLED"===$e)throw Mt(x,"user-disabled",X);const ht=E[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(Ye)throw ae(x,ht,Ye);J(x,ht)}}catch(T){if(T instanceof V.ZR)throw T;J(x,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function $t(x,_,y,E){return ut.apply(this,arguments)}function ut(){return(ut=(0,u.Z)(function*(x,_,y,E,T={}){const O=yield _e(x,_,y,E,T);return"mfaPendingCredential"in O&&J(x,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function mt(x,_,y,E){const T=`${_}${y}?${E}`;return x.config.emulator?br(x.config,T):`${x.config.apiScheme}://${T}`}class it{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(ve(this.auth,"network-request-failed")),be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mt(x,_,y){const E={appName:x.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const T=ve(x,_,E);return T.customData._tokenResponse=y,T}function Dn(){return(Dn=(0,u.Z)(function*(x,_){return _e(x,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Hn(){return(Hn=(0,u.Z)(function*(x,_){return _e(x,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function wr(){return(wr=(0,u.Z)(function*(x,_){return _e(x,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function er(x){if(x)try{const _=new Date(Number(x));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function js(){return(js=(0,u.Z)(function*(x,_=!1){const y=(0,V.m9)(x),E=yield y.getIdToken(_),T=Rt(E);K(T&&T.exp&&T.auth_time&&T.iat,y.auth,"internal-error");const O="object"==typeof T.firebase?T.firebase:void 0,X=O?.sign_in_provider;return{claims:T,token:E,authTime:er(gt(T.auth_time)),issuedAtTime:er(gt(T.iat)),expirationTime:er(gt(T.exp)),signInProvider:X||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function gt(x){return 1e3*Number(x)}function Rt(x){const[_,y,E]=x.split(".");if(void 0===_||void 0===y||void 0===E)return ct("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,V.tV)(y);return T?JSON.parse(T):(ct("Failed to decode base64 JWT payload"),null)}catch(T){return ct("Caught error parsing JWT payload as JSON",T?.toString()),null}}function on(x,_){return nr.apply(this,arguments)}function nr(){return(nr=(0,u.Z)(function*(x,_,y=!1){if(y)return _;try{return yield _}catch(E){throw E instanceof V.ZR&&function Ur({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}(E)&&x.auth.currentUser===x&&(yield x.auth.signOut()),E}})).apply(this,arguments)}class zt{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var y;if(_){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const T=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(_=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(_);this.timerId=setTimeout((0,u.Z)(function*(){yield y.iteration()}),E)}iteration(){var _=this;return(0,u.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(y){return void("auth/network-request-failed"===y?.code&&_.schedule(!0))}_.schedule()})()}}class Gn{constructor(_,y){this.createdAt=_,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=er(this.lastLoginAt),this.creationTime=er(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function no(x){return rn.apply(this,arguments)}function rn(){return rn=(0,u.Z)(function*(x){var _;const y=x.auth,E=yield x.getIdToken(),T=yield on(x,function Vr(x,_){return wr.apply(this,arguments)}(y,{idToken:E}));K(T?.users.length,y,"internal-error");const O=T.users[0];x._notifyReloadListener(O);const X=null!==(_=O.providerUserInfo)&&void 0!==_&&_.length?function rs(x){return x.map(_=>{var{providerId:y}=_,E=(0,ie._T)(_,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}(O.providerUserInfo):[],pe=function Wn(x,_){return[...x.filter(E=>!_.some(T=>T.providerId===E.providerId)),..._]}(x.providerData,X),ht=!!x.isAnonymous&&!(x.email&&O.passwordHash||pe?.length),Gt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:pe,metadata:new Gn(O.createdAt,O.lastLoginAt),isAnonymous:ht};Object.assign(x,Gt)}),rn.apply(this,arguments)}function Ot(){return(Ot=(0,u.Z)(function*(x){const _=(0,V.m9)(x);yield no(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function zs(){return(zs=(0,u.Z)(function*(x,_){const y=yield qe(x,{},(0,u.Z)(function*(){const E=(0,V.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:T,apiKey:O}=x.config,X=mt(x,T,"/v1/token",`key=${O}`),pe=yield x._getAdditionalHeaders();return pe["Content-Type"]="application/x-www-form-urlencoded",de.fetch()(X,{method:"POST",headers:pe,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class xi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){K(_.idToken,"internal-error"),K(typeof _.idToken<"u","internal-error"),K(typeof _.refreshToken<"u","internal-error");const y="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function At(x){const _=Rt(x);return K(_,"internal-error"),K(typeof _.exp<"u","internal-error"),K(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,y)}getToken(_,y=!1){var E=this;return(0,u.Z)(function*(){return K(!E.accessToken||E.refreshToken,_,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(_,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,y){var E=this;return(0,u.Z)(function*(){const{accessToken:T,refreshToken:O,expiresIn:X}=yield function ss(x,_){return zs.apply(this,arguments)}(_,y);E.updateTokensAndExpiration(T,O,Number(X))})()}updateTokensAndExpiration(_,y,E){this.refreshToken=y||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(_,y){const{refreshToken:E,accessToken:T,expirationTime:O}=y,X=new xi;return E&&(K("string"==typeof E,"internal-error",{appName:_}),X.refreshToken=E),T&&(K("string"==typeof T,"internal-error",{appName:_}),X.accessToken=T),O&&(K("number"==typeof O,"internal-error",{appName:_}),X.expirationTime=O),X}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new xi,this.toJSON())}_performRefresh(){return Pe("not implemented")}}function Ei(x,_){K("string"==typeof x||typeof x>"u","internal-error",{appName:_})}class Oi{constructor(_){var{uid:y,auth:E,stsTokenManager:T}=_,O=(0,ie._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Gn(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(_){var y=this;return(0,u.Z)(function*(){const E=yield on(y,y.stsTokenManager.getToken(y.auth,_));return K(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(_){return function tr(x){return js.apply(this,arguments)}(this,_)}reload(){return function Uo(x){return Ot.apply(this,arguments)}(this)}_assign(_){this!==_&&(K(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(y=>Object.assign({},y)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){const y=new Oi(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}));return y.metadata._copy(this.metadata),y}_onReload(_){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,y=!1){var E=this;return(0,u.Z)(function*(){let T=!1;_.idToken&&_.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(_),T=!0),y&&(yield no(E)),yield E.auth._persistUserIfCurrent(E),T&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var _=this;return(0,u.Z)(function*(){const y=yield _.getIdToken();return yield on(_,function cn(x,_){return Dn.apply(this,arguments)}(_.auth,{idToken:y})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,y){var E,T,O,X,pe,$e,Ye,ht;const Gt=null!==(E=y.displayName)&&void 0!==E?E:void 0,qi=null!==(T=y.email)&&void 0!==T?T:void 0,us=null!==(O=y.phoneNumber)&&void 0!==O?O:void 0,wo=null!==(X=y.photoURL)&&void 0!==X?X:void 0,dg=null!==(pe=y.tenantId)&&void 0!==pe?pe:void 0,bc=null!==($e=y._redirectEventId)&&void 0!==$e?$e:void 0,Oa=null!==(Ye=y.createdAt)&&void 0!==Ye?Ye:void 0,Na=null!==(ht=y.lastLoginAt)&&void 0!==ht?ht:void 0,{uid:od,emailVerified:wc,isAnonymous:ds,providerData:El,stsTokenManager:ia}=y;K(od&&ia,_,"internal-error");const xc=xi.fromJSON(this.name,ia);K("string"==typeof od,_,"internal-error"),Ei(Gt,_.name),Ei(qi,_.name),K("boolean"==typeof wc,_,"internal-error"),K("boolean"==typeof ds,_,"internal-error"),Ei(us,_.name),Ei(wo,_.name),Ei(dg,_.name),Ei(bc,_.name),Ei(Oa,_.name),Ei(Na,_.name);const ra=new Oi({uid:od,auth:_,email:qi,emailVerified:wc,displayName:Gt,isAnonymous:ds,photoURL:wo,phoneNumber:us,tenantId:dg,stsTokenManager:xc,createdAt:Oa,lastLoginAt:Na});return El&&Array.isArray(El)&&(ra.providerData=El.map(ad=>Object.assign({},ad))),bc&&(ra._redirectEventId=bc),ra}static _fromIdTokenResponse(_,y,E=!1){return(0,u.Z)(function*(){const T=new xi;T.updateFromServerResponse(y);const O=new Oi({uid:y.localId,auth:_,stsTokenManager:T,isAnonymous:E});return yield no(O),O})()}}const xr=new Map;function Pn(x){st(x instanceof Function,"Expected a class definition");let _=xr.get(x);return _?(st(_ instanceof x,"Instance stored in cache mismatched with class"),_):(_=new x,xr.set(x,_),_)}const jr=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(y,E){var T=this;return(0,u.Z)(function*(){T.storage[y]=E})()}_get(y){var E=this;return(0,u.Z)(function*(){const T=E.storage[y];return void 0===T?null:T})()}_remove(y){var E=this;return(0,u.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return x.type="NONE",x})();function Ss(x,_,y){return`firebase:${x}:${_}:${y}`}class W{constructor(_,y,E){this.persistence=_,this.auth=y,this.userKey=E;const{config:T,name:O}=this.auth;this.fullUserKey=Ss(this.userKey,T.apiKey,O),this.fullPersistenceKey=Ss("persistence",T.apiKey,O),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,u.Z)(function*(){const y=yield _.persistence._get(_.fullUserKey);return y?Oi._fromJSON(_.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var y=this;return(0,u.Z)(function*(){if(y.persistence===_)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=_,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,y,E="authUser"){return(0,u.Z)(function*(){if(!y.length)return new W(Pn(jr),_,E);const T=(yield Promise.all(y.map(function(){var Ye=(0,u.Z)(function*(ht){if(yield ht._isAvailable())return ht});return function(ht){return Ye.apply(this,arguments)}}()))).filter(Ye=>Ye);let O=T[0]||Pn(jr);const X=Ss(E,_.config.apiKey,_.name);let pe=null;for(const Ye of y)try{const ht=yield Ye._get(X);if(ht){const Gt=Oi._fromJSON(_,ht);Ye!==O&&(pe=Gt),O=Ye;break}}catch{}const $e=T.filter(Ye=>Ye._shouldAllowMigration);return O._shouldAllowMigration&&$e.length?(O=$e[0],pe&&(yield O._set(X,pe.toJSON())),yield Promise.all(y.map(function(){var Ye=(0,u.Z)(function*(ht){if(ht!==O)try{yield ht._remove(X)}catch{}});return function(ht){return Ye.apply(this,arguments)}}())),new W(O,_,E)):new W(O,_,E)})()}}function H(x){const _=x.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(ee(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(N(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Ge(_))return"Blackberry";if(It(_))return"Webos";if(F(_))return"Safari";if((_.includes("chrome/")||k(_))&&!_.includes("edge/"))return"Chrome";if(Ie(_))return"Android";{const E=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function N(x=(0,V.z$)()){return/firefox\//i.test(x)}function F(x=(0,V.z$)()){const _=x.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function k(x=(0,V.z$)()){return/crios\//i.test(x)}function ee(x=(0,V.z$)()){return/iemobile/i.test(x)}function Ie(x=(0,V.z$)()){return/android/i.test(x)}function Ge(x=(0,V.z$)()){return/blackberry/i.test(x)}function It(x=(0,V.z$)()){return/webos/i.test(x)}function Xe(x=(0,V.z$)()){return/iphone|ipad|ipod/i.test(x)||/macintosh/i.test(x)&&/mobile/i.test(x)}function en(x=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(x)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(x)}function Ft(x=(0,V.z$)()){return Xe(x)||Ie(x)||It(x)||Ge(x)||/windows phone/i.test(x)||ee(x)}function va(x,_=[]){let y;switch(x){case"Browser":y=H((0,V.z$)());break;case"Worker":y=`${H((0,V.z$)())}-${x}`;break;default:y=x}const E=_.length?_.join(","):"FirebaseCore-web";return`${y}/JsCore/${L.SDK_VERSION}/${E}`}function oe(){return(oe=(0,u.Z)(function*(x){return(yield _e(x,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fe(x,_){return ot.apply(this,arguments)}function ot(){return(ot=(0,u.Z)(function*(x,_){return _e(x,"GET","/v2/recaptchaConfig",ce(x,_))})).apply(this,arguments)}function Ke(x){return void 0!==x&&void 0!==x.getResponse}function Nt(x){return void 0!==x&&void 0!==x.enterprise}class sn{constructor(_){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===_.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=_.recaptchaKey.split("/")[3],this.emailPasswordEnabled=_.recaptchaEnforcementState.some(y=>"EMAIL_PASSWORD_PROVIDER"===y.provider&&"OFF"!==y.enforcementState)}}function Fn(x){return new Promise((_,y)=>{const E=document.createElement("script");E.setAttribute("src",x),E.onload=_,E.onerror=T=>{const O=ve("internal-error");O.customData=T,y(O)},E.type="text/javascript",E.charset="UTF-8",function di(){var x,_;return null!==(_=null===(x=document.getElementsByTagName("head"))||void 0===x?void 0:x[0])&&void 0!==_?_:document}().appendChild(E)})}function Hi(x){return`__${x}${Math.floor(1e6*Math.random())}`}class rl{constructor(_){this.type="recaptcha-enterprise",this.auth=Ln(_)}verify(_="verify",y=!1){var E=this;return(0,u.Z)(function*(){function O(){return O=(0,u.Z)(function*(pe){if(!y){if(null==pe.tenantId&&null!=pe._agentRecaptchaConfig)return pe._agentRecaptchaConfig.siteKey;if(null!=pe.tenantId&&void 0!==pe._tenantRecaptchaConfigs[pe.tenantId])return pe._tenantRecaptchaConfigs[pe.tenantId].siteKey}return new Promise(function(){var $e=(0,u.Z)(function*(Ye,ht){Fe(pe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Gt=>{if(void 0!==Gt.recaptchaKey){const qi=new sn(Gt);return null==pe.tenantId?pe._agentRecaptchaConfig=qi:pe._tenantRecaptchaConfigs[pe.tenantId]=qi,Ye(qi.siteKey)}ht(new Error("recaptcha Enterprise site key undefined"))}).catch(Gt=>{ht(Gt)})});return function(Ye,ht){return $e.apply(this,arguments)}}())}),O.apply(this,arguments)}function X(pe,$e,Ye){const ht=window.grecaptcha;Nt(ht)?ht.enterprise.ready(()=>{ht.enterprise.execute(pe,{action:_}).then(Gt=>{$e(Gt)}).catch(()=>{$e("NO_RECAPTCHA")})}):Ye(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((pe,$e)=>{(function T(pe){return O.apply(this,arguments)})(E.auth).then(Ye=>{if(!y&&Nt(window.grecaptcha))X(Ye,pe,$e);else{if(typeof window>"u")return void $e(new Error("RecaptchaVerifier is only supported in browser"));Fn("https://www.google.com/recaptcha/enterprise.js?render="+Ye).then(()=>{X(Ye,pe,$e)}).catch(ht=>{$e(ht)})}}).catch(Ye=>{$e(Ye)})})})()}}function ro(x,_,y){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,u.Z)(function*(x,_,y,E=!1){const T=new rl(x);let O;try{O=yield T.verify(y)}catch{O=yield T.verify(y,!0)}const X=Object.assign({},_);return Object.assign(X,E?{captchaResp:O}:{captchaResponse:O}),Object.assign(X,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(X,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),X})).apply(this,arguments)}class ec{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,y){const E=O=>new Promise((X,pe)=>{try{X(_(O))}catch($e){pe($e)}});E.onAbort=y,this.queue.push(E);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(_){var y=this;return(0,u.Z)(function*(){if(y.auth.currentUser===_)return;const E=[];try{for(const T of y.queue)yield T(_),T.onAbort&&E.push(T.onAbort)}catch(T){E.reverse();for(const O of E)try{O()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class Sm{constructor(_,y,E,T){this.app=_,this.heartbeatServiceProvider=y,this.appCheckServiceProvider=E,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mv(this),this.idTokenSubscription=new mv(this),this.beforeStateQueue=new ec(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Te,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(_,y){var E=this;return y&&(this._popupRedirectResolver=Pn(y)),this._initializationPromise=this.queue((0,u.Z)(function*(){var T,O;if(!E._deleted&&(E.persistenceManager=yield W.create(E,_),!E._deleted)){if(null!==(T=E._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(O=E.currentUser)||void 0===O?void 0:O.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,u.Z)(function*(){if(_._deleted)return;const y=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||y){if(_.currentUser&&y&&_.currentUser.uid===y.uid)return _._currentUser._assign(y),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(y,!0)}})()}initializeCurrentUser(_){var y=this;return(0,u.Z)(function*(){var E;const T=yield y.assertedPersistence.getCurrentUser();let O=T,X=!1;if(_&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const pe=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,$e=O?._redirectEventId,Ye=yield y.tryRedirectSignIn(_);(!pe||pe===$e)&&Ye?.user&&(O=Ye.user,X=!0)}if(!O)return y.directlySetCurrentUser(null);if(!O._redirectEventId){if(X)try{yield y.beforeStateQueue.runMiddleware(O)}catch(pe){O=T,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(pe))}return O?y.reloadAndSetCurrentUserOrClear(O):y.directlySetCurrentUser(null)}return K(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===O._redirectEventId?y.directlySetCurrentUser(O):y.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(_){var y=this;return(0,u.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,_,!0)}catch{yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(_){var y=this;return(0,u.Z)(function*(){try{yield no(_)}catch(E){if("auth/network-request-failed"!==E?.code)return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function gn(){if(typeof navigator>"u")return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var _=this;return(0,u.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var y=this;return(0,u.Z)(function*(){const E=_?(0,V.m9)(_):null;return E&&K(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(_,y=!1){var E=this;return(0,u.Z)(function*(){if(!E._deleted)return _&&K(E.tenantId===_.tenantId,E,"tenant-id-mismatch"),y||(yield E.beforeStateQueue.runMiddleware(_)),E.queue((0,u.Z)(function*(){yield E.directlySetCurrentUser(_),E.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,u.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var y=this;return this.queue((0,u.Z)(function*(){yield y.assertedPersistence.setPersistence(Pn(_))}))}initializeRecaptchaConfig(){var _=this;return(0,u.Z)(function*(){const y=yield Fe(_,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),E=new sn(y);null==_.tenantId?_._agentRecaptchaConfig=E:_._tenantRecaptchaConfigs[_.tenantId]=E,E.emailPasswordEnabled&&new rl(_).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new V.LL("auth","Firebase",_())}onAuthStateChanged(_,y,E){return this.registerStateListener(this.authStateSubscription,_,y,E)}beforeAuthStateChanged(_,y){return this.beforeStateQueue.pushCallback(_,y)}onIdTokenChanged(_,y,E){return this.registerStateListener(this.idTokenSubscription,_,y,E)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,y){var E=this;return(0,u.Z)(function*(){const T=yield E.getOrInitRedirectPersistenceManager(y);return null===_?T.removeCurrentUser():T.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var y=this;return(0,u.Z)(function*(){if(!y.redirectPersistenceManager){const E=_&&Pn(_)||y._popupRedirectResolver;K(E,y,"argument-error"),y.redirectPersistenceManager=yield W.create(y,[Pn(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(_){var y=this;return(0,u.Z)(function*(){var E,T;return y._isInitialized&&(yield y.queue((0,u.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===_?y._currentUser:(null===(T=y.redirectUser)||void 0===T?void 0:T._redirectEventId)===_?y.redirectUser:null})()}_persistUserIfCurrent(_){var y=this;return(0,u.Z)(function*(){if(_===y.currentUser)return y.queue((0,u.Z)(function*(){return y.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,y,E,T){if(this._deleted)return()=>{};const O="function"==typeof y?y:y.next.bind(y),X=this._isInitialized?Promise.resolve():this._initializationPromise;return K(X,this,"internal-error"),X.then(()=>O(this.currentUser)),"function"==typeof y?_.addObserver(y,E,T):_.addObserver(y)}directlySetCurrentUser(_){var y=this;return(0,u.Z)(function*(){y.currentUser&&y.currentUser!==_&&y._currentUser._stopProactiveRefresh(),_&&y.isProactiveRefreshEnabled&&_._startProactiveRefresh(),y.currentUser=_,_?yield y.assertedPersistence.setCurrentUser(_):yield y.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=va(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,u.Z)(function*(){var y;const E={"X-Client-Version":_.clientVersion};_.app.options.appId&&(E["X-Firebase-gmpid"]=_.app.options.appId);const T=yield null===(y=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();T&&(E["X-Firebase-Client"]=T);const O=yield _._getAppCheckToken();return O&&(E["X-Firebase-AppCheck"]=O),E})()}_getAppCheckToken(){var _=this;return(0,u.Z)(function*(){var y;const E=yield null===(y=_.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getToken();return E?.error&&function tt(x,..._){Ue.logLevel<=ye.in.WARN&&Ue.warn(`Auth (${L.SDK_VERSION}): ${x}`,..._)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Ln(x){return(0,V.m9)(x)}class mv{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,V.ne)(y=>this.observer=y)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Fh(x,_,y){const E=Ln(x);K(E._canInitEmulator,E,"emulator-config-failed"),K(/^https?:\/\//.test(_),E,"invalid-emulator-scheme");const T=!!y?.disableWarnings,O=Er(_),{host:X,port:pe}=function Su(x){const _=Er(x),y=/(\/\/)?([^?#/]+)/.exec(x.substr(_.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(E);if(T){const O=T[1];return{host:O,port:Du(E.substr(O.length+1))}}{const[O,X]=E.split(":");return{host:O,port:Du(X)}}}(_);E.config.emulator={url:`${O}//${X}${null===pe?"":`:${pe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:X,port:pe,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function _v(){function x(){const _=document.createElement("p"),y=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",x):x())}()}function Er(x){const _=x.indexOf(":");return _<0?"":x.substr(0,_+1)}function Du(x){if(!x)return null;const _=Number(x);return isNaN(_)?null:_}class nc{constructor(_,y){this.providerId=_,this.signInMethod=y}toJSON(){return Pe("not implemented")}_getIdTokenResponse(_){return Pe("not implemented")}_linkToIdToken(_,y){return Pe("not implemented")}_getReauthenticationResolver(_){return Pe("not implemented")}}function Lh(x,_){return Bh.apply(this,arguments)}function Bh(){return(Bh=(0,u.Z)(function*(x,_){return _e(x,"POST","/v1/accounts:resetPassword",ce(x,_))})).apply(this,arguments)}function ic(x,_){return Au.apply(this,arguments)}function Au(){return(Au=(0,u.Z)(function*(x,_){return _e(x,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function zr(){return(zr=(0,u.Z)(function*(x,_){return _e(x,"POST","/v1/accounts:update",ce(x,_))})).apply(this,arguments)}function Tu(x,_){return Vh.apply(this,arguments)}function Vh(){return(Vh=(0,u.Z)(function*(x,_){return $t(x,"POST","/v1/accounts:signInWithPassword",ce(x,_))})).apply(this,arguments)}function Mu(x,_){return Uh.apply(this,arguments)}function Uh(){return(Uh=(0,u.Z)(function*(x,_){return _e(x,"POST","/v1/accounts:sendOobCode",ce(x,_))})).apply(this,arguments)}function zh(){return(zh=(0,u.Z)(function*(x,_){return Mu(x,_)})).apply(this,arguments)}function Ru(x,_){return ku.apply(this,arguments)}function ku(){return(ku=(0,u.Z)(function*(x,_){return Mu(x,_)})).apply(this,arguments)}function Ou(x,_){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,u.Z)(function*(x,_){return Mu(x,_)})).apply(this,arguments)}function Pi(){return(Pi=(0,u.Z)(function*(x,_){return Mu(x,_)})).apply(this,arguments)}function rr(){return(rr=(0,u.Z)(function*(x,_){return $t(x,"POST","/v1/accounts:signInWithEmailLink",ce(x,_))})).apply(this,arguments)}function Nu(){return(Nu=(0,u.Z)(function*(x,_){return $t(x,"POST","/v1/accounts:signInWithEmailLink",ce(x,_))})).apply(this,arguments)}class jo extends nc{constructor(_,y,E,T=null){super("password",E),this._email=_,this._password=y,this._tenantId=T}static _fromEmailAndPassword(_,y){return new jo(_,y,"password")}static _fromEmailAndCode(_,y,E=null){return new jo(_,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(_){var y=this;return(0,u.Z)(function*(){var E;switch(y.signInMethod){case"password":const T={returnSecureToken:!0,email:y._email,password:y._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=_._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const O=yield ro(_,T,"signInWithPassword");return Tu(_,O)}return Tu(_,T).catch(function(){var O=(0,u.Z)(function*(X){if("auth/missing-recaptcha-token"===X.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const pe=yield ro(_,T,"signInWithPassword");return Tu(_,pe)}return Promise.reject(X)});return function(X){return O.apply(this,arguments)}}());case"emailLink":return function sl(x,_){return rr.apply(this,arguments)}(_,{email:y._email,oobCode:y._password});default:J(_,"internal-error")}})()}_linkToIdToken(_,y){var E=this;return(0,u.Z)(function*(){switch(E.signInMethod){case"password":return ic(_,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Dm(x,_){return Nu.apply(this,arguments)}(_,{idToken:y,email:E._email,oobCode:E._password});default:J(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function so(x,_){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,u.Z)(function*(x,_){return $t(x,"POST","/v1/accounts:signInWithIdp",ce(x,_))})).apply(this,arguments)}class We extends nc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const y=new We(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(y.idToken=_.idToken),_.accessToken&&(y.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(y.nonce=_.nonce),_.pendingToken&&(y.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(y.accessToken=_.oauthToken,y.secret=_.oauthTokenSecret):J("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:E,signInMethod:T}=y,O=(0,ie._T)(y,["providerId","signInMethod"]);if(!E||!T)return null;const X=new We(E,T);return X.idToken=O.idToken||void 0,X.accessToken=O.accessToken||void 0,X.secret=O.secret,X.nonce=O.nonce,X.pendingToken=O.pendingToken||null,X}_getIdTokenResponse(_){return so(_,this.buildRequest())}_linkToIdToken(_,y){const E=this.buildRequest();return E.idToken=y,so(_,E)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,so(_,y)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),_.postBody=(0,V.xO)(y)}return _}}function bn(){return(bn=(0,u.Z)(function*(x,_){return _e(x,"POST","/v1/accounts:sendVerificationCode",ce(x,_))})).apply(this,arguments)}function oo(){return(oo=(0,u.Z)(function*(x,_){return $t(x,"POST","/v1/accounts:signInWithPhoneNumber",ce(x,_))})).apply(this,arguments)}function ba(){return(ba=(0,u.Z)(function*(x,_){const y=yield $t(x,"POST","/v1/accounts:signInWithPhoneNumber",ce(x,_));if(y.temporaryProof)throw Mt(x,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Mn={USER_NOT_FOUND:"user-not-found"};function zo(){return(zo=(0,u.Z)(function*(x,_){return $t(x,"POST","/v1/accounts:signInWithPhoneNumber",ce(x,Object.assign(Object.assign({},_),{operation:"REAUTH"})),Mn)})).apply(this,arguments)}class xt extends nc{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,y){return new xt({verificationId:_,verificationCode:y})}static _fromTokenResponse(_,y){return new xt({phoneNumber:_,temporaryProof:y})}_getIdTokenResponse(_){return function Hr(x,_){return oo.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,y){return function sr(x,_){return ba.apply(this,arguments)}(_,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function ao(x,_){return zo.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:y,verificationId:E,verificationCode:T}=this.params;return _&&y?{temporaryProof:_,phoneNumber:y}:{sessionInfo:E,code:T}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:y,verificationCode:E,phoneNumber:T,temporaryProof:O}=_;return E||y||T||O?new xt({verificationId:y,verificationCode:E,phoneNumber:T,temporaryProof:O}):null}}class hi{constructor(_){var y,E,T,O,X,pe;const $e=(0,V.zd)((0,V.pd)(_)),Ye=null!==(y=$e.apiKey)&&void 0!==y?y:null,ht=null!==(E=$e.oobCode)&&void 0!==E?E:null,Gt=function rc(x){switch(x){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=$e.mode)&&void 0!==T?T:null);K(Ye&&ht&&Gt,"argument-error"),this.apiKey=Ye,this.operation=Gt,this.code=ht,this.continueUrl=null!==(O=$e.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(X=$e.languageCode)&&void 0!==X?X:null,this.tenantId=null!==(pe=$e.tenantId)&&void 0!==pe?pe:null}static parseLink(_){const y=function $s(x){const _=(0,V.zd)((0,V.pd)(x)).link,y=_?(0,V.zd)((0,V.pd)(_)).deep_link_id:null,E=(0,V.zd)((0,V.pd)(x)).deep_link_id;return(E?(0,V.zd)((0,V.pd)(E)).link:null)||E||y||_||x}(_);try{return new hi(y)}catch{return null}}}let ol=(()=>{class x{constructor(){this.providerId=x.PROVIDER_ID}static credential(y,E){return jo._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const T=hi.parseLink(E);return K(T,"argument-error"),jo._fromEmailAndCode(y,T.code,T.tenantId)}}return x.PROVIDER_ID="password",x.EMAIL_PASSWORD_SIGN_IN_METHOD="password",x.EMAIL_LINK_SIGN_IN_METHOD="emailLink",x})();class $r{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class or extends $r{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class lo extends or{static credentialFromJSON(_){const y="string"==typeof _?JSON.parse(_):_;return K("providerId"in y&&"signInMethod"in y,"argument-error"),We._fromParams(y)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return K(_.idToken||_.accessToken,"argument-error"),We._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return lo.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return lo.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:T,pendingToken:O,nonce:X,providerId:pe}=_;if(!E&&!T&&!y&&!O||!pe)return null;try{return new lo(pe)._credential({idToken:y,accessToken:E,nonce:X,pendingToken:O})}catch{return null}}}let Am=(()=>{class x extends or{constructor(){super("facebook.com")}static credential(y){return We._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return x.credential(y.oauthAccessToken)}catch{return null}}}return x.FACEBOOK_SIGN_IN_METHOD="facebook.com",x.PROVIDER_ID="facebook.com",x})(),wa=(()=>{class x extends or{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return We._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:T}=y;if(!E&&!T)return null;try{return x.credential(E,T)}catch{return null}}}return x.GOOGLE_SIGN_IN_METHOD="google.com",x.PROVIDER_ID="google.com",x})(),Gs=(()=>{class x extends or{constructor(){super("github.com")}static credential(y){return We._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return x.credential(y.oauthAccessToken)}catch{return null}}}return x.GITHUB_SIGN_IN_METHOD="github.com",x.PROVIDER_ID="github.com",x})();class os extends nc{constructor(_,y){super(_,_),this.pendingToken=y}_getIdTokenResponse(_){return so(_,this.buildRequest())}_linkToIdToken(_,y){const E=this.buildRequest();return E.idToken=y,so(_,E)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,so(_,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:E,signInMethod:T,pendingToken:O}=y;return E&&T&&O&&E===T?new os(E,O):null}static _create(_,y){return new os(_,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class $h extends $r{constructor(_){K(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return $h.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return $h.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const y=os.fromJSON(_);return K(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:y,providerId:E}=_;if(!y||!E)return null;try{return os._create(E,y)}catch{return null}}}let Gh=(()=>{class x extends or{constructor(){super("twitter.com")}static credential(y,E){return We._fromParams({providerId:x.PROVIDER_ID,signInMethod:x.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:T}=y;if(!E||!T)return null;try{return x.credential(E,T)}catch{return null}}}return x.TWITTER_SIGN_IN_METHOD="twitter.com",x.PROVIDER_ID="twitter.com",x})();function sc(x,_){return ar.apply(this,arguments)}function ar(){return(ar=(0,u.Z)(function*(x,_){return $t(x,"POST","/v1/accounts:signUp",ce(x,_))})).apply(this,arguments)}class lr{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,y,E,T=!1){return(0,u.Z)(function*(){const O=yield Oi._fromIdTokenResponse(_,E,T),X=al(E);return new lr({user:O,providerId:X,_tokenResponse:E,operationType:y})})()}static _forOperation(_,y,E){return(0,u.Z)(function*(){yield _._updateTokensIfNecessary(E,!0);const T=al(E);return new lr({user:_,providerId:T,_tokenResponse:E,operationType:y})})()}}function al(x){return x.providerId?x.providerId:"phoneNumber"in x?"phone":null}function oc(x){return pi.apply(this,arguments)}function pi(){return(pi=(0,u.Z)(function*(x){var _;const y=Ln(x);if(yield y._initializationPromise,null!==(_=y.currentUser)&&void 0!==_&&_.isAnonymous)return new lr({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield sc(y,{returnSecureToken:!0}),T=yield lr._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(T.user),T})).apply(this,arguments)}class Tm extends V.ZR{constructor(_,y,E,T){var O;super(y.code,y.message),this.operationType=E,this.user=T,Object.setPrototypeOf(this,Tm.prototype),this.customData={appName:_.name,tenantId:null!==(O=_.tenantId)&&void 0!==O?O:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(_,y,E,T){return new Tm(_,y,E,T)}}function Cr(x,_,y,E){return("reauthenticate"===_?y._getReauthenticationResolver(x):y._getIdTokenResponse(x)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Tm._fromErrorAndOperation(x,O,_,E):O})}function $i(x){return new Set(x.map(({providerId:_})=>_).filter(_=>!!_))}function Wh(x,_){return co.apply(this,arguments)}function co(){return co=(0,u.Z)(function*(x,_){const y=(0,V.m9)(x);yield ll(!0,y,_);const{providerUserInfo:E}=yield function hn(x,_){return Hn.apply(this,arguments)}(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[_]}),T=$i(E||[]);return y.providerData=y.providerData.filter(O=>T.has(O.providerId)),T.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y}),co.apply(this,arguments)}function ac(x,_){return as.apply(this,arguments)}function as(){return(as=(0,u.Z)(function*(x,_,y=!1){const E=yield on(x,_._linkToIdToken(x.auth,yield x.getIdToken()),y);return lr._forOperation(x,"link",E)})).apply(this,arguments)}function ll(x,_,y){return qh.apply(this,arguments)}function qh(){return(qh=(0,u.Z)(function*(x,_,y){yield no(_);const T=!1===x?"provider-already-linked":"no-such-provider";K($i(_.providerData).has(y)===x,_.auth,T)})).apply(this,arguments)}function Mm(x,_){return yv.apply(this,arguments)}function yv(){return(yv=(0,u.Z)(function*(x,_,y=!1){const{auth:E}=x,T="reauthenticate";try{const O=yield on(x,Cr(E,T,_,x),y);K(O.idToken,E,"internal-error");const X=Rt(O.idToken);K(X,E,"internal-error");const{sub:pe}=X;return K(x.uid===pe,E,"user-mismatch"),lr._forOperation(x,T,O)}catch(O){throw"auth/user-not-found"===O?.code&&J(E,"user-mismatch"),O}})).apply(this,arguments)}function vv(x,_){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,u.Z)(function*(x,_,y=!1){const E="signIn",T=yield Cr(x,E,_),O=yield lr._fromIdTokenResponse(x,E,T);return y||(yield x._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Kh(x,_){return Rm.apply(this,arguments)}function Rm(){return(Rm=(0,u.Z)(function*(x,_){return vv(Ln(x),_)})).apply(this,arguments)}function dC(x,_){return bv.apply(this,arguments)}function bv(){return(bv=(0,u.Z)(function*(x,_){const y=(0,V.m9)(x);return yield ll(!1,y,_.providerId),ac(y,_)})).apply(this,arguments)}function Bn(x,_){return wv.apply(this,arguments)}function wv(){return(wv=(0,u.Z)(function*(x,_){return Mm((0,V.m9)(x),_)})).apply(this,arguments)}function xv(){return(xv=(0,u.Z)(function*(x,_){return $t(x,"POST","/v1/accounts:signInWithCustomToken",ce(x,_))})).apply(this,arguments)}function pR(x,_){return Ev.apply(this,arguments)}function Ev(){return Ev=(0,u.Z)(function*(x,_){const y=Ln(x),E=yield function fR(x,_){return xv.apply(this,arguments)}(y,{token:_,returnSecureToken:!0}),T=yield lr._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(T.user),T}),Ev.apply(this,arguments)}class Zh{constructor(_,y){this.factorId=_,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(_,y){return"phoneInfo"in y?Cv._fromServerResponse(_,y):"totpInfo"in y?Fu._fromServerResponse(_,y):J(_,"internal-error")}}class Cv extends Zh{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,y){return new Cv(y)}}class Fu extends Zh{constructor(_){super("totp",_)}static _fromServerResponse(_,y){return new Fu(y)}}function cl(x,_,y){var E;K((null===(E=y.url)||void 0===E?void 0:E.length)>0,x,"invalid-continue-uri"),K(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,x,"invalid-dynamic-link-domain"),_.continueUrl=y.url,_.dynamicLinkDomain=y.dynamicLinkDomain,_.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(K(y.iOS.bundleId.length>0,x,"missing-ios-bundle-id"),_.iOSBundleId=y.iOS.bundleId),y.android&&(K(y.android.packageName.length>0,x,"missing-android-pkg-name"),_.androidInstallApp=y.android.installApp,_.androidMinimumVersionCode=y.android.minimumVersion,_.androidPackageName=y.android.packageName)}function mR(x,_,y){return Iv.apply(this,arguments)}function Iv(){return Iv=(0,u.Z)(function*(x,_,y){var E;const T=Ln(x),O={requestType:"PASSWORD_RESET",email:_,clientType:"CLIENT_TYPE_WEB"};if(null!==(E=T._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const X=yield ro(T,O,"getOobCode",!0);y&&cl(T,X,y),yield Ru(T,X)}else y&&cl(T,O,y),yield Ru(T,O).catch(function(){var X=(0,u.Z)(function*(pe){if("auth/missing-recaptcha-token"!==pe.code)return Promise.reject(pe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const $e=yield ro(T,O,"getOobCode",!0);y&&cl(T,$e,y),yield Ru(T,$e)}});return function(pe){return X.apply(this,arguments)}}())}),Iv.apply(this,arguments)}function Sv(x,_,y){return uo.apply(this,arguments)}function uo(){return(uo=(0,u.Z)(function*(x,_,y){yield Lh((0,V.m9)(x),{oobCode:_,newPassword:y})})).apply(this,arguments)}function Ho(x,_){return Lu.apply(this,arguments)}function Lu(){return Lu=(0,u.Z)(function*(x,_){yield function uC(x,_){return zr.apply(this,arguments)}((0,V.m9)(x),{oobCode:_})}),Lu.apply(this,arguments)}function lc(x,_){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,u.Z)(function*(x,_){const y=(0,V.m9)(x),E=yield Lh(y,{oobCode:_}),T=E.requestType;switch(K(T,y,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":K(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":K(E.mfaInfo,y,"internal-error");default:K(E.email,y,"internal-error")}let O=null;return E.mfaInfo&&(O=Zh._fromServerResponse(Ln(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:O},operation:T}})).apply(this,arguments)}function Qh(x,_){return cr.apply(this,arguments)}function cr(){return(cr=(0,u.Z)(function*(x,_){const{data:y}=yield lc((0,V.m9)(x),_);return y.email})).apply(this,arguments)}function Xh(x,_,y){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,u.Z)(function*(x,_,y){var E;const T=Ln(x),O={returnSecureToken:!0,email:_,password:y,clientType:"CLIENT_TYPE_WEB"};let X;if(null!==(E=T._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const Ye=yield ro(T,O,"signUpPassword");X=sc(T,Ye)}else X=sc(T,O).catch(function(){var Ye=(0,u.Z)(function*(ht){if("auth/missing-recaptcha-token"===ht.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Gt=yield ro(T,O,"signUpPassword");return sc(T,Gt)}return Promise.reject(ht)});return function(ht){return Ye.apply(this,arguments)}}());const pe=yield X.catch(Ye=>Promise.reject(Ye)),$e=yield lr._fromIdTokenResponse(T,"signIn",pe);return yield T._updateCurrentUser($e.user),$e}),Jh.apply(this,arguments)}function Dv(x,_,y){return Kh((0,V.m9)(x),ol.credential(_,y))}function km(x,_,y){return ul.apply(this,arguments)}function ul(){return ul=(0,u.Z)(function*(x,_,y){var E;const T=Ln(x),O={requestType:"EMAIL_SIGNIN",email:_,clientType:"CLIENT_TYPE_WEB"};function X(pe,$e){K($e.handleCodeInApp,T,"argument-error"),$e&&cl(T,pe,$e)}if(null!==(E=T._getRecaptchaConfig())&&void 0!==E&&E.emailPasswordEnabled){const pe=yield ro(T,O,"getOobCode",!0);X(pe,y),yield Ou(T,pe)}else X(O,y),yield Ou(T,O).catch(function(){var pe=(0,u.Z)(function*($e){if("auth/missing-recaptcha-token"!==$e.code)return Promise.reject($e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ye=yield ro(T,O,"getOobCode",!0);X(Ye,y),yield Ou(T,Ye)}});return function($e){return pe.apply(this,arguments)}}())}),ul.apply(this,arguments)}function Av(x,_){const y=hi.parseLink(_);return"EMAIL_SIGNIN"===y?.operation}function Om(x,_,y){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,u.Z)(function*(x,_,y){const E=(0,V.m9)(x),T=ol.credentialWithLink(_,y||Et());return K(T._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Kh(E,T)})).apply(this,arguments)}function ef(){return(ef=(0,u.Z)(function*(x,_){return _e(x,"POST","/v1/accounts:createAuthUri",ce(x,_))})).apply(this,arguments)}function Mv(x,_){return cc.apply(this,arguments)}function cc(){return cc=(0,u.Z)(function*(x,_){const E={identifier:_,continueUri:Sn()?Et():"http://localhost"},{signinMethods:T}=yield function Tv(x,_){return ef.apply(this,arguments)}((0,V.m9)(x),E);return T||[]}),cc.apply(this,arguments)}function Vu(x,_){return $o.apply(this,arguments)}function $o(){return $o=(0,u.Z)(function*(x,_){const y=(0,V.m9)(x),T={requestType:"VERIFY_EMAIL",idToken:yield x.getIdToken()};_&&cl(y.auth,T,_);const{email:O}=yield function jh(x,_){return zh.apply(this,arguments)}(y.auth,T);O!==x.email&&(yield x.reload())}),$o.apply(this,arguments)}function Rv(x,_,y){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,u.Z)(function*(x,_,y){const E=(0,V.m9)(x),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield x.getIdToken(),newEmail:_};y&&cl(E.auth,O,y);const{email:X}=yield function Ni(x,_){return Pi.apply(this,arguments)}(E.auth,O);X!==x.email&&(yield x.reload())}),Nm.apply(this,arguments)}function kv(){return(kv=(0,u.Z)(function*(x,_){return _e(x,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function fC(x,_){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,u.Z)(function*(x,{displayName:_,photoURL:y}){if(void 0===_&&void 0===y)return;const E=(0,V.m9)(x),O={idToken:yield E.getIdToken(),displayName:_,photoUrl:y,returnSecureToken:!0},X=yield on(E,function hC(x,_){return kv.apply(this,arguments)}(E.auth,O));E.displayName=X.displayName||null,E.photoURL=X.photoUrl||null;const pe=E.providerData.find(({providerId:$e})=>"password"===$e);pe&&(pe.displayName=E.displayName,pe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(X)}),Pm.apply(this,arguments)}function gR(x,_){return tf((0,V.m9)(x),_,null)}function Ov(x,_){return tf((0,V.m9)(x),null,_)}function tf(x,_,y){return Fm.apply(this,arguments)}function Fm(){return(Fm=(0,u.Z)(function*(x,_,y){const{auth:E}=x,O={idToken:yield x.getIdToken(),returnSecureToken:!0};_&&(O.email=_),y&&(O.password=y);const X=yield on(x,ic(E,O));yield x._updateTokensIfNecessary(X,!0)})).apply(this,arguments)}class Uu{constructor(_,y,E={}){this.isNewUser=_,this.providerId=y,this.profile=E}}class pC extends Uu{constructor(_,y,E,T){super(_,y,E),this.username=T}}class ju extends Uu{constructor(_,y){super(_,"facebook.com",y)}}class Nv extends pC{constructor(_,y){super(_,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Bm extends Uu{constructor(_,y){super(_,"google.com",y)}}class nf extends pC{constructor(_,y,E){super(_,"twitter.com",y,E)}}function uc(x){const{user:_,_tokenResponse:y}=x;return _.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Lm(x){var _,y;if(!x)return null;const{providerId:E}=x,T=x.rawUserInfo?JSON.parse(x.rawUserInfo):{},O=x.isNewUser||"identitytoolkit#SignupNewUserResponse"===x.kind;if(!E&&x?.idToken){const X=null===(y=null===(_=Rt(x.idToken))||void 0===_?void 0:_.firebase)||void 0===y?void 0:y.sign_in_provider;if(X)return new Uu(O,"anonymous"!==X&&"custom"!==X?X:null)}if(!E)return null;switch(E){case"facebook.com":return new ju(O,T);case"github.com":return new Nv(O,T);case"google.com":return new Bm(O,T);case"twitter.com":return new nf(O,T,x.screenName||null);case"custom":case"anonymous":return new Uu(O,null);default:return new Uu(O,E,T)}}(y)}function Vm(x,_,y,E){return(0,V.m9)(x).onIdTokenChanged(_,y,E)}function Pv(x,_,y,E){return(0,V.m9)(x).onAuthStateChanged(_,y,E)}class ho{constructor(_,y,E){this.type=_,this.credential=y,this.auth=E}static _fromIdtoken(_,y){return new ho("enroll",_,y)}static _fromMfaPendingCredential(_){return new ho("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var y,E;if(_?.multiFactorSession){if(null!==(y=_.multiFactorSession)&&void 0!==y&&y.pendingCredential)return ho._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null!==(E=_.multiFactorSession)&&void 0!==E&&E.idToken)return ho._fromIdtoken(_.multiFactorSession.idToken)}return null}}class dl{constructor(_,y,E){this.session=_,this.hints=y,this.signInResolver=E}static _fromError(_,y){const E=Ln(_),T=y.customData._serverResponse,O=(T.mfaInfo||[]).map(pe=>Zh._fromServerResponse(E,pe));K(T.mfaPendingCredential,E,"internal-error");const X=ho._fromMfaPendingCredential(T.mfaPendingCredential);return new dl(X,O,function(){var pe=(0,u.Z)(function*($e){const Ye=yield $e._process(E,X);delete T.mfaInfo,delete T.mfaPendingCredential;const ht=Object.assign(Object.assign({},T),{idToken:Ye.idToken,refreshToken:Ye.refreshToken});switch(y.operationType){case"signIn":const Gt=yield lr._fromIdTokenResponse(E,y.operationType,ht);return yield E._updateCurrentUser(Gt.user),Gt;case"reauthenticate":return K(y.user,E,"internal-error"),lr._forOperation(y.user,y.operationType,ht);default:J(E,"internal-error")}});return function($e){return pe.apply(this,arguments)}}())}resolveSignIn(_){var y=this;return(0,u.Z)(function*(){return y.signInResolver(_)})()}}function lf(x,_){var y;const E=(0,V.m9)(x),T=_;return K(_.customData.operationType,E,"argument-error"),K(null===(y=T.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),dl._fromError(E,T)}class Hu{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>Zh._fromServerResponse(_.auth,E)))})}static _fromUser(_){return new Hu(_)}getSession(){var _=this;return(0,u.Z)(function*(){return ho._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,y){var E=this;return(0,u.Z)(function*(){const T=_,O=yield E.getSession(),X=yield on(E.user,T._process(E.user.auth,O,y));return yield E.user._updateTokensIfNecessary(X),E.user.reload()})()}unenroll(_){var y=this;return(0,u.Z)(function*(){const E="string"==typeof _?_:_.uid,T=yield y.user.getIdToken();try{const O=yield on(y.user,function jm(x,_){return _e(x,"POST","/v2/accounts/mfaEnrollment:withdraw",ce(x,_))}(y.user.auth,{idToken:T,mfaEnrollmentId:E}));y.enrolledFactors=y.enrolledFactors.filter(({uid:X})=>X!==E),yield y.user._updateTokensIfNecessary(O),yield y.user.reload()}catch(O){throw O}})()}}const fn=new WeakMap;function dc(x){const _=(0,V.m9)(x);return fn.has(_)||fn.set(_,Hu._fromUser(_)),fn.get(_)}const fo="__sak";class ur{constructor(_,y){this.storageRetriever=_,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(fo,"1"),this.storage.removeItem(fo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,y){return this.storage.setItem(_,JSON.stringify(y)),Promise.resolve()}_get(_){const y=this.storage.getItem(_);return Promise.resolve(y?JSON.parse(y):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const df=(()=>{class x extends ur{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _C(){const x=(0,V.z$)();return F(x)||Xe(x)}()&&function ir(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ft(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const T=this.storage.getItem(E),O=this.localCache[E];T!==O&&y(E,O,T)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((pe,$e,Ye)=>{this.notifyListeners(pe,Ye)});const T=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const pe=this.storage.getItem(T);if(y.newValue!==pe)null!==y.newValue?this.storage.setItem(T,y.newValue):this.storage.removeItem(T);else if(this.localCache[T]===y.newValue&&!E)return}const O=()=>{const pe=this.storage.getItem(T);!E&&this.localCache[T]===pe||this.notifyListeners(T,pe)},X=this.storage.getItem(T);!function _n(){return(0,V.w1)()&&10===document.documentMode}()||X===y.newValue||y.newValue===y.oldValue?O():setTimeout(O,10)}notifyListeners(y,E){this.localCache[y]=E;const T=this.listeners[y];if(T)for(const O of Array.from(T))O(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var T=()=>super._set,O=this;return(0,u.Z)(function*(){yield T().call(O,y,E),O.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,T=this;return(0,u.Z)(function*(){const O=yield E().call(T,y);return T.localCache[y]=JSON.stringify(O),O})()}_remove(y){var E=()=>super._remove,T=this;return(0,u.Z)(function*(){yield E().call(T,y),delete T.localCache[y]})()}}return x.type="LOCAL",x})(),$u=(()=>{class x extends ur{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return x.type="SESSION",x})();let zm=(()=>{class x{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(O=>O.isListeningto(y));if(E)return E;const T=new x(y);return this.receivers.push(T),T}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,u.Z)(function*(){const T=y,{eventId:O,eventType:X,data:pe}=T.data,$e=E.handlersMap[X];if(!$e?.size)return;T.ports[0].postMessage({status:"ack",eventId:O,eventType:X});const Ye=Array.from($e).map(function(){var Gt=(0,u.Z)(function*(qi){return qi(T.origin,pe)});return function(qi){return Gt.apply(this,arguments)}}()),ht=yield function Go(x){return Promise.all(x.map(function(){var _=(0,u.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return _.apply(this,arguments)}}()))}(Ye);T.ports[0].postMessage({status:"done",eventId:O,eventType:X,response:ht})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return x.receivers=[],x})();function hc(x="",_=10){let y="";for(let E=0;E<_;E++)y+=Math.floor(10*Math.random());return x+y}class Vv{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,y,E=50){var T=this;return(0,u.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let X,pe;return new Promise(($e,Ye)=>{const ht=hc("",20);O.port1.start();const Gt=setTimeout(()=>{Ye(new Error("unsupported_event"))},E);pe={messageChannel:O,onMessage(qi){const us=qi;if(us.data.eventId===ht)switch(us.data.status){case"ack":clearTimeout(Gt),X=setTimeout(()=>{Ye(new Error("timeout"))},3e3);break;case"done":clearTimeout(X),$e(us.data.response);break;default:clearTimeout(Gt),clearTimeout(X),Ye(new Error("invalid_response"))}}},T.handlers.add(pe),O.port1.addEventListener("message",pe.onMessage),T.target.postMessage({eventType:_,eventId:ht,data:y},[O.port2])}).finally(()=>{pe&&T.removeMessageHandler(pe)})})()}}function ii(){return window}function Hm(){return typeof ii().WorkerGlobalScope<"u"&&"function"==typeof ii().importScripts}function Gu(){return(Gu=(0,u.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Gm="firebaseLocalStorageDb",fl="firebaseLocalStorage",Wo="fbase_key";class pl{constructor(_){this.request=_}toPromise(){return new Promise((_,y)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ff(x,_){return x.transaction([fl],_?"readwrite":"readonly").objectStore(fl)}function Wm(){const x=indexedDB.open(Gm,1);return new Promise((_,y)=>{x.addEventListener("error",()=>{y(x.error)}),x.addEventListener("upgradeneeded",()=>{const E=x.result;try{E.createObjectStore(fl,{keyPath:Wo})}catch(T){y(T)}}),x.addEventListener("success",(0,u.Z)(function*(){const E=x.result;E.objectStoreNames.contains(fl)?_(E):(E.close(),yield function jv(){const x=indexedDB.deleteDatabase(Gm);return new pl(x).toPromise()}(),_(yield Wm()))}))})}function qm(x,_,y){return Me.apply(this,arguments)}function Me(){return(Me=(0,u.Z)(function*(x,_,y){const E=ff(x,!0).put({[Wo]:_,value:y});return new pl(E).toPromise()})).apply(this,arguments)}function Ds(){return(Ds=(0,u.Z)(function*(x,_){const y=ff(x,!1).get(_),E=yield new pl(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function pf(x,_){const y=ff(x,!0).delete(_);return new pl(y).toPromise()}const qs=(()=>{class x{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,u.Z)(function*(){return y.db||(y.db=yield Wm()),y.db})()}_withRetries(y){var E=this;return(0,u.Z)(function*(){let T=0;for(;;)try{const O=yield E._openDb();return yield y(O)}catch(O){if(T++>3)throw O;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,u.Z)(function*(){return Hm()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,u.Z)(function*(){y.receiver=zm._getInstance(function $m(){return Hm()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,u.Z)(function*(T,O){return{keyProcessed:(yield y._poll()).includes(O.key)}});return function(T,O){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,u.Z)(function*(T,O){return["keyChanged"]});return function(T,O){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,u.Z)(function*(){var E,T;if(y.activeServiceWorker=yield function Dt(){return Gu.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Vv(y.activeServiceWorker);const O=yield y.sender._send("ping",{},800);O&&null!==(E=O[0])&&void 0!==E&&E.fulfilled&&null!==(T=O[0])&&void 0!==T&&T.value.includes("keyChanged")&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,u.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function vC(){var x;return(null===(x=navigator?.serviceWorker)||void 0===x?void 0:x.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Wm();return yield qm(y,fo,"1"),yield pf(y,fo),!0}catch{}return!1})()}_withPendingWrite(y){var E=this;return(0,u.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var T=this;return(0,u.Z)(function*(){return T._withPendingWrite((0,u.Z)(function*(){return yield T._withRetries(O=>qm(O,y,E)),T.localCache[y]=E,T.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,u.Z)(function*(){const T=yield E._withRetries(O=>function Qt(x,_){return Ds.apply(this,arguments)}(O,y));return E.localCache[y]=T,T})()}_remove(y){var E=this;return(0,u.Z)(function*(){return E._withPendingWrite((0,u.Z)(function*(){return yield E._withRetries(T=>pf(T,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,u.Z)(function*(){const E=yield y._withRetries(X=>{const pe=ff(X,!1).getAll();return new pl(pe).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const T=[],O=new Set;for(const{fbase_key:X,value:pe}of E)O.add(X),JSON.stringify(y.localCache[X])!==JSON.stringify(pe)&&(y.notifyListeners(X,pe),T.push(X));for(const X of Object.keys(y.localCache))y.localCache[X]&&!O.has(X)&&(y.notifyListeners(X,null),T.push(X));return T})()}notifyListeners(y,E){this.localCache[y]=E;const T=this.listeners[y];if(T)for(const O of Array.from(T))O(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return x.type="LOCAL",x})(),Li=1e12;class qo{constructor(_){this.auth=_,this.counter=Li,this._widgets=new Map}render(_,y){const E=this.counter;return this._widgets.set(E,new $v(_,this.auth.name,y||{})),this.counter++,E}reset(_){var y;const E=_||Li;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(_){var y;return(null===(y=this._widgets.get(_||Li))||void 0===y?void 0:y.getResponse())||""}execute(_){var y=this;return(0,u.Z)(function*(){var E;return null===(E=y._widgets.get(_||Li))||void 0===E||E.execute(),""})()}}class $v{constructor(_,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof _?document.getElementById(_):_;K(T,"argument-error",{appName:y}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pc(x){const _=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<x;E++)_.push(y.charAt(Math.floor(62*Math.random())));return _.join("")}(50);const{callback:_,"expired-callback":y}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sr=Hi("rcb"),Gv=new zi(3e4,6e4);class Zm{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(_=ii().grecaptcha)||void 0===_||!_.render)}load(_,y=""){return K(function bC(x){return x.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(x)}(y),_,"argument-error"),this.shouldResolveImmediately(y)&&Ke(ii().grecaptcha)?Promise.resolve(ii().grecaptcha):new Promise((E,T)=>{const O=ii().setTimeout(()=>{T(ve(_,"network-request-failed"))},Gv.get());ii()[Sr]=()=>{ii().clearTimeout(O),delete ii()[Sr];const pe=ii().grecaptcha;if(!pe||!Ke(pe))return void T(ve(_,"internal-error"));const $e=pe.render;pe.render=(Ye,ht)=>{const Gt=$e(Ye,ht);return this.counter++,Gt},this.hostLanguage=y,E(pe)},Fn(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:Sr,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(O),T(ve(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var y;return!(null===(y=ii().grecaptcha)||void 0===y||!y.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Qm{load(_){return(0,u.Z)(function*(){return new qo(_)})()}clearedOneInstance(){}}const gf="recaptcha",Wv={theme:"light",type:"image"};class Xm{constructor(_,y=Object.assign({},Wv),E){this.parameters=y,this.type=gf,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ln(E),this.isInvisible="invisible"===this.parameters.size,K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof _?document.getElementById(_):_;K(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Qm:new Zm,this.validateStartingState()}verify(){var _=this;return(0,u.Z)(function*(){_.assertNotDestroyed();const y=yield _.render(),E=_.getAssertedRecaptcha();return E.getResponse(y)||new Promise(O=>{const X=pe=>{pe&&(_.tokenChangeListeners.delete(X),O(pe))};_.tokenChangeListeners.add(X),_.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){K(!this.parameters.sitekey,this.auth,"argument-error"),K(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),K(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof _)_(y);else if("string"==typeof _){const E=ii()[_];"function"==typeof E&&E(y)}}}assertNotDestroyed(){K(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,u.Z)(function*(){if(yield _.init(),!_.widgetId){let y=_.container;if(!_.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}_.widgetId=_.getAssertedRecaptcha().render(y,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,u.Z)(function*(){K(Sn()&&!Hm(),_.auth,"internal-error"),yield function wC(){let x=null;return new Promise(_=>{"complete"!==document.readyState?(x=()=>_(),window.addEventListener("load",x)):_()}).catch(_=>{throw x&&window.removeEventListener("load",x),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const y=yield function ge(x){return oe.apply(this,arguments)}(_.auth);K(y,_.auth,"internal-error"),_.parameters.sitekey=y})()}getAssertedRecaptcha(){return K(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class _f{constructor(_,y){this.verificationId=_,this.onConfirmation=y}confirm(_){const y=xt._fromVerification(this.verificationId,_);return this.onConfirmation(y)}}function On(x,_,y){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,u.Z)(function*(x,_,y){const E=Ln(x),T=yield qu(E,_,(0,V.m9)(y));return new _f(T,O=>Kh(E,O))})).apply(this,arguments)}function Jm(x,_,y){return wn.apply(this,arguments)}function wn(){return(wn=(0,u.Z)(function*(x,_,y){const E=(0,V.m9)(x);yield ll(!1,E,"phone");const T=yield qu(E.auth,_,(0,V.m9)(y));return new _f(T,O=>dC(E,O))})).apply(this,arguments)}function at(x,_,y){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,u.Z)(function*(x,_,y){const E=(0,V.m9)(x),T=yield qu(E.auth,_,(0,V.m9)(y));return new _f(T,O=>Bn(E,O))})).apply(this,arguments)}function qu(x,_,y){return yf.apply(this,arguments)}function yf(){return yf=(0,u.Z)(function*(x,_,y){var E;const T=yield y.verify();try{let O;if(K("string"==typeof T,x,"argument-error"),K(y.type===gf,x,"argument-error"),O="string"==typeof _?{phoneNumber:_}:_,"session"in O){const X=O.session;if("phoneNumber"in O)return K("enroll"===X.type,x,"internal-error"),(yield function Bv(x,_){return _e(x,"POST","/v2/accounts/mfaEnrollment:start",ce(x,_))}(x,{idToken:X.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{K("signin"===X.type,x,"internal-error");const pe=(null===(E=O.multiFactorHint)||void 0===E?void 0:E.uid)||O.multiFactorUid;return K(pe,x,"missing-multi-factor-info"),(yield function Ym(x,_){return _e(x,"POST","/v2/accounts/mfaSignIn:start",ce(x,_))}(x,{mfaPendingCredential:X.credential,mfaEnrollmentId:pe,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:X}=yield function Pt(x,_){return bn.apply(this,arguments)}(x,{phoneNumber:O.phoneNumber,recaptchaToken:T});return X}}finally{y._reset()}}),yf.apply(this,arguments)}function dr(x,_){return po.apply(this,arguments)}function po(){return(po=(0,u.Z)(function*(x,_){yield ac((0,V.m9)(x),_)})).apply(this,arguments)}let Rn=(()=>{class x{constructor(y){this.providerId=x.PROVIDER_ID,this.auth=Ln(y)}verifyPhoneNumber(y,E){return qu(this.auth,y,(0,V.m9)(E))}static credential(y,E){return xt._fromVerification(y,E)}static credentialFromResult(y){return x.credentialFromTaggedObject(y)}static credentialFromError(y){return x.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:T}=y;return E&&T?xt._fromTokenResponse(E,T):null}}return x.PROVIDER_ID="phone",x.PHONE_SIGN_IN_METHOD="phone",x})();function xa(x,_){return _?Pn(_):(K(x._popupRedirectResolver,x,"argument-error"),x._popupRedirectResolver)}class Ea extends nc{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return so(_,this._buildIdpRequest())}_linkToIdToken(_,y){return so(_,this._buildIdpRequest(y))}_getReauthenticationResolver(_){return so(_,this._buildIdpRequest())}_buildIdpRequest(_){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(y.idToken=_),y}}function bt(x){return vv(x.auth,new Ea(x),x.bypassAuthState)}function qv(x){const{auth:_,user:y}=x;return K(y,_,"internal-error"),Mm(y,new Ea(x),x.bypassAuthState)}function eg(x){return ml.apply(this,arguments)}function ml(){return(ml=(0,u.Z)(function*(x){const{auth:_,user:y}=x;return K(y,_,"internal-error"),ac(y,new Ea(x),x.bypassAuthState)})).apply(this,arguments)}class mo{constructor(_,y,E,T,O=!1){this.auth=_,this.resolver=E,this.user=T,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var _=this;return new Promise(function(){var y=(0,u.Z)(function*(E,T){_.pendingPromise={resolve:E,reject:T};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(O){_.reject(O)}});return function(E,T){return y.apply(this,arguments)}}())}onAuthEvent(_){var y=this;return(0,u.Z)(function*(){const{urlResponse:E,sessionId:T,postBody:O,tenantId:X,error:pe,type:$e}=_;if(pe)return void y.reject(pe);const Ye={auth:y.auth,requestUri:E,sessionId:T,tenantId:X||void 0,postBody:O||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask($e)(Ye))}catch(ht){y.reject(ht)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return bt;case"linkViaPopup":case"linkViaRedirect":return eg;case"reauthViaPopup":case"reauthViaRedirect":return qv;default:J(this.auth,"internal-error")}}resolve(_){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const go=new zi(2e3,1e4);function mi(x,_,y){return gl.apply(this,arguments)}function gl(){return(gl=(0,u.Z)(function*(x,_,y){const E=Ln(x);se(x,_,$r);const T=xa(E,y);return new Ia(E,"signInViaPopup",_,T).executeNotNull()})).apply(this,arguments)}function Ca(x,_,y){return _l.apply(this,arguments)}function _l(){return(_l=(0,u.Z)(function*(x,_,y){const E=(0,V.m9)(x);se(E.auth,_,$r);const T=xa(E.auth,y);return new Ia(E.auth,"reauthViaPopup",_,T,E).executeNotNull()})).apply(this,arguments)}function Yu(x,_,y){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,u.Z)(function*(x,_,y){const E=(0,V.m9)(x);se(E.auth,_,$r);const T=xa(E.auth,y);return new Ia(E.auth,"linkViaPopup",_,T,E).executeNotNull()})).apply(this,arguments)}let Ia=(()=>{class x extends mo{constructor(y,E,T,O,X){super(y,E,O,X),this.provider=T,this.authWindow=null,this.pollId=null,x.currentPopupAction&&x.currentPopupAction.cancel(),x.currentPopupAction=this}executeNotNull(){var y=this;return(0,u.Z)(function*(){const E=yield y.execute();return K(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,u.Z)(function*(){st(1===y.filter.length,"Popup operations only handle one event");const E=hc();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(T=>{y.reject(T)}),y.resolver._isIframeWebStorageSupported(y.auth,T=>{T||y.reject(ve(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,x.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,T;this.pollId=null!==(T=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(y,go.get())};y()}}return x.currentPopupAction=null,x})();const mc="pendingRedirect",Ys=new Map;class Yo extends mo{constructor(_,y,E=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var _=()=>super.execute,y=this;return(0,u.Z)(function*(){let E=Ys.get(y.auth._key());if(!E){try{const O=(yield function Sa(x,_){return vf.apply(this,arguments)}(y.resolver,y.auth))?yield _().call(y):null;E=()=>Promise.resolve(O)}catch(T){E=()=>Promise.reject(T)}Ys.set(y.auth._key(),E)}return y.bypassAuthState||Ys.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(_){var y=()=>super.onAuthEvent,E=this;return(0,u.Z)(function*(){if("signInViaRedirect"===_.type)return y().call(E,_);if("unknown"!==_.type){if(_.eventId){const T=yield E.auth._redirectUserForId(_.eventId);if(T)return E.user=T,y().call(E,_);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function vf(){return(vf=(0,u.Z)(function*(x,_){const y=bf(_),E=Bi(x);if(!(yield E._isAvailable()))return!1;const T="true"===(yield E._get(y));return yield E._remove(y),T})).apply(this,arguments)}function gc(x,_){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,u.Z)(function*(x,_){return Bi(x)._set(bf(_),"true")})).apply(this,arguments)}function _o(){Ys.clear()}function yo(x,_){Ys.set(x._key(),_)}function Bi(x){return Pn(x._redirectPersistence)}function bf(x){return Ss(mc,x.config.apiKey,x.name)}function Zu(x,_,y){return function jt(x,_,y){return Vn.apply(this,arguments)}(x,_,y)}function Vn(){return(Vn=(0,u.Z)(function*(x,_,y){const E=Ln(x);se(x,_,$r),yield E._initializationPromise;const T=xa(E,y);return yield gc(T,E),T._openRedirect(E,_,"signInViaRedirect")})).apply(this,arguments)}function Gr(x,_,y){return function Zo(x,_,y){return xn.apply(this,arguments)}(x,_,y)}function xn(){return(xn=(0,u.Z)(function*(x,_,y){const E=(0,V.m9)(x);se(E.auth,_,$r),yield E.auth._initializationPromise;const T=xa(E.auth,y);yield gc(T,E.auth);const O=yield ls(E);return T._openRedirect(E.auth,_,"reauthViaRedirect",O)})).apply(this,arguments)}function Wi(x,_,y){return function _c(x,_,y){return yc.apply(this,arguments)}(x,_,y)}function yc(){return(yc=(0,u.Z)(function*(x,_,y){const E=(0,V.m9)(x);se(E.auth,_,$r),yield E.auth._initializationPromise;const T=xa(E.auth,y);yield ll(!1,E,_.providerId),yield gc(T,E.auth);const O=yield ls(E);return T._openRedirect(E.auth,_,"linkViaRedirect",O)})).apply(this,arguments)}function Yv(x,_){return gi.apply(this,arguments)}function gi(){return(gi=(0,u.Z)(function*(x,_){return yield Ln(x)._initializationPromise,Qo(x,_,!1)})).apply(this,arguments)}function Qo(x,_){return En.apply(this,arguments)}function En(){return(En=(0,u.Z)(function*(x,_,y=!1){const E=Ln(x),T=xa(E,_),X=yield new Yo(E,T,y).execute();return X&&!y&&(delete X.user._redirectEventId,yield E._persistUserIfCurrent(X.user),yield E._setRedirectUser(null,_)),X})).apply(this,arguments)}function ls(x){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,u.Z)(function*(x){const _=hc(`${x.uid}:::`);return x._redirectEventId=_,yield x.auth._setRedirectUser(x),yield x.auth._persistUserIfCurrent(x),_})).apply(this,arguments)}class yl{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(_,E)&&(y=!0,this.sendToConsumer(_,E),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Aa(x){switch(x.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wf(x);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=_,y=!0)),y}sendToConsumer(_,y){var E;if(_.error&&!wf(_)){const T=(null===(E=_.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(ve(this.auth,T))}else y.onAuthEvent(_)}isEventForConsumer(_,y){const E=null===y.eventId||!!_.eventId&&_.eventId===y.eventId;return y.filter.includes(_.type)&&E}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(tg(_))}saveEventToCache(_){this.cachedEventUids.add(tg(_)),this.lastProcessedEventTime=Date.now()}}function tg(x){return[x.type,x.eventId,x.sessionId,x.tenantId].filter(_=>_).join("-")}function wf({type:x,error:_}){return"unknown"===x&&"auth/no-auth-event"===_?.code}function xf(x){return Si.apply(this,arguments)}function Si(){return(Si=(0,u.Z)(function*(x,_={}){return _e(x,"GET","/v1/projects",_)})).apply(this,arguments)}const Lt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xo=/^https?/;function Jo(){return(Jo=(0,u.Z)(function*(x){if(x.config.emulator)return;const{authorizedDomains:_}=yield xf(x);for(const y of _)try{if(ng(y))return}catch{}J(x,"unauthorized-domain")})).apply(this,arguments)}function ng(x){const _=Et(),{protocol:y,hostname:E}=new URL(_);if(x.startsWith("chrome-extension://")){const X=new URL(x);return""===X.hostname&&""===E?"chrome-extension:"===y&&x.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===y&&X.hostname===E}if(!Xo.test(y))return!1;if(Lt.test(x))return E===x;const T=x.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(E)}const ig=new zi(3e4,6e4);function hr(){const x=ii().___jsl;if(x?.H)for(const _ of Object.keys(x.H))if(x.H[_].r=x.H[_].r||[],x.H[_].L=x.H[_].L||[],x.H[_].r=[...x.H[_].L],x.CP)for(let y=0;y<x.CP.length;y++)x.CP[y]=null}let _i=null;const sg=new zi(5e3,15e3),Xu="__/auth/iframe",og="emulator/auth/iframe",ag={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ju=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vl(x){const _=x.config;K(_.authDomain,x,"auth-domain-config-required");const y=_.emulator?br(_,og):`https://${x.config.authDomain}/${Xu}`,E={apiKey:_.apiKey,appName:x.name,v:L.SDK_VERSION},T=Ju.get(x.config.apiHost);T&&(E.eid=T);const O=x._getFrameworks();return O.length&&(E.fw=O.join(",")),`${y}?${(0,V.xO)(E).slice(1)}`}function vo(){return vo=(0,u.Z)(function*(x){const _=yield function ea(x){return _i=_i||function rg(x){return new Promise((_,y)=>{var E,T,O;function X(){hr(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{hr(),y(ve(x,"network-request-failed"))},timeout:ig.get()})}if(null!==(T=null===(E=ii().gapi)||void 0===E?void 0:E.iframes)&&void 0!==T&&T.Iframe)_(gapi.iframes.getContext());else{if(null===(O=ii().gapi)||void 0===O||!O.load){const pe=Hi("iframefcb");return ii()[pe]=()=>{gapi.load?X():y(ve(x,"network-request-failed"))},Fn(`https://apis.google.com/js/api.js?onload=${pe}`).catch($e=>y($e))}X()}}).catch(_=>{throw _i=null,_})}(x),_i}(x),y=ii().gapi;return K(y,x,"internal-error"),_.open({where:document.body,url:vl(x),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ag,dontclear:!0},E=>new Promise(function(){var T=(0,u.Z)(function*(O,X){yield E.restyle({setHideOnLeave:!1});const pe=ve(x,"network-request-failed"),$e=ii().setTimeout(()=>{X(pe)},sg.get());function Ye(){ii().clearTimeout($e),O(E)}E.ping(Ye).then(Ye,()=>{X(pe)})});return function(O,X){return T.apply(this,arguments)}}()))}),vo.apply(this,arguments)}const vc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ra{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const lg="__/auth/handler",EC="emulator/auth/handler",Ef=encodeURIComponent("fac");function cs(x,_,y,E,T,O){return nd.apply(this,arguments)}function nd(){return(nd=(0,u.Z)(function*(x,_,y,E,T,O){K(x.config.authDomain,x,"auth-domain-config-required"),K(x.config.apiKey,x,"invalid-api-key");const X={apiKey:x.config.apiKey,appName:x.name,authType:y,redirectUrl:E,v:L.SDK_VERSION,eventId:T};if(_ instanceof $r){_.setDefaultLanguage(x.languageCode),X.providerId=_.providerId||"",(0,V.xb)(_.getCustomParameters())||(X.customParameters=JSON.stringify(_.getCustomParameters()));for(const[ht,Gt]of Object.entries(O||{}))X[ht]=Gt}if(_ instanceof or){const ht=_.getScopes().filter(Gt=>""!==Gt);ht.length>0&&(X.scopes=ht.join(","))}x.tenantId&&(X.tid=x.tenantId);const pe=X;for(const ht of Object.keys(pe))void 0===pe[ht]&&delete pe[ht];const $e=yield x._getAppCheckToken(),Ye=$e?`#${Ef}=${encodeURIComponent($e)}`:"";return`${function id({config:x}){return x.emulator?br(x,EC):`https://${x.authDomain}/${lg}`}(x)}?${(0,V.xO)(pe).slice(1)}${Ye}`})).apply(this,arguments)}const qn="webStorageSupport",bo=class Cf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$u,this._completeRedirectFn=Qo,this._overrideRedirectResult=yo}_openPopup(_,y,E,T){var O=this;return(0,u.Z)(function*(){var X;st(null===(X=O.eventManagers[_._key()])||void 0===X?void 0:X.manager,"_initialize() not called before _openPopup()");const pe=yield cs(_,y,E,Et(),T);return function xC(x,_,y,E=500,T=600){const O=Math.max((window.screen.availHeight-T)/2,0).toString(),X=Math.max((window.screen.availWidth-E)/2,0).toString();let pe="";const $e=Object.assign(Object.assign({},vc),{width:E.toString(),height:T.toString(),top:O,left:X}),Ye=(0,V.z$)().toLowerCase();y&&(pe=k(Ye)?"_blank":y),N(Ye)&&(_=_||"http://localhost",$e.scrollbars="yes");const ht=Object.entries($e).reduce((qi,[us,wo])=>`${qi}${us}=${wo},`,"");if(function St(x=(0,V.z$)()){var _;return Xe(x)&&!(null===(_=window.navigator)||void 0===_||!_.standalone)}(Ye)&&"_self"!==pe)return function td(x,_){const y=document.createElement("a");y.href=x,y.target=_;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(_||"",pe),new Ra(null);const Gt=window.open(_||"",pe,ht);K(Gt,x,"popup-blocked");try{Gt.focus()}catch{}return new Ra(Gt)}(_,pe,hc())})()}_openRedirect(_,y,E,T){var O=this;return(0,u.Z)(function*(){return yield O._originValidation(_),function hf(x){ii().location.href=x}(yield cs(_,y,E,Et(),T)),new Promise(()=>{})})()}_initialize(_){const y=_._key();if(this.eventManagers[y]){const{manager:T,promise:O}=this.eventManagers[y];return T?Promise.resolve(T):(st(O,"If manager is not set, promise should be"),O)}const E=this.initAndGetManager(_);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(_){var y=this;return(0,u.Z)(function*(){const E=yield function Ma(x){return vo.apply(this,arguments)}(_),T=new yl(_);return E.register("authEvent",O=>(K(O?.authEvent,_,"invalid-auth-event"),{status:T.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[_._key()]={manager:T},y.iframes[_._key()]=E,T})()}_isIframeWebStorageSupported(_,y){this.iframes[_._key()].send(qn,{type:qn},T=>{var O;const X=null===(O=T?.[0])||void 0===O?void 0:O[qn];void 0!==X&&y(!!X),J(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const y=_._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function Ta(x){return Jo.apply(this,arguments)}(_)),this.originValidationPromises[y]}get _shouldInitProactively(){return Ft()||F()||Xe()}};class cg{constructor(_){this.factorId=_}_process(_,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(_,y.credential,E);case"signin":return this._finalizeSignIn(_,y.credential);default:return Pe("unexpected MultiFactorSessionType")}}}class fr extends cg{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new fr(_)}_finalizeEnroll(_,y,E){return function cf(x,_){return _e(x,"POST","/v2/accounts/mfaEnrollment:finalize",ce(x,_))}(_,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,y){return function Km(x,_){return _e(x,"POST","/v2/accounts/mfaSignIn:finalize",ce(x,_))}(_,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let bl=(()=>{class x{constructor(){}static assertion(y){return fr._fromCredential(y)}}return x.FACTOR_ID="phone",x})();var Qv="@firebase/auth";class CC{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var y=this;return(0,u.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const y=this.auth.onIdTokenChanged(E=>{_(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(_,y),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const y=this.internalListeners.get(_);y&&(this.internalListeners.delete(_),y(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Xv=(0,V.Pz)("authIdTokenMaxAge")||300;let sd=null;const Jv=x=>function(){var _=(0,u.Z)(function*(y){const E=y&&(yield y.getIdTokenResult()),T=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(T&&T>Xv)return;const O=E?.token;sd!==O&&(sd=O,yield fetch(x,{method:O?"POST":"DELETE",headers:O?{Authorization:`Bearer ${O}`}:{}}))});return function(y){return _.apply(this,arguments)}}();function ka(x=(0,L.getApp)()){const _=(0,L._getProvider)(x,"auth");if(_.isInitialized())return _.getImmediate();const y=function tc(x,_){const y=(0,L._getProvider)(x,"auth");if(y.isInitialized()){const T=y.getImmediate(),O=y.getOptions();if((0,V.vZ)(O,_??{}))return T;J(T,"already-initialized")}return y.initialize({options:_})}(x,{popupRedirectResolver:bo,persistence:[qs,df,$u]}),E=(0,V.Pz)("authTokenSyncURL");if(E){const O=Jv(E);(function Um(x,_,y){(0,V.m9)(x).beforeAuthStateChanged(_,y)})(y,O,()=>O(y.currentUser)),Vm(y,X=>O(X))}const T=(0,V.q4)("auth");return T&&Fh(y,`http://${T}`),y}!function If(x){(0,L._registerComponent)(new ne.wA("auth",(_,{options:y})=>{const E=_.getProvider("app").getImmediate(),T=_.getProvider("heartbeat"),O=_.getProvider("app-check-internal"),{apiKey:X,authDomain:pe}=E.options;K(X&&!X.includes(":"),"invalid-api-key",{appName:E.name});const $e={apiKey:X,authDomain:pe,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:va(x)},Ye=new Sm(E,T,O,$e);return function gv(x,_){const y=_?.persistence||[],E=(Array.isArray(y)?y:[y]).map(Pn);_?.errorMap&&x._updateErrorMap(_.errorMap),x._initializeWithPersistence(E,_?.popupRedirectResolver)}(Ye,y),Ye},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,y,E)=>{_.getProvider("auth-internal").initialize()})),(0,L._registerComponent)(new ne.wA("auth-internal",_=>{const y=Ln(_.getProvider("auth").getImmediate());return new CC(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,L.registerVersion)(Qv,"0.23.2",function Wr(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,L.registerVersion)(Qv,"0.23.2","esm2017")}("Browser")},9058:(dt,Ee,P)=>{"use strict";P.d(Ee,{$s:()=>Pn,BH:()=>ae,DV:()=>Hn,G6:()=>br,GJ:()=>Dn,L:()=>we,LL:()=>Ae,P0:()=>ct,Pz:()=>ve,Sg:()=>se,UG:()=>Pe,UI:()=>wr,US:()=>ne,Wl:()=>ut,Yr:()=>zi,ZB:()=>re,ZR:()=>_e,aH:()=>J,b$:()=>Sn,cI:()=>$t,dS:()=>rs,eu:()=>fe,g5:()=>L,gK:()=>rn,gQ:()=>At,h$:()=>Ce,hl:()=>de,hu:()=>V,jU:()=>st,m9:()=>Ss,ne:()=>on,p$:()=>z,pd:()=>Rt,q4:()=>tt,r3:()=>hn,ru:()=>Et,tV:()=>j,uI:()=>K,ug:()=>ss,vZ:()=>er,w1:()=>ki,w9:()=>cn,xO:()=>js,xb:()=>Vr,z$:()=>he,zI:()=>be,zd:()=>gt});const u={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},V=function(W,H){if(!W)throw L(H)},L=function(W){return new Error("Firebase Database ("+u.SDK_VERSION+") INTERNAL ASSERT FAILED: "+W)},ie=function(W){const H=[];let N=0;for(let F=0;F<W.length;F++){let k=W.charCodeAt(F);k<128?H[N++]=k:k<2048?(H[N++]=k>>6|192,H[N++]=63&k|128):55296==(64512&k)&&F+1<W.length&&56320==(64512&W.charCodeAt(F+1))?(k=65536+((1023&k)<<10)+(1023&W.charCodeAt(++F)),H[N++]=k>>18|240,H[N++]=k>>12&63|128,H[N++]=k>>6&63|128,H[N++]=63&k|128):(H[N++]=k>>12|224,H[N++]=k>>6&63|128,H[N++]=63&k|128)}return H},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,H){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const N=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let k=0;k<W.length;k+=3){const ee=W[k],Ie=k+1<W.length,Ge=Ie?W[k+1]:0,It=k+2<W.length,Xe=It?W[k+2]:0;let _n=(15&Ge)<<2|Xe>>6,Ft=63&Xe;It||(Ft=64,Ie||(_n=64)),F.push(N[ee>>2],N[(3&ee)<<4|Ge>>4],N[_n],N[Ft])}return F.join("")},encodeString(W,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(W):this.encodeByteArray(ie(W),H)},decodeString(W,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(W):function(W){const H=[];let N=0,F=0;for(;N<W.length;){const k=W[N++];if(k<128)H[F++]=String.fromCharCode(k);else if(k>191&&k<224){const ee=W[N++];H[F++]=String.fromCharCode((31&k)<<6|63&ee)}else if(k>239&&k<365){const It=((7&k)<<18|(63&W[N++])<<12|(63&W[N++])<<6|63&W[N++])-65536;H[F++]=String.fromCharCode(55296+(It>>10)),H[F++]=String.fromCharCode(56320+(1023&It))}else{const ee=W[N++],Ie=W[N++];H[F++]=String.fromCharCode((15&k)<<12|(63&ee)<<6|63&Ie)}}return H.join("")}(this.decodeStringToByteArray(W,H))},decodeStringToByteArray(W,H){this.init_();const N=H?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let k=0;k<W.length;){const ee=N[W.charAt(k++)],Ge=k<W.length?N[W.charAt(k)]:0;++k;const Xe=k<W.length?N[W.charAt(k)]:64;++k;const St=k<W.length?N[W.charAt(k)]:64;if(++k,null==ee||null==Ge||null==Xe||null==St)throw new Se;F.push(ee<<2|Ge>>4),64!==Xe&&(F.push(Ge<<4&240|Xe>>2),64!==St&&F.push(Xe<<6&192|St))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ce=function(W){const H=ie(W);return ne.encodeByteArray(H,!0)},we=function(W){return Ce(W).replace(/\./g,"")},j=function(W){try{return ne.decodeString(W,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function z(W){return re(void 0,W)}function re(W,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return H}for(const N in H)!H.hasOwnProperty(N)||!Re(N)||(W[N]=re(W[N],H[N]));return W}function Re(W){return"__proto__"!==W}const Ue=()=>{try{return function Le(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const W=process.env.__FIREBASE_DEFAULTS__;return W?JSON.parse(W):void 0})()||(()=>{if(typeof document>"u")return;let W;try{W=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const H=W&&j(W[1]);return H&&JSON.parse(H)})()}catch(W){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${W}`)}},tt=W=>{var H,N;return null===(N=null===(H=Ue())||void 0===H?void 0:H.emulatorHosts)||void 0===N?void 0:N[W]},ct=W=>{const H=tt(W);if(!H)return;const N=H.lastIndexOf(":");if(N<=0||N+1===H.length)throw new Error(`Invalid host ${H} with no separate hostname and port!`);const F=parseInt(H.substring(N+1),10);return"["===H[0]?[H.substring(1,N-1),F]:[H.substring(0,N),F]},J=()=>{var W;return null===(W=Ue())||void 0===W?void 0:W.config},ve=W=>{var H;return null===(H=Ue())||void 0===H?void 0:H[`_${W}`]};class ae{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((H,N)=>{this.resolve=H,this.reject=N})}wrapCallback(H){return(N,F)=>{N?this.reject(N):this.resolve(F),"function"==typeof H&&(this.promise.catch(()=>{}),1===H.length?H(N):H(N,F))}}}function se(W,H){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=H||"demo-project",k=W.iat||0,ee=W.sub||W.user_id;if(!ee)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ie=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:k,exp:k+3600,auth_time:k,sub:ee,user_id:ee,firebase:{sign_in_provider:"custom",identities:{}}},W);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(Ie)),""].join(".")}function he(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function K(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(he())}function Pe(){var W;const H=null===(W=Ue())||void 0===W?void 0:W.forceEnvironment;if("node"===H)return!0;if("browser"===H)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function st(){return"object"==typeof self&&self.self===self}function Et(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Sn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ki(){const W=he();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function zi(){return!0===u.NODE_CLIENT||!0===u.NODE_ADMIN}function br(){return!Pe()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function de(){try{return"object"==typeof indexedDB}catch{return!1}}function fe(){return new Promise((W,H)=>{try{let N=!0;const F="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(F);k.onsuccess=()=>{k.result.close(),N||self.indexedDB.deleteDatabase(F),W(!0)},k.onupgradeneeded=()=>{N=!1},k.onerror=()=>{var ee;H((null===(ee=k.error)||void 0===ee?void 0:ee.message)||"")}}catch(N){H(N)}})}function be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class _e extends Error{constructor(H,N,F){super(N),this.code=H,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ae.prototype.create)}}class Ae{constructor(H,N,F){this.service=H,this.serviceName=N,this.errors=F}create(H,...N){const F=N[0]||{},k=`${this.service}/${H}`,ee=this.errors[H],Ie=ee?function qe(W,H){return W.replace(He,(N,F)=>{const k=H[F];return null!=k?String(k):`<${F}?>`})}(ee,F):"Error";return new _e(k,`${this.serviceName}: ${Ie} (${k}).`,F)}}const He=/\{\$([^}]+)}/g;function $t(W){return JSON.parse(W)}function ut(W){return JSON.stringify(W)}const mt=function(W){let H={},N={},F={},k="";try{const ee=W.split(".");H=$t(j(ee[0])||""),N=$t(j(ee[1])||""),k=ee[2],F=N.d||{},delete N.d}catch{}return{header:H,claims:N,data:F,signature:k}},cn=function(W){const N=mt(W).claims;return!!N&&"object"==typeof N&&N.hasOwnProperty("iat")},Dn=function(W){const H=mt(W).claims;return"object"==typeof H&&!0===H.admin};function hn(W,H){return Object.prototype.hasOwnProperty.call(W,H)}function Hn(W,H){if(Object.prototype.hasOwnProperty.call(W,H))return W[H]}function Vr(W){for(const H in W)if(Object.prototype.hasOwnProperty.call(W,H))return!1;return!0}function wr(W,H,N){const F={};for(const k in W)Object.prototype.hasOwnProperty.call(W,k)&&(F[k]=H.call(N,W[k],k,W));return F}function er(W,H){if(W===H)return!0;const N=Object.keys(W),F=Object.keys(H);for(const k of N){if(!F.includes(k))return!1;const ee=W[k],Ie=H[k];if($n(ee)&&$n(Ie)){if(!er(ee,Ie))return!1}else if(ee!==Ie)return!1}for(const k of F)if(!N.includes(k))return!1;return!0}function $n(W){return null!==W&&"object"==typeof W}function js(W){const H=[];for(const[N,F]of Object.entries(W))Array.isArray(F)?F.forEach(k=>{H.push(encodeURIComponent(N)+"="+encodeURIComponent(k))}):H.push(encodeURIComponent(N)+"="+encodeURIComponent(F));return H.length?"&"+H.join("&"):""}function gt(W){const H={};return W.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[k,ee]=F.split("=");H[decodeURIComponent(k)]=decodeURIComponent(ee)}}),H}function Rt(W){const H=W.indexOf("?");if(!H)return"";const N=W.indexOf("#",H);return W.substring(H,N>0?N:void 0)}class At{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(H,N){N||(N=0);const F=this.W_;if("string"==typeof H)for(let St=0;St<16;St++)F[St]=H.charCodeAt(N)<<24|H.charCodeAt(N+1)<<16|H.charCodeAt(N+2)<<8|H.charCodeAt(N+3),N+=4;else for(let St=0;St<16;St++)F[St]=H[N]<<24|H[N+1]<<16|H[N+2]<<8|H[N+3],N+=4;for(let St=16;St<80;St++){const _n=F[St-3]^F[St-8]^F[St-14]^F[St-16];F[St]=4294967295&(_n<<1|_n>>>31)}let Xe,en,k=this.chain_[0],ee=this.chain_[1],Ie=this.chain_[2],Ge=this.chain_[3],It=this.chain_[4];for(let St=0;St<80;St++){St<40?St<20?(Xe=Ge^ee&(Ie^Ge),en=1518500249):(Xe=ee^Ie^Ge,en=1859775393):St<60?(Xe=ee&Ie|Ge&(ee|Ie),en=2400959708):(Xe=ee^Ie^Ge,en=3395469782);const _n=(k<<5|k>>>27)+Xe+It+en+F[St]&4294967295;It=Ge,Ge=Ie,Ie=4294967295&(ee<<30|ee>>>2),ee=k,k=_n}this.chain_[0]=this.chain_[0]+k&4294967295,this.chain_[1]=this.chain_[1]+ee&4294967295,this.chain_[2]=this.chain_[2]+Ie&4294967295,this.chain_[3]=this.chain_[3]+Ge&4294967295,this.chain_[4]=this.chain_[4]+It&4294967295}update(H,N){if(null==H)return;void 0===N&&(N=H.length);const F=N-this.blockSize;let k=0;const ee=this.buf_;let Ie=this.inbuf_;for(;k<N;){if(0===Ie)for(;k<=F;)this.compress_(H,k),k+=this.blockSize;if("string"==typeof H){for(;k<N;)if(ee[Ie]=H.charCodeAt(k),++Ie,++k,Ie===this.blockSize){this.compress_(ee),Ie=0;break}}else for(;k<N;)if(ee[Ie]=H[k],++Ie,++k,Ie===this.blockSize){this.compress_(ee),Ie=0;break}}this.inbuf_=Ie,this.total_+=N}digest(){const H=[];let N=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let k=this.blockSize-1;k>=56;k--)this.buf_[k]=255&N,N/=256;this.compress_(this.buf_);let F=0;for(let k=0;k<5;k++)for(let ee=24;ee>=0;ee-=8)H[F]=this.chain_[k]>>ee&255,++F;return H}}function on(W,H){const N=new nr(W,H);return N.subscribe.bind(N)}class nr{constructor(H,N){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=N,this.task.then(()=>{H(this)}).catch(F=>{this.error(F)})}next(H){this.forEachObserver(N=>{N.next(H)})}error(H){this.forEachObserver(N=>{N.error(H)}),this.close(H)}complete(){this.forEachObserver(H=>{H.complete()}),this.close()}subscribe(H,N,F){let k;if(void 0===H&&void 0===N&&void 0===F)throw new Error("Missing Observer.");k=function zt(W,H){if("object"!=typeof W||null===W)return!1;for(const N of H)if(N in W&&"function"==typeof W[N])return!0;return!1}(H,["next","error","complete"])?H:{next:H,error:N,complete:F},void 0===k.next&&(k.next=Gn),void 0===k.error&&(k.error=Gn),void 0===k.complete&&(k.complete=Gn);const ee=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),ee}unsubscribeOne(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(H){if(!this.finalized)for(let N=0;N<this.observers.length;N++)this.sendOne(N,H)}sendOne(H,N){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[H])try{N(this.observers[H])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close(H){this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Gn(){}function rn(W,H){return`${W} failed: ${H} argument `}const rs=function(W){const H=[];let N=0;for(let F=0;F<W.length;F++){let k=W.charCodeAt(F);if(k>=55296&&k<=56319){const ee=k-55296;F++,V(F<W.length,"Surrogate pair missing trail surrogate."),k=65536+(ee<<10)+(W.charCodeAt(F)-56320)}k<128?H[N++]=k:k<2048?(H[N++]=k>>6|192,H[N++]=63&k|128):k<65536?(H[N++]=k>>12|224,H[N++]=k>>6&63|128,H[N++]=63&k|128):(H[N++]=k>>18|240,H[N++]=k>>12&63|128,H[N++]=k>>6&63|128,H[N++]=63&k|128)}return H},ss=function(W){let H=0;for(let N=0;N<W.length;N++){const F=W.charCodeAt(N);F<128?H++:F<2048?H+=2:F>=55296&&F<=56319?(H+=4,N++):H+=3}return H},xi=1e3,Ei=2,Oi=144e5,xr=.5;function Pn(W,H=xi,N=Ei){const F=H*Math.pow(N,W),k=Math.round(xr*F*(Math.random()-.5)*2);return Math.min(Oi,F+k)}function Ss(W){return W&&W._delegate?W._delegate:W}},2168:(dt,Ee,P)=>{"use strict";var u=P(5879);let V=null;function L(){return V}class ye{}const ne=new u.OlP("DocumentToken");let Se=(()=>{var t;class e{historyGo(i){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return(0,u.f3M)(we)},providedIn:"platform"}),e})();const Ce=new u.OlP("Location Initialized");let we=(()=>{var t;class e extends Se{constructor(){super(),this._doc=(0,u.f3M)(ne),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(i){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function j(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function z(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function re(t){return t&&"?"!==t[0]?"?"+t:t}let Re=(()=>{var t;class e{historyGo(i){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return(0,u.f3M)(et)},providedIn:"root"}),e})();const Le=new u.OlP("appBaseHref");let et=(()=>{var t;class e extends Re{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,u.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return j(this._baseHref,i)}path(i=!1){const r=this._platformLocation.pathname+re(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,l){const h=this.prepareExternalUrl(s+re(l));this._platformLocation.pushState(i,r,h)}replaceState(i,r,s,l){const h=this.prepareExternalUrl(s+re(l));this._platformLocation.replaceState(i,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Se),u.LFG(Le,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Te=(()=>{var t;class e extends Re{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(i){const r=j(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,l){let h=this.prepareExternalUrl(s+re(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(i,r,h)}replaceState(i,r,s,l){let h=this.prepareExternalUrl(s+re(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Se),u.LFG(Le,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})(),Ne=(()=>{var t;class e{constructor(i){this._subject=new u.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;const r=this._locationStrategy.getBaseHref();this._basePath=function J(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(z(ct(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+re(r))}normalize(i){return e.stripTrailingSlash(function tt(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,ct(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+re(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+re(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}}return(t=e).normalizeQueryParams=re,t.joinWithSlash=j,t.stripTrailingSlash=z,t.\u0275fac=function(i){return new(i||t)(u.LFG(Re))},t.\u0275prov=u.Yz7({token:t,factory:function(){return function Ue(){return new Ne((0,u.LFG)(Re))}()},providedIn:"root"}),e})();function ct(t){return t.replace(/\/index.html$/,"")}function Hs(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const i=n.indexOf("="),[r,s]=-1==i?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}let tc=(()=>{var t;class e{constructor(i,r){this._viewContainer=i,this._context=new gv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Fh("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Fh("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.s_b),u.Y36(u.Rgc))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class gv{constructor(){this.$implicit=null,this.ngIf=null}}function Fh(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,u.AaK)(e)}'.`)}class Er{constructor(e,n){this._viewContainerRef=e,this._templateRef=n,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Su=(()=>{var t;class e{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(i){this._ngSwitch=i,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(i){this._defaultViews.push(i)}_matchCase(i){const r=i==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(i){if(this._defaultViews.length>0&&i!==this._defaultUsed){this._defaultUsed=i;for(const r of this._defaultViews)r.enforceState(i)}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),e})(),Du=(()=>{var t;class e{constructor(i,r,s){this.ngSwitch=s,s._addCase(),this._view=new Er(i,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(Su,9))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),e})(),Au=(()=>{var t;class e{constructor(i){this._viewContainerRef=i,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(i){if(i.ngTemplateOutlet||i.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:s,ngTemplateOutletContext:l,ngTemplateOutletInjector:h}=this;this._viewRef=r.createEmbeddedView(s,l,h?{injector:h}:void 0)}else this._viewRef=null}else this._viewRef&&i.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.s_b))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[u.TTD]}),e})(),Mn=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),e})();const ao="browser";function $s(t){return t===ao}function hi(t){return"server"===t}let or=(()=>{var t;class e{}return(t=e).\u0275prov=(0,u.Yz7)({token:t,providedIn:"root",factory:()=>new lo((0,u.LFG)(ne),window)}),e})();class lo{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Am(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const l=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Gs{}class Bm extends ye{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class nf extends Bm{static makeCurrent(){!function ie(t){V||(V=t)}(new nf)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function mC(){return uc=uc||document.querySelector("base"),uc?uc.getAttribute("href"):null}();return null==n?null:function Vm(t){rf=rf||document.createElement("a"),rf.setAttribute("href",t);const e=rf.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){uc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Hs(document.cookie,e)}}let rf,uc=null,Pv=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();const Fv=new u.OlP("EventManagerPlugins");let Lv=(()=>{var t;class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(l=>l.supports(i)),!r)throw new u.vHH(5101,!1);return this._eventNameToPlugin.set(i,r),r}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Fv),u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();class sf{constructor(e){this._doc=e}}const af="ng-app-id";let zu=(()=>{var t;class e{constructor(i,r,s,l={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=l,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=hi(l),this.resetHostNodes()}addStyles(i){for(const r of i)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(i){for(const r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(const r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(const r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){const r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){const i=this.doc.head?.querySelectorAll(`style[${af}="${this.appId}"]`);if(i?.length){const r=new Map;return i.forEach(s=>{null!=s.textContent&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){const s=this.styleRef;if(s.has(i)){const l=s.get(i);return l.usage+=r,l.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){const s=this.styleNodesInDOM,l=s?.get(r);if(l?.parentNode===i)return s.delete(r),l.removeAttribute(af),l;{const h=this.doc.createElement("style");return this.nonce&&h.setAttribute("nonce",this.nonce),h.textContent=r,this.platformIsServer&&h.setAttribute(af,this.appId),h}}addStyleToHost(i,r){const s=this.getStyleElement(i,r);i.appendChild(s);const l=this.styleRef,h=l.get(r)?.elements;h?h.push(s):l.set(r,{elements:[s],usage:1})}resetHostNodes(){const i=this.hostNodes;i.clear(),i.add(this.doc.head)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ne),u.LFG(u.AFp),u.LFG(u.Ojb,8),u.LFG(u.Lbi))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();const ho={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},dl=/%COMP%/g,Ws=new u.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function fn(t,e){return e.map(n=>n.replace(dl,t))}let dc=(()=>{var t;class e{constructor(i,r,s,l,h,p,g,b=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=l,this.doc=h,this.platformId=p,this.ngZone=g,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=hi(p),this.defaultRenderer=new fo(i,h,g,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===u.ifc.ShadowDom&&(r={...r,encapsulation:u.ifc.Emulated});const s=this.getOrCreateRenderer(i,r);return s instanceof df?s.applyToHost(i):s instanceof Ir&&s.applyStyles(),s}getOrCreateRenderer(i,r){const s=this.rendererByCompId;let l=s.get(r.id);if(!l){const h=this.doc,p=this.ngZone,g=this.eventManager,b=this.sharedStylesHost,C=this.removeStylesOnCompDestroy,D=this.platformIsServer;switch(r.encapsulation){case u.ifc.Emulated:l=new df(g,b,r,this.appId,C,h,p,D);break;case u.ifc.ShadowDom:return new hl(g,b,i,r,h,p,this.nonce,D);default:l=new Ir(g,b,r,C,h,p,D)}s.set(r.id,l)}return l}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Lv),u.LFG(zu),u.LFG(u.AFp),u.LFG(Ws),u.LFG(ne),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(u.Ojb))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();class fo{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ho[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(uf(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(uf(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new u.vHH(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;const s=ho[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){const r=ho[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(u.JOm.DashCase|u.JOm.Important)?e.style.setProperty(n,i,r&u.JOm.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&u.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e[n]=i}setValue(e,n){e.nodeValue=n}listen(e,n,i){if("string"==typeof e&&!(e=L().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function uf(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class hl extends fo{constructor(e,n,i,r,s,l,h,p){super(e,s,l,p),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=fn(r.id,r.styles);for(const b of g){const C=document.createElement("style");h&&C.setAttribute("nonce",h),C.textContent=b,this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ir extends fo{constructor(e,n,i,r,s,l,h,p){super(e,s,l,h),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=p?fn(p,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class df extends Ir{constructor(e,n,i,r,s,l,h,p){const g=r+"-"+i.id;super(e,n,i,s,l,h,p,g),this.contentAttr=function jm(t){return"_ngcontent-%COMP%".replace(dl,t)}(g),this.hostAttr=function Hu(t){return"_nghost-%COMP%".replace(dl,t)}(g)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}}let yC=(()=>{var t;class e extends sf{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ne))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();const $u=["alt","control","meta","shift"],Go={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zm={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let hc=(()=>{var t;class e extends sf{constructor(i){super(i)}supports(i){return null!=e.parseEventName(i)}addEventListener(i,r,s){const l=e.parseEventName(r),h=e.eventCallback(l.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(i,l.domEventName,h))}static parseEventName(i){const r=i.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const l=e._normalizeKey(r.pop());let h="",p=r.indexOf("code");if(p>-1&&(r.splice(p,1),h="code."),$u.forEach(b=>{const C=r.indexOf(b);C>-1&&(r.splice(C,1),h+=b+".")}),h+=l,0!=r.length||0===l.length)return null;const g={};return g.domEventName=s,g.fullKey=h,g}static matchEventFullKeyCode(i,r){let s=Go[i.key]||i.key,l="";return r.indexOf("code.")>-1&&(s=i.code,l="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),$u.forEach(h=>{h!==s&&(0,zm[h])(i)&&(l+=h+".")}),l+=s,l===r)}static eventCallback(i,r,s){return l=>{e.matchEventFullKeyCode(l,i)&&s.runGuarded(()=>r(l))}}static _normalizeKey(i){return"esc"===i?"escape":i}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ne))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();const Gm=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:ao},{provide:u.g9A,useValue:function Dt(){nf.makeCurrent()},multi:!0},{provide:ne,useFactory:function vC(){return(0,u.RDi)(document),document},deps:[]}]),Uv=new u.OlP(""),fl=[{provide:u.rWj,useClass:class Um{addToWindow(e){u.dqk.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new u.vHH(5103,!1);return s},u.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(i=>{const r=u.dqk.getAllAngularTestabilities();let s=r.length,l=!1;const h=function(p){l=l||p,s--,0==s&&i(l)};r.forEach(p=>{p.whenStable(h)})})}findTestabilityInTree(e,n,i){return null==n?null:e.getTestability(n)??(i?L().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:u.lri,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b,u.eoX,u.rWj]}],Wo=[{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function Gu(){return new u.qLn},deps:[]},{provide:Fv,useClass:yC,multi:!0,deps:[ne,u.R0b,u.Lbi]},{provide:Fv,useClass:hc,multi:!0,deps:[ne]},dc,zu,Lv,{provide:u.FYo,useExisting:dc},{provide:Gs,useClass:Pv,deps:[]},[]];let pl=(()=>{var t;class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:u.AFp,useValue:i.appId}]}}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Uv,12))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[...Wo,...fl],imports:[Mn,u.hGG]}),e})(),Me=(()=>{var t;class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ne))},t.\u0275prov=u.Yz7({token:t,factory:function(i){let r=null;return r=i?new i:function qm(){return new Me((0,u.LFG)(ne))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;var On=P(5592),Gi=P(4674),wn=P(2459),at=P(2096),Ii=P(5619);const{isArray:qu}=Array,{getPrototypeOf:yf,prototype:dr,keys:po}=Object;function Rn(t){if(1===t.length){const e=t[0];if(qu(e))return{args:e,keys:null};if(function xa(t){return t&&"object"==typeof t&&yf(t)===dr}(e)){const n=po(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}var Ea=P(2737),bt=P(7398);const{isArray:qv}=Array;function ml(t){return(0,bt.U)(e=>function eg(t,e){return qv(e)?t(...e):t(e)}(t,e))}var mo=P(9940);function go(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}var mi=P(8251),gl=P(7103);function Ca(...t){const e=(0,mo.yG)(t),n=(0,mo.jO)(t),{args:i,keys:r}=Rn(t);if(0===i.length)return(0,wn.D)([],e);const s=new On.y(function _l(t,e,n=Ea.y){return i=>{Yu(e,()=>{const{length:r}=t,s=new Array(r);let l=r,h=r;for(let p=0;p<r;p++)Yu(e,()=>{const g=(0,wn.D)(t[p],e);let b=!1;g.subscribe((0,mi.x)(i,C=>{s[p]=C,b||(b=!0,h--),h||i.next(n(s.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,e,r?l=>go(r,l):Ea.y));return n?s.pipe(ml(n)):s}function Yu(t,e,n){t?(0,gl.f)(n,t,e):e()}const Ia=(0,P(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var mc=P(7537);function Yo(...t){return function Ys(){return(0,mc.J)(1)}()((0,wn.D)(t,(0,mo.yG)(t)))}var Sa=P(4829);function vf(t){return new On.y(e=>{(0,Sa.Xf)(t()).subscribe(e)})}var gc=P(8407);function Ko(t,e){const n=(0,Gi.m)(t)?t:()=>t,i=r=>r.error(n());return new On.y(e?r=>e.schedule(i,0,r):i)}var _o=P(6232),yo=P(7394),Bi=P(9360);function bf(){return(0,Bi.e)((t,e)=>{let n=null;t._refCount++;const i=(0,mi.x)(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}class Zu extends On.y{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,Bi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yo.w0;const n=this.getSubject();e.add(this.source.subscribe((0,mi.x)(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yo.w0.EMPTY)}return e}refCount(){return bf()(this)}}var jt=P(8645),Vn=P(4664);function Gr(t){return t<=0?()=>_o.E:(0,Bi.e)((e,n)=>{let i=0;e.subscribe((0,mi.x)(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Zo(...t){const e=(0,mo.yG)(t);return(0,Bi.e)((n,i)=>{(e?Yo(t,n,e):Yo(t,n)).subscribe(i)})}function xn(t,e){return(0,Bi.e)((n,i)=>{let r=0;n.subscribe((0,mi.x)(i,s=>t.call(e,s,r++)&&i.next(s)))})}var Wi=P(1631);function _c(t){return(0,Bi.e)((e,n)=>{let i=!1;e.subscribe((0,mi.x)(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function yc(t=Yv){return(0,Bi.e)((e,n)=>{let i=!1;e.subscribe((0,mi.x)(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function Yv(){return new Ia}function gi(t,e){const n=arguments.length>=2;return i=>i.pipe(t?xn((r,s)=>t(r,s,i)):Ea.y,Gr(1),n?_c(e):yc(()=>new Ia))}function Qo(t,e){return(0,Gi.m)(e)?(0,Wi.z)(t,e,1):(0,Wi.z)(t,1)}function En(t,e,n){const i=(0,Gi.m)(t)||e||n?{next:t,error:e,complete:n}:t;return i?(0,Bi.e)((r,s)=>{var l;null===(l=i.subscribe)||void 0===l||l.call(i);let h=!0;r.subscribe((0,mi.x)(s,p=>{var g;null===(g=i.next)||void 0===g||g.call(i,p),s.next(p)},()=>{var p;h=!1,null===(p=i.complete)||void 0===p||p.call(i),s.complete()},p=>{var g;h=!1,null===(g=i.error)||void 0===g||g.call(i,p),s.error(p)},()=>{var p,g;h&&(null===(p=i.unsubscribe)||void 0===p||p.call(i)),null===(g=i.finalize)||void 0===g||g.call(i)}))}):Ea.y}function ls(t){return(0,Bi.e)((e,n)=>{let s,i=null,r=!1;i=e.subscribe((0,mi.x)(n,void 0,void 0,l=>{s=(0,Sa.Xf)(t(l,ls(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function Da(t,e){return(0,Bi.e)(function Qu(t,e,n,i,r){return(s,l)=>{let h=n,p=e,g=0;s.subscribe((0,mi.x)(l,b=>{const C=g++;p=h?t(p,b,C):(h=!0,b),i&&l.next(p)},r&&(()=>{h&&l.next(p),l.complete()})))}}(t,e,arguments.length>=2,!0))}function yl(t){return t<=0?()=>_o.E:(0,Bi.e)((e,n)=>{let i=[];e.subscribe((0,mi.x)(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(const r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Aa(t){return(0,Bi.e)((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}var xf=P(2420);function Si(t){return(0,Bi.e)((e,n)=>{(0,Sa.Xf)(t).subscribe((0,mi.x)(n,()=>n.complete(),xf.Z)),!n.closed&&e.subscribe(n)})}const Lt="primary",Xo=Symbol("RouteTitle");class Ta{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Jo(t){return new Ta(t)}function ng(t,e,n){const i=n.path.split("/");if(i.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||i.length<t.length))return null;const r={};for(let s=0;s<i.length;s++){const l=i[s],h=t[s];if(l.startsWith(":"))r[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function hr(t,e){const n=t?Object.keys(t):void 0,i=e?Object.keys(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!rg(t[r],e[r]))return!1;return!0}function rg(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}return t===e}function _i(t){return t.length>0?t[t.length-1]:null}function ea(t){return function Jm(t){return!!t&&(t instanceof On.y||(0,Gi.m)(t.lift)&&(0,Gi.m)(t.subscribe))}(t)?t:(0,u.QGY)(t)?(0,wn.D)(Promise.resolve(t)):(0,at.of)(t)}const sg={exact:function Ju(t,e,n){if(!Ra(t.segments,e.segments)||!vc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!t.children[i]||!Ju(t.children[i],e.children[i],n))return!1;return!0},subset:Ma},Xu={exact:function ag(t,e){return hr(t,e)},subset:function vl(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>rg(t[n],e[n]))},ignored:()=>!0};function og(t,e,n){return sg[n.paths](t.root,e.root,n.matrixParams)&&Xu[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Ma(t,e,n){return vo(t,e,e.segments,n)}function vo(t,e,n,i){if(t.segments.length>n.length){const r=t.segments.slice(0,n.length);return!(!Ra(r,n)||e.hasChildren()||!vc(r,n,i))}if(t.segments.length===n.length){if(!Ra(t.segments,n)||!vc(t.segments,n,i))return!1;for(const r in e.children)if(!t.children[r]||!Ma(t.children[r],e.children[r],i))return!1;return!0}{const r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Ra(t.segments,r)&&vc(t.segments,r,i)&&t.children[Lt])&&vo(t.children[Lt],e,s,i)}}function vc(t,e,n){return e.every((i,r)=>Xu[n](t[r].parameters,i.parameters))}class ta{constructor(e=new tn([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jo(this.queryParams)),this._queryParamMap}toString(){return EC.serialize(this)}}class tn{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ef(this)}}class ed{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Jo(this.parameters)),this._parameterMap}toString(){return fr(this)}}function Ra(t,e){return t.length===e.length&&t.every((n,i)=>n.path===e[i].path)}let td=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return new lg},providedIn:"root"}),e})();class lg{parse(e){const n=new xl(e);return new ta(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${cs(e.root,!0)}`,i=function Zv(t){const e=Object.keys(t).map(n=>{const i=t[n];return Array.isArray(i)?i.map(r=>`${id(n)}=${id(r)}`).join("&"):`${id(n)}=${id(i)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${i}${"string"==typeof e.fragment?`#${function qn(t){return encodeURI(t)}(e.fragment)}`:""}`}}const EC=new lg;function Ef(t){return t.segments.map(e=>fr(e)).join("/")}function cs(t,e){if(!t.hasChildren())return Ef(t);if(e){const n=t.children[Lt]?cs(t.children[Lt],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==Lt&&i.push(`${r}:${cs(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=function xC(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Lt&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Lt&&(n=n.concat(e(r,i)))}),n}(t,(i,r)=>r===Lt?[cs(t.children[Lt],!1)]:[`${r}:${cs(i,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Lt]?`${Ef(t)}/${n[0]}`:`${Ef(t)}/(${n.join("//")})`}}function nd(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function id(t){return nd(t).replace(/%3B/gi,";")}function Cf(t){return nd(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bo(t){return decodeURIComponent(t)}function cg(t){return bo(t.replace(/\+/g,"%20"))}function fr(t){return`${Cf(t.path)}${function bl(t){return Object.keys(t).map(e=>`;${Cf(e)}=${Cf(t[e])}`).join("")}(t.parameters)}`}const wl=/^[^\/()?;#]+/;function na(t){const e=t.match(wl);return e?e[0]:""}const rd=/^[^\/()?;=#]+/,ug=/^[^=?&#]+/,Wr=/^[^&#]+/;class xl{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new tn([],{}):new tn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Lt]=new tn(e,n)),i}parseSegment(){const e=na(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new u.vHH(4009,!1);return this.capture(e),new ed(bo(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Qv(t){const e=t.match(rd);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const r=na(this.remaining);r&&(i=r,this.capture(i))}e[bo(n)]=bo(i)}parseQueryParam(e){const n=function CC(t){const e=t.match(ug);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){const l=function If(t){const e=t.match(Wr);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=cg(n),s=cg(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(s)}else e[r]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=na(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new u.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Lt);const l=this.parseChildren();n[s]=1===Object.keys(l).length?l[Lt]:new tn([],l),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new u.vHH(4011,!1)}}function Xv(t){return t.segments.length>0?new tn([],{[Lt]:t}):t}function sd(t){const e={};for(const i of Object.keys(t.children)){const s=sd(t.children[i]);if(i===Lt&&0===s.segments.length&&s.hasChildren())for(const[l,h]of Object.entries(s.children))e[l]=h;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function Jv(t){if(1===t.numberOfChildren&&t.children[Lt]){const e=t.children[Lt];return new tn(t.segments.concat(e.segments),e.children)}return t}(new tn(t.segments,e))}function ka(t){return t instanceof ta}function _(t){let e;const r=Xv(function n(s){const l={};for(const p of s.children){const g=n(p);l[p.outlet]=g}const h=new tn(s.url,l);return s===t&&(e=h),h}(t.root));return e??r}function y(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(0===e.length)return O(r,r,r,n,i);const s=function $e(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new pe(!0,0,t);let e=0,n=!1;const i=t.reduce((r,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Object.entries(s.outlets).forEach(([p,g])=>{h[p]="string"==typeof g?g.split("/"):g}),[...r,{outlets:h}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===l?(s.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?n=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,s]},[]);return new pe(n,e,i)}(e);if(s.toRoot())return O(r,r,new tn([],{}),n,i);const l=function ht(t,e,n){if(t.isAbsolute)return new Ye(e,!0,0);if(!n)return new Ye(e,!1,NaN);if(null===n.parent)return new Ye(n,!0,0);const i=E(t.commands[0])?0:1;return function Gt(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new u.vHH(4005,!1);r=i.segments.length}return new Ye(i,!1,r-s)}(n,n.segments.length-1+i,t.numberOfDoubleDots)}(s,r,t),h=l.processChildren?wo(l.segmentGroup,l.index,s.commands):us(l.segmentGroup,l.index,s.commands);return O(r,l.segmentGroup,h,n,i)}function E(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function T(t){return"object"==typeof t&&null!=t&&t.outlets}function O(t,e,n,i,r){let l,s={};i&&Object.entries(i).forEach(([p,g])=>{s[p]=Array.isArray(g)?g.map(b=>`${b}`):`${g}`}),l=t===e?n:X(t,e,n);const h=Xv(sd(l));return new ta(h,s,r)}function X(t,e,n){const i={};return Object.entries(t.children).forEach(([r,s])=>{i[r]=s===e?n:X(s,e,n)}),new tn(t.segments,i)}class pe{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&E(i[0]))throw new u.vHH(4003,!1);const r=i.find(T);if(r&&r!==_i(i))throw new u.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ye{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}}function us(t,e,n){if(t||(t=new tn([],{})),0===t.segments.length&&t.hasChildren())return wo(t,e,n);const i=function dg(t,e,n){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;const l=t.segments[r],h=n[i];if(T(h))break;const p=`${h}`,g=i<n.length-1?n[i+1]:null;if(r>0&&void 0===p)break;if(p&&g&&"object"==typeof g&&void 0===g.outlets){if(!od(p,g,l))return s;i+=2}else{if(!od(p,{},l))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){const s=new tn(t.segments.slice(0,i.pathIndex),{});return s.children[Lt]=new tn(t.segments.slice(i.pathIndex),t.children),wo(s,0,r)}return i.match&&0===r.length?new tn(t.segments,{}):i.match&&!t.hasChildren()?bc(t,e,n):i.match?wo(t,0,r):bc(t,e,n)}function wo(t,e,n){if(0===n.length)return new tn(t.segments,{});{const i=function qi(t){return T(t[0])?t[0].outlets:{[Lt]:t}}(n),r={};if(Object.keys(i).some(s=>s!==Lt)&&t.children[Lt]&&1===t.numberOfChildren&&0===t.children[Lt].segments.length){const s=wo(t.children[Lt],e,n);return new tn(t.segments,s.children)}return Object.entries(i).forEach(([s,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(r[s]=us(t.children[s],e,l))}),Object.entries(t.children).forEach(([s,l])=>{void 0===i[s]&&(r[s]=l)}),new tn(t.segments,r)}}function bc(t,e,n){const i=t.segments.slice(0,e);let r=0;for(;r<n.length;){const s=n[r];if(T(s)){const p=Oa(s.outlets);return new tn(i,p)}if(0===r&&E(n[0])){i.push(new ed(t.segments[e].path,Na(n[0]))),r++;continue}const l=T(s)?s.outlets[Lt]:`${s}`,h=r<n.length-1?n[r+1]:null;l&&h&&E(h)?(i.push(new ed(l,Na(h))),r+=2):(i.push(new ed(l,{})),r++)}return new tn(i,{})}function Oa(t){const e={};return Object.entries(t).forEach(([n,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[n]=bc(new tn([],{}),0,i))}),e}function Na(t){const e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function od(t,e,n){return t==n.path&&hr(e,n.parameters)}const wc="imperative";class ds{constructor(e,n){this.id=e,this.url=n}}class El extends ds{constructor(e,n,i="imperative",r=null){super(e,n),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ia extends ds{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xc extends ds{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class ra extends ds{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=16}}class ad extends ds{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sf extends ds{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class IC extends ds{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yR extends ds{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class SC extends ds{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hU extends ds{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class DC{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fU{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vR{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bR{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eb{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wR{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xR{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Df{}class AC{constructor(e){this.url=e}}class pU{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new hg,this.attachRef=null}}let hg=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){const s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){const r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new pU,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class ER{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=tb(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){const n=tb(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=ld(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ld(e,this._root).map(n=>n.value)}}function tb(t,e){if(t===e.value)return e;for(const n of e.children){const i=tb(t,n);if(i)return i}return null}function ld(t,e){if(t===e.value)return[e];for(const n of e.children){const i=ld(t,n);if(i.length)return i.unshift(e),i}return[]}class Ks{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Ec(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class nb extends ER{constructor(e,n){super(e),this.snapshot=n,sb(this,e)}toString(){return this.snapshot.toString()}}function ib(t,e){const n=function cd(t,e){const l=new Ic([],{},{},"",{},Lt,e,null,{});return new Af("",new Ks(l,[]))}(0,e),i=new Ii.X([new ed("",{})]),r=new Ii.X({}),s=new Ii.X({}),l=new Ii.X({}),h=new Ii.X(""),p=new Cc(i,r,l,h,s,Lt,e,n.root);return p.snapshot=n.root,new nb(new Ks(p,[]),n)}class Cc{constructor(e,n,i,r,s,l,h,p){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=l,this.component=h,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,bt.U)(g=>g[Xo]))??(0,at.of)(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(e=>Jo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(e=>Jo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rb(t,e="emptyOnly"){const n=t.pathFromRoot;let i=0;if("always"!==e)for(i=n.length-1;i>=1;){const r=n[i],s=n[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function fg(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(i))}class Ic{get title(){return this.data?.[Xo]}constructor(e,n,i,r,s,l,h,p,g){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=l,this.component=h,this.routeConfig=p,this._resolve=g}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Af extends ER{constructor(e,n){super(n),this.url=e,sb(this,n)}toString(){return TC(this._root)}}function sb(t,e){e.value._routerState=t,e.children.forEach(n=>sb(t,n))}function TC(t){const e=t.children.length>0?` { ${t.children.map(TC).join(", ")} } `:"";return`${t.value}${e}`}function ob(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,hr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),hr(e.params,n.params)||t.paramsSubject.next(n.params),function ig(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!hr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),hr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function pg(t,e){const n=hr(t.params,e.params)&&function Kv(t,e){return Ra(t,e)&&t.every((n,i)=>hr(n.parameters,e[i].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||pg(t.parent,e.parent))}let Tf=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Lt,this.activateEvents=new u.vpe,this.deactivateEvents=new u.vpe,this.attachEvents=new u.vpe,this.detachEvents=new u.vpe,this.parentContexts=(0,u.f3M)(hg),this.location=(0,u.f3M)(u.s_b),this.changeDetector=(0,u.f3M)(u.sBO),this.environmentInjector=(0,u.f3M)(u.lqb),this.inputBinder=(0,u.f3M)(mg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){const{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new u.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new u.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new u.vHH(4012,!1);this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new u.vHH(4013,!1);this._activatedRoute=i;const s=this.location,h=i.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,g=new CR(i,p,s.injector);this.activated=s.createComponent(h,{index:s.length,injector:g,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[u.TTD]}),e})();class CR{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Cc?this.route:e===hg?this.childContexts:this.parent.get(e,n)}}const mg=new u.OlP("");let MC=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){const{activatedRoute:r}=i,s=Ca([r.queryParams,r.params,r.data]).pipe((0,Vn.w)(([l,h,p],g)=>(p={...l,...h,...p},0===g?(0,at.of)(p):Promise.resolve(p)))).subscribe(l=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(i);const h=(0,u.qFp)(r.component);if(h)for(const{templateName:p}of h.inputs)i.activatedComponentRef.setInput(p,l[p]);else this.unsubscribeFromRouteData(i)});this.outletDataSubscriptions.set(i,s)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();function Mf(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const i=n.value;i._futureSnapshot=e.value;const r=function IR(t,e,n){return e.children.map(i=>{for(const r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return Mf(t,i,r);return Mf(t,i)})}(t,e,n);return new Ks(i,r)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(h=>Mf(t,h)),l}}const i=function hs(t){return new Cc(new Ii.X(t.url),new Ii.X(t.params),new Ii.X(t.queryParams),new Ii.X(t.fragment),new Ii.X(t.data),t.outlet,t.component,t)}(e.value),r=e.children.map(s=>Mf(t,s));return new Ks(i,r)}}const Rf="ngNavigationCancelingError";function ab(t,e){const{redirectTo:n,navigationBehaviorOptions:i}=ka(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=gg(!1,0,e);return r.url=n,r.navigationBehaviorOptions=i,r}function gg(t,e,n){const i=new Error("NavigationCancelingError: "+(t||""));return i[Rf]=!0,i.cancellationCode=e,n&&(i.url=n),i}function ud(t){return t&&t[Rf]}let _g=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[u.jDz],decls:1,vars:0,template:function(i,r){1&i&&u._UZ(0,"router-outlet")},dependencies:[Tf],encapsulation:2}),e})();function kf(t){const e=t.children&&t.children.map(kf),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Lt&&(n.component=_g),n}function As(t){return t.outlet||Lt}function Pa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class OC{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),ob(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){const r=Ec(n);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,r[l],i),delete r[l]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){const r=e.value,s=n?n.value:null;if(r===s)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,n,l.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Ec(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);if(i&&i.outlet){const l=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:h})}}deactivateRouteAndOutlet(e,n){const i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=Ec(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){const r=Ec(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new wR(s.value.snapshot))}),e.children.length&&this.forwardEvent(new bR(e.value.snapshot))}activateRoutes(e,n,i){const r=e.value,s=n?n.value:null;if(ob(r),r===s)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,l.children)}else this.activateChildRoutes(e,n,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),ob(h.route.value),this.activateChildRoutes(e,null,l.children)}else{const h=Pa(r.snapshot);l.attachRef=null,l.route=r,l.injector=h,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class lb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Of{constructor(e,n){this.component=e,this.route=n}}function dd(t,e,n){const i=t._root;return Dc(i,e?e._root:null,n,[i.value])}function Sc(t,e){const n=Symbol(),i=e.get(t,n);return i===n?"function"!=typeof t||(0,u.Z0I)(t)?e.get(t):t:i}function Dc(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ec(e);return t.children.forEach(l=>{(function vg(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,l=e?e.value:null,h=n?n.getContext(t.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const p=function NR(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Ra(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ra(t.url,e.url)||!hr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pg(t,e)||!hr(t.queryParams,e.queryParams);default:return!pg(t,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new lb(i)):(s.data=l.data,s._resolvedData=l._resolvedData),Dc(t,e,s.component?h?h.children:null:n,i,r),p&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Of(h.outlet.component,l))}else l&&Nf(e,h,r),r.canActivateChecks.push(new lb(i)),Dc(t,null,s.component?h?h.children:null:n,i,r)})(l,s[l.value.outlet],n,i.concat([l.value]),r),delete s[l.value.outlet]}),Object.entries(s).forEach(([l,h])=>Nf(h,n.getContext(l),r)),r}function Nf(t,e,n){const i=Ec(t),r=t.value;Object.entries(i).forEach(([s,l])=>{Nf(l,r.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new Of(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Pf(t){return"function"==typeof t}function FC(t){return t instanceof Ia||"EmptyError"===t?.name}const hd=Symbol("INITIAL_VALUE");function Ac(){return(0,Vn.w)(t=>Ca(t.map(e=>e.pipe(Gr(1),Zo(hd)))).pipe((0,bt.U)(e=>{for(const n of e)if(!0!==n){if(n===hd)return hd;if(!1===n||n instanceof ta)return n}return!0}),xn(e=>e!==hd),Gr(1)))}function ub(t){return(0,gc.z)(En(e=>{if(ka(e))throw ab(0,e)}),(0,bt.U)(e=>!0===e))}class Ff{constructor(e){this.segmentGroup=e||null}}class Lf{constructor(e){this.urlTree=e}}function sa(t){return Ko(new Ff(t))}function hb(t){return Ko(new Lf(t))}class jC{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new u.vHH(4002,!1)}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return(0,at.of)(i);if(r.numberOfChildren>1||!r.children[Lt])return Ko(new u.vHH(4e3,!1));r=r.children[Lt]}}applyRedirectCommands(e,n,i){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i)}applyRedirectCreateUrlTree(e,n,i,r){const s=this.createSegmentGroup(e,n.root,i,r);return new ta(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const h=s.substring(1);i[r]=n[h]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){const s=this.createSegments(e,n.segments,i,r);let l={};return Object.entries(n.children).forEach(([h,p])=>{l[h]=this.createSegmentGroup(e,p,i,r)}),new tn(s,l)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){const r=i[n.path.substring(1)];if(!r)throw new u.vHH(4001,!1);return r}findOrReturn(e,n){let i=0;for(const r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}}const Bf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Vf(t,e,n,i,r){const s=pb(t,e,n);return s.matched?(i=function kC(t,e){return t.providers&&!t._injector&&(t._injector=(0,u.MMx)(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,i),function db(t,e,n,i){const r=e.canMatch;if(!r||0===r.length)return(0,at.of)(!0);const s=r.map(l=>{const h=Sc(l,t);return ea(function cb(t){return t&&Pf(t.canMatch)}(h)?h.canMatch(e,n):t.runInContext(()=>h(e,n)))});return(0,at.of)(s).pipe(Ac(),ub())}(i,e,n).pipe((0,bt.U)(l=>!0===l?s:{...Bf}))):(0,at.of)(s)}function pb(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...Bf}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const r=(e.matcher||ng)(n,t,e);if(!r)return{...Bf};const s={};Object.entries(r.posParams??{}).forEach(([h,p])=>{s[h]=p.path});const l=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function mb(t,e,n,i){return n.length>0&&function HR(t,e,n){return n.some(i=>Uf(t,e,i)&&As(i)!==Lt)}(t,n,i)?{segmentGroup:new tn(e,zR(i,new tn(n,t.children))),slicedSegments:[]}:0===n.length&&function zC(t,e,n){return n.some(i=>Uf(t,e,i))}(t,n,i)?{segmentGroup:new tn(t.segments,jR(t,0,n,i,t.children)),slicedSegments:n}:{segmentGroup:new tn(t.segments,t.children),slicedSegments:n}}function jR(t,e,n,i,r){const s={};for(const l of i)if(Uf(t,n,l)&&!r[As(l)]){const h=new tn([],{});s[As(l)]=h}return{...r,...s}}function zR(t,e){const n={};n[Lt]=e;for(const i of t)if(""===i.path&&As(i)!==Lt){const r=new tn([],{});n[As(i)]=r}return n}function Uf(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class $R{constructor(e,n,i,r,s,l,h){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=l,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new jC(this.urlSerializer,this.urlTree)}noMatchError(e){return new u.vHH(4002,!1)}recognize(){const e=mb(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Lt).pipe(ls(n=>{if(n instanceof Lf)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Ff?this.noMatchError(n):n}),(0,bt.U)(n=>{const i=new Ic([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Lt,this.rootComponentType,null,{}),r=new Ks(i,n),s=new Af("",r),l=function x(t,e,n=null,i=null){return y(_(t),e,n,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(s._root),{state:s,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Lt).pipe(ls(i=>{throw i instanceof Ff?this.noMatchError(i):i}))}inheritParamsAndData(e){const n=e.value,i=rb(n,this.paramsInheritanceStrategy);n.params=Object.freeze(i.params),n.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,n,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0)}processChildren(e,n,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,wn.D)(r).pipe(Qo(s=>{const l=i.children[s],h=function kR(t,e){const n=t.filter(i=>As(i)===e);return n.push(...t.filter(i=>As(i)!==e)),n}(n,s);return this.processSegmentGroup(e,h,l,s)}),Da((s,l)=>(s.push(...l),s)),_c(null),function tg(t,e){const n=arguments.length>=2;return i=>i.pipe(t?xn((r,s)=>t(r,s,i)):Ea.y,yl(1),n?_c(e):yc(()=>new Ia))}(),(0,Wi.z)(s=>{if(null===s)return sa(i);const l=HC(s);return function GR(t){t.sort((e,n)=>e.value.outlet===Lt?-1:n.value.outlet===Lt?1:e.value.outlet.localeCompare(n.value.outlet))}(l),(0,at.of)(l)}))}processSegment(e,n,i,r,s,l){return(0,wn.D)(n).pipe(Qo(h=>this.processSegmentAgainstRoute(h._injector??e,n,h,i,r,s,l).pipe(ls(p=>{if(p instanceof Ff)return(0,at.of)(null);throw p}))),gi(h=>!!h),ls(h=>{if(FC(h))return function gb(t,e,n){return 0===e.length&&!t.children[n]}(i,r,s)?(0,at.of)([]):sa(i);throw h}))}processSegmentAgainstRoute(e,n,i,r,s,l,h){return function Eg(t,e,n,i){return!!(As(t)===i||i!==Lt&&Uf(e,n,t))&&("**"===t.path||pb(e,t,n).matched)}(i,r,s,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,l,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,l):sa(r):sa(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,r,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,r){const s=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?hb(s):this.applyRedirects.lineralizeSegments(i,s).pipe((0,Wi.z)(l=>{const h=new tn(l,{});return this.processSegment(e,n,h,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,i,r,s,l){const{matched:h,consumedSegments:p,remainingSegments:g,positionalParamSegments:b}=pb(n,r,s);if(!h)return sa(n);const C=this.applyRedirects.applyRedirectCommands(p,r.redirectTo,b);return r.redirectTo.startsWith("/")?hb(C):this.applyRedirects.lineralizeSegments(r,C).pipe((0,Wi.z)(D=>this.processSegment(e,i,n,D.concat(g),l,!1)))}matchSegmentAgainstRoute(e,n,i,r,s,l){let h;if("**"===i.path){const p=r.length>0?_i(r).parameters:{},g=new Ic(r,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GC(i),As(i),i.component??i._loadedComponent??null,i,Mc(i));h=(0,at.of)({snapshot:g,consumedSegments:[],remainingSegments:[]}),n.children={}}else h=Vf(n,i,r,e).pipe((0,bt.U)(({matched:p,consumedSegments:g,remainingSegments:b,parameters:C})=>p?{snapshot:new Ic(g,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,GC(i),As(i),i.component??i._loadedComponent??null,i,Mc(i)),consumedSegments:g,remainingSegments:b}:null));return h.pipe((0,Vn.w)(p=>null===p?sa(n):this.getChildConfig(e=i._injector??e,i,r).pipe((0,Vn.w)(({routes:g})=>{const b=i._loadedInjector??e,{snapshot:C,consumedSegments:D,remainingSegments:R}=p,{segmentGroup:B,slicedSegments:G}=mb(n,D,R,g);if(0===G.length&&B.hasChildren())return this.processChildren(b,g,B).pipe((0,bt.U)(le=>null===le?null:[new Ks(C,le)]));if(0===g.length&&0===G.length)return(0,at.of)([new Ks(C,[])]);const q=As(i)===s;return this.processSegment(b,g,B,G,q?Lt:s,!0).pipe((0,bt.U)(le=>[new Ks(C,le)]))}))))}getChildConfig(e,n,i){return n.children?(0,at.of)({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?(0,at.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):function UC(t,e,n,i){const r=e.canLoad;if(void 0===r||0===r.length)return(0,at.of)(!0);const s=r.map(l=>{const h=Sc(l,t);return ea(function FR(t){return t&&Pf(t.canLoad)}(h)?h.canLoad(e,n):t.runInContext(()=>h(e,n)))});return(0,at.of)(s).pipe(Ac(),ub())}(e,n,i).pipe((0,Wi.z)(r=>r?this.configLoader.loadChildren(e,n).pipe(En(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function xg(t){return Ko(gg(!1,3))}())):(0,at.of)({routes:[],injector:e})}}function vU(t){const e=t.value.routeConfig;return e&&""===e.path}function HC(t){const e=[],n=new Set;for(const i of t){if(!vU(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),n.add(r)):e.push(i)}for(const i of n){const r=HC(i.children);e.push(new Ks(i.value,r))}return e.filter(i=>!n.has(i))}function GC(t){return t.data||{}}function Mc(t){return t.resolve||{}}function KC(t){return"string"==typeof t.title||null===t.title}function yb(t){return(0,Vn.w)(e=>{const n=t(e);return n?(0,wn.D)(n).pipe((0,bt.U)(()=>e)):(0,at.of)(e)})}const pd=new u.OlP("ROUTES");let vb=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,u.f3M)(u.Sil)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return(0,at.of)(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);const r=ea(i.loadComponent()).pipe((0,bt.U)(kc),En(l=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=l}),Aa(()=>{this.componentLoaders.delete(i)})),s=new Zu(r,()=>new jt.x).pipe(bf());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,at.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const l=function WR(t,e,n,i){return ea(t.loadChildren()).pipe((0,bt.U)(kc),(0,Wi.z)(r=>r instanceof u.YKP||Array.isArray(r)?(0,at.of)(r):(0,wn.D)(e.compileModuleAsync(r))),(0,bt.U)(r=>{i&&i(t);let s,l,h=!1;return Array.isArray(r)?(l=r,!0):(s=r.create(n).injector,l=s.get(pd,[],{optional:!0,self:!0}).flat()),{routes:l.map(kf),injector:s}}))}(r,this.compiler,i,this.onLoadEndListener).pipe(Aa(()=>{this.childrenLoaders.delete(r)})),h=new Zu(l,()=>new jt.x).pipe(bf());return this.childrenLoaders.set(r,h),h}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function kc(t){return function Fa(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Ig=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new jt.x,this.transitionAbortSubject=new jt.x,this.configLoader=(0,u.f3M)(vb),this.environmentInjector=(0,u.f3M)(u.lqb),this.urlSerializer=(0,u.f3M)(td),this.rootContexts=(0,u.f3M)(hg),this.inputBindingEnabled=null!==(0,u.f3M)(mg,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,at.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new fU(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new DC(s))}complete(){this.transitions?.complete()}handleNavigationRequest(i){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...i,id:r})}setupNavigations(i,r,s){return this.transitions=new Ii.X({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:i.urlHandlingStrategy.extract(r),urlAfterRedirects:i.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wc,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(xn(l=>0!==l.id),(0,bt.U)(l=>({...l,extractedUrl:i.urlHandlingStrategy.extract(l.rawUrl)})),(0,Vn.w)(l=>{this.currentTransition=l;let h=!1,p=!1;return(0,at.of)(l).pipe(En(g=>{this.currentNavigation={id:g.id,initialUrl:g.rawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Vn.w)(g=>{const b=g.currentBrowserUrl.toString(),C=!i.navigated||g.extractedUrl.toString()!==b||b!==g.currentUrlTree.toString();if(!C&&"reload"!==(g.extras.onSameUrlNavigation??i.onSameUrlNavigation)){const R="";return this.events.next(new ra(g.id,this.urlSerializer.serialize(g.rawUrl),R,0)),g.resolve(null),_o.E}if(i.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return(0,at.of)(g).pipe((0,Vn.w)(R=>{const B=this.transitions?.getValue();return this.events.next(new El(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),B!==this.transitions?.getValue()?_o.E:Promise.resolve(R)}),function Cg(t,e,n,i,r,s){return(0,Wi.z)(l=>function fd(t,e,n,i,r,s,l="emptyOnly"){return new $R(t,e,n,i,r,l,s).recognize()}(t,e,n,i,l.extractedUrl,r,s).pipe((0,bt.U)(({state:h,tree:p})=>({...l,targetSnapshot:h,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,i.paramsInheritanceStrategy),En(R=>{l.targetSnapshot=R.targetSnapshot,l.urlAfterRedirects=R.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects};const B=new Sf(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(B)}));if(C&&i.urlHandlingStrategy.shouldProcessUrl(g.currentRawUrl)){const{id:R,extractedUrl:B,source:G,restoredState:q,extras:le}=g,De=new El(R,this.urlSerializer.serialize(B),G,q);this.events.next(De);const Be=ib(0,this.rootComponentType).snapshot;return this.currentTransition=l={...g,targetSnapshot:Be,urlAfterRedirects:B,extras:{...le,skipLocationChange:!1,replaceUrl:!1}},(0,at.of)(l)}{const R="";return this.events.next(new ra(g.id,this.urlSerializer.serialize(g.extractedUrl),R,1)),g.resolve(null),_o.E}}),En(g=>{const b=new IC(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(b)}),(0,bt.U)(g=>(this.currentTransition=l={...g,guards:dd(g.targetSnapshot,g.currentSnapshot,this.rootContexts)},l)),function Tc(t,e){return(0,Wi.z)(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:l}}=n;return 0===l.length&&0===s.length?(0,at.of)({...n,guardsResult:!0}):function LC(t,e,n,i){return(0,wn.D)(t).pipe((0,Wi.z)(r=>function VC(t,e,n,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,at.of)(!0);const l=s.map(h=>{const p=Pa(e)??r,g=Sc(h,p);return ea(function bg(t){return t&&Pf(t.canDeactivate)}(g)?g.canDeactivate(t,e,n,i):p.runInContext(()=>g(t,e,n,i))).pipe(gi())});return(0,at.of)(l).pipe(Ac())}(r.component,r.route,n,e,i)),gi(r=>!0!==r,!0))}(l,i,r,t).pipe((0,Wi.z)(h=>h&&function PR(t){return"boolean"==typeof t}(h)?function BC(t,e,n,i){return(0,wn.D)(e).pipe(Qo(r=>Yo(function yU(t,e){return null!==t&&e&&e(new vR(t)),(0,at.of)(!0)}(r.route.parent,i),function VR(t,e){return null!==t&&e&&e(new eb(t)),(0,at.of)(!0)}(r.route,i),function UR(t,e,n){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function yg(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(l)).filter(l=>null!==l).map(l=>vf(()=>{const h=l.guards.map(p=>{const g=Pa(l.node)??n,b=Sc(p,g);return ea(function NC(t){return t&&Pf(t.canActivateChild)}(b)?b.canActivateChild(i,t):g.runInContext(()=>b(i,t))).pipe(gi())});return(0,at.of)(h).pipe(Ac())}));return(0,at.of)(s).pipe(Ac())}(t,r.path,n),function wg(t,e,n){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return(0,at.of)(!0);const r=i.map(s=>vf(()=>{const l=Pa(e)??n,h=Sc(s,l);return ea(function LR(t){return t&&Pf(t.canActivate)}(h)?h.canActivate(e,t):l.runInContext(()=>h(e,t))).pipe(gi())}));return(0,at.of)(r).pipe(Ac())}(t,r.route,n))),gi(r=>!0!==r,!0))}(i,s,t,e):(0,at.of)(h)),(0,bt.U)(h=>({...n,guardsResult:h})))})}(this.environmentInjector,g=>this.events.next(g)),En(g=>{if(l.guardsResult=g.guardsResult,ka(g.guardsResult))throw ab(0,g.guardsResult);const b=new yR(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.events.next(b)}),xn(g=>!!g.guardsResult||(this.cancelNavigationTransition(g,"",3),!1)),yb(g=>{if(g.guards.canActivateChecks.length)return(0,at.of)(g).pipe(En(b=>{const C=new SC(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(C)}),(0,Vn.w)(b=>{let C=!1;return(0,at.of)(b).pipe(function _b(t,e){return(0,Wi.z)(n=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return(0,at.of)(n);let s=0;return(0,wn.D)(r).pipe(Qo(l=>function WC(t,e,n,i){const r=t.routeConfig,s=t._resolve;return void 0!==r?.title&&!KC(r)&&(s[Xo]=r.title),function qC(t,e,n,i){const r=function YC(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===r.length)return(0,at.of)({});const s={};return(0,wn.D)(r).pipe((0,Wi.z)(l=>function Rc(t,e,n,i){const r=Pa(e)??i,s=Sc(t,r);return ea(s.resolve?s.resolve(e,n):r.runInContext(()=>s(e,n)))}(t[l],e,n,i).pipe(gi(),En(h=>{s[l]=h}))),yl(1),function wf(t){return(0,bt.U)(()=>t)}(s),ls(l=>FC(l)?_o.E:Ko(l)))}(s,t,e,i).pipe((0,bt.U)(l=>(t._resolvedData=l,t.data=rb(t,n).resolve,r&&KC(r)&&(t.data[Xo]=r.title),null)))}(l.route,i,t,e)),En(()=>s++),yl(1),(0,Wi.z)(l=>s===r.length?(0,at.of)(n):_o.E))})}(i.paramsInheritanceStrategy,this.environmentInjector),En({next:()=>C=!0,complete:()=>{C||this.cancelNavigationTransition(b,"",2)}}))}),En(b=>{const C=new hU(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(C)}))}),yb(g=>{const b=C=>{const D=[];C.routeConfig?.loadComponent&&!C.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(C.routeConfig).pipe(En(R=>{C.component=R}),(0,bt.U)(()=>{})));for(const R of C.children)D.push(...b(R));return D};return Ca(b(g.targetSnapshot.root)).pipe(_c(),Gr(1))}),yb(()=>this.afterPreactivation()),(0,bt.U)(g=>{const b=function RC(t,e,n){const i=Mf(t,e._root,n?n._root:void 0);return new nb(i,e)}(i.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return this.currentTransition=l={...g,targetRouterState:b},l}),En(()=>{this.events.next(new Df)}),((t,e,n,i)=>(0,bt.U)(r=>(new OC(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)))(this.rootContexts,i.routeReuseStrategy,g=>this.events.next(g),this.inputBindingEnabled),Gr(1),En({next:g=>{h=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ia(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects))),i.titleStrategy?.updateTitle(g.targetRouterState.snapshot),g.resolve(!0)},complete:()=>{h=!0}}),Si(this.transitionAbortSubject.pipe(En(g=>{throw g}))),Aa(()=>{h||p||this.cancelNavigationTransition(l,"",1),this.currentNavigation?.id===l.id&&(this.currentNavigation=null)}),ls(g=>{if(p=!0,ud(g))this.events.next(new xc(l.id,this.urlSerializer.serialize(l.extractedUrl),g.message,g.cancellationCode)),function Dr(t){return ud(t)&&ka(t.url)}(g)?this.events.next(new AC(g.url)):l.resolve(!1);else{this.events.next(new ad(l.id,this.urlSerializer.serialize(l.extractedUrl),g,l.targetSnapshot??void 0));try{l.resolve(i.errorHandler(g))}catch(b){l.reject(b)}}return _o.E}))}))}cancelNavigationTransition(i,r,s){const l=new xc(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(l),i.resolve(!1)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function ZC(t){return t!==wc}let QC=(()=>{var t;class e{buildTitle(i){let r,s=i.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(l=>l.outlet===Lt);return r}getResolvedTitleForRoute(i){return i.data[Xo]}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return(0,u.f3M)(qR)},providedIn:"root"}),e})(),qR=(()=>{var t;class e extends QC{constructor(i){super(),this.title=i}updateTitle(i){const r=this.buildTitle(i);void 0!==r&&this.title.setTitle(r)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Me))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),YR=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return(0,u.f3M)(XC)},providedIn:"root"}),e})();class KR{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let XC=(()=>{var t;class e extends KR{}return(t=e).\u0275fac=function(){let n;return function(r){return(n||(n=u.n5z(t)))(r||t)}}(),t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Sg=new u.OlP("",{providedIn:"root",factory:()=>({})});let ZR=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:function(){return(0,u.f3M)(QR)},providedIn:"root"}),e})(),QR=(()=>{var t;class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var jf=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(jf||{});function zf(t,e){t.events.pipe(xn(n=>n instanceof ia||n instanceof xc||n instanceof ad||n instanceof ra),(0,bt.U)(n=>n instanceof ia||n instanceof ra?jf.COMPLETE:n instanceof xc&&(0===n.code||1===n.code)?jf.REDIRECTING:jf.FAILED),xn(n=>n!==jf.REDIRECTING),Gr(1)).subscribe(()=>{e()})}function La(t){throw t}function Hf(t,e,n){return e.parse("/")}const JC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ar=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,u.f3M)(u.c2e),this.isNgZoneEnabled=!1,this._events=new jt.x,this.options=(0,u.f3M)(Sg,{optional:!0})||{},this.pendingTasks=(0,u.f3M)(u.HDt),this.errorHandler=this.options.errorHandler||La,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Hf,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,u.f3M)(ZR),this.routeReuseStrategy=(0,u.f3M)(YR),this.titleStrategy=(0,u.f3M)(QC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,u.f3M)(pd,{optional:!0})?.flat()??[],this.navigationTransitions=(0,u.f3M)(Ig),this.urlSerializer=(0,u.f3M)(td),this.location=(0,u.f3M)(Ne),this.componentInputBindingEnabled=!!(0,u.f3M)(mg,{optional:!0}),this.eventsSubscription=new yo.w0,this.isNgZoneEnabled=(0,u.f3M)(u.R0b)instanceof u.R0b&&u.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ta,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=ib(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(i=>{this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId},i=>{this.console.warn(`Unhandled Navigation Error: ${i}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const i=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(XR(r)&&this._events.next(r));if(r instanceof El)ZC(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(r instanceof ra)this.rawUrlTree=s.rawUrl;else if(r instanceof Sf){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const l=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(l,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(r instanceof Df)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(r instanceof xc)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(s);else if(r instanceof AC){const l=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),h={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ZC(s.source)};this.scheduleNavigation(l,wc,null,h,{resolve:s.resolve,reject:s.reject,promise:s.promise})}r instanceof ad&&this.restoreHistory(s,!0),r instanceof ia&&(this.navigated=!0),XR(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const i=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),wc,i)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const r="popstate"===i.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(i.url,r,i.state)},0)}))}navigateToSyncWithBrowser(i,r,s){const l={replaceUrl:!0},h=s?.navigationId?s:null;if(s){const g={...s};delete g.navigationId,delete g.\u0275routerPageId,0!==Object.keys(g).length&&(l.state=g)}const p=this.parseUrl(i);this.scheduleNavigation(p,r,h,l)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(kf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){const{relativeTo:s,queryParams:l,fragment:h,queryParamsHandling:p,preserveFragment:g}=r,b=g?this.currentUrlTree.fragment:h;let D,C=null;switch(p){case"merge":C={...this.currentUrlTree.queryParams,...l};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=l||null}null!==C&&(C=this.removeEmptyProps(C));try{D=_(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof i[0]||!i[0].startsWith("/"))&&(i=[]),D=this.currentUrlTree.root}return y(D,i,C,b??null)}navigateByUrl(i,r={skipLocationChange:!1}){const s=ka(i)?i:this.parseUrl(i),l=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(l,wc,null,r)}navigate(i,r={skipLocationChange:!1}){return function bU(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new u.vHH(4008,!1)}(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let r;try{r=this.urlSerializer.parse(i)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,i)}return r}isActive(i,r){let s;if(s=!0===r?{...JC}:!1===r?{...eI}:r,ka(i))return og(this.currentUrlTree,i,s);const l=this.parseUrl(i);return og(this.currentUrlTree,l,s)}removeEmptyProps(i){return Object.keys(i).reduce((r,s)=>{const l=i[s];return null!=l&&(r[s]=l),r},{})}scheduleNavigation(i,r,s,l,h){if(this.disposed)return Promise.resolve(!1);let p,g,b;h?(p=h.resolve,g=h.reject,b=h.promise):b=new Promise((D,R)=>{p=D,g=R});const C=this.pendingTasks.add();return zf(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(C))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:i,extras:l,resolve:p,reject:g,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(D=>Promise.reject(D))}setBrowserUrl(i,r){const s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const h={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",h)}else{const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(s,"",l)}}restoreHistory(i,r=!1){if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-this.browserPageId;0!==l?this.location.historyGo(l):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===l&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function XR(t){return!(t instanceof Df||t instanceof AC)}class JR{}let tk=(()=>{var t;class e{constructor(i,r,s,l,h){this.router=i,this.injector=s,this.preloadingStrategy=l,this.loader=h}setUpPreloading(){this.subscription=this.router.events.pipe(xn(i=>i instanceof ia),Qo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){const s=[];for(const l of r){l.providers&&!l._injector&&(l._injector=(0,u.MMx)(l.providers,i,`Route: ${l.path}`));const h=l._injector??i,p=l._loadedInjector??h;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&s.push(this.preloadConfig(h,l)),(l.children||l._loadedRoutes)&&s.push(this.processRoutes(p,l.children??l._loadedRoutes))}return(0,wn.D)(s).pipe((0,mc.J)())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(i,r):(0,at.of)(null);const l=s.pipe((0,Wi.z)(h=>null===h?(0,at.of)(void 0):(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,this.processRoutes(h.injector??i,h.routes))));if(r.loadComponent&&!r._loadedComponent){const h=this.loader.loadComponent(r);return(0,wn.D)([l,h]).pipe((0,mc.J)())}return l})}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Ar),u.LFG(u.Sil),u.LFG(u.lqb),u.LFG(JR),u.LFG(vb))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const xb=new u.OlP("");let nI=(()=>{var t;class e{constructor(i,r,s,l,h={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=l,this.options=h,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},h.scrollPositionRestoration=h.scrollPositionRestoration||"disabled",h.anchorScrolling=h.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof El?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof ia?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof ra&&0===i.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof xR&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xR(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(i){u.$Z()},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();function Zs(t,e){return{\u0275kind:t,\u0275providers:e}}function sI(){const t=(0,u.f3M)(u.zs3);return e=>{const n=t.get(u.z2F);if(e!==n.components[0])return;const i=t.get(Ar),r=t.get(oI);1===t.get(Dg)&&i.initialNavigation(),t.get(lI,null,u.XFs.Optional)?.setUpPreloading(),t.get(xb,null,u.XFs.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const oI=new u.OlP("",{factory:()=>new jt.x}),Dg=new u.OlP("",{providedIn:"root",factory:()=>1}),lI=new u.OlP("");function ik(t){return Zs(0,[{provide:lI,useExisting:tk},{provide:JR,useExisting:t}])}const gd=new u.OlP("ROUTER_FORROOT_GUARD"),cI=[Ne,{provide:td,useClass:lg},Ar,hg,{provide:Cc,useFactory:function Eb(t){return t.routerState.root},deps:[Ar]},vb,[]];function uI(){return new u.PXZ("Router",Ar)}let Ag=(()=>{var t;class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[cI,[],{provide:pd,multi:!0,useValue:i},{provide:gd,useFactory:hI,deps:[[Ar,new u.FiY,new u.tp0]]},{provide:Sg,useValue:r||{}},r?.useHash?{provide:Re,useClass:Te}:{provide:Re,useClass:et},{provide:xb,useFactory:()=>{const t=(0,u.f3M)(or),e=(0,u.f3M)(u.R0b),n=(0,u.f3M)(Sg),i=(0,u.f3M)(Ig),r=(0,u.f3M)(td);return n.scrollOffset&&t.setOffset(n.scrollOffset),new nI(r,i,t,e,n)}},r?.preloadingStrategy?ik(r.preloadingStrategy).\u0275providers:[],{provide:u.PXZ,multi:!0,useFactory:uI},r?.initialNavigation?Tg(r):[],r?.bindToComponentInputs?Zs(8,[MC,{provide:mg,useExisting:MC}]).\u0275providers:[],[{provide:ok,useFactory:sI},{provide:u.tb,multi:!0,useExisting:ok}]]}}static forChild(i){return{ngModule:e,providers:[{provide:pd,multi:!0,useValue:i}]}}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(gd,8))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),e})();function hI(t){return"guarded"}function Tg(t){return["disabled"===t.initialNavigation?Zs(3,[{provide:u.ip1,multi:!0,useFactory:()=>{const e=(0,u.f3M)(Ar);return()=>{e.setUpLocationChangeListener()}}},{provide:Dg,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Zs(2,[{provide:Dg,useValue:0},{provide:u.ip1,multi:!0,deps:[u.zs3],useFactory:e=>{const n=e.get(Ce,Promise.resolve());return()=>n.then(()=>new Promise(i=>{const r=e.get(Ar),s=e.get(oI);zf(r,()=>{i(!0)}),e.get(Ig).afterPreactivation=()=>(i(!0),s.closed?(0,at.of)(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const ok=new u.OlP("");var Sb=P(9402),Ze=P(534);(0,Ze.registerVersion)("firebase","9.23.0","app");var Q=P(5861),$=P(9058),Yi=P(4537),pr=P(7879);const uk=(t,e)=>e.some(n=>t instanceof n);let pI,Ab;const mI=new WeakMap,Tb=new WeakMap,Mg=new WeakMap,Rg=new WeakMap,Mb=new WeakMap;let _I={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Tb.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Mg.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Oc(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function pk(t){return"function"==typeof t?function fk(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function dk(){return Ab||(Ab=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(yI(this),e),Oc(mI.get(this))}:function(...e){return Oc(t.apply(yI(this),e))}:function(e,...n){const i=t.call(yI(this),e,...n);return Mg.set(i,e.sort?e.sort():[e]),Oc(i)}}(t):(t instanceof IDBTransaction&&function Rb(t){if(Tb.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});Tb.set(t,e)}(t),uk(t,function yd(){return pI||(pI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,_I):t)}function Oc(t){if(t instanceof IDBRequest)return function gI(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Oc(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&mI.set(n,t)}).catch(()=>{}),Mb.set(e,t),e}(t);if(Rg.has(t))return Rg.get(t);const e=pk(t);return e!==t&&(Rg.set(t,e),Mb.set(e,t)),e}const yI=t=>Mb.get(t),kb=["get","getKey","getAll","getAllKeys","count"],Ob=["put","add","delete","clear"],Cl=new Map;function Og(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Cl.get(e))return Cl.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Ob.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!kb.includes(n))return;const s=function(){var l=(0,Q.Z)(function*(h,...p){const g=this.transaction(h,r?"readwrite":"readonly");let b=g.store;return i&&(b=b.index(p.shift())),(yield Promise.all([b[n](...p),r&&g.done]))[0]});return function(p){return l.apply(this,arguments)}}();return Cl.set(e,s),s}!function hk(t){_I=t(_I)}(t=>({...t,get:(e,n,i)=>Og(e,n)||t.get(e,n,i),has:(e,n)=>!!Og(e,n)||t.has(e,n)}));const Ng="@firebase/installations",Nc="0.6.4",Gf=1e4,Pc=`w:${Nc}`,Pg="FIS_v2",Nb="https://firebaseinstallations.googleapis.com/v1",Fg=36e5,Ba=new $.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Fb(t){return t instanceof $.ZR&&t.code.includes("request-failed")}function Lb({projectId:t}){return`${Nb}/projects/${t}/installations`}function vI(t){return{token:t.token,requestStatus:2,expiresIn:Bg(t.expiresIn),creationTime:Date.now()}}function qf(t,e){return Lg.apply(this,arguments)}function Lg(){return(Lg=(0,Q.Z)(function*(t,e){const i=(yield e.json()).error;return Ba.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})})).apply(this,arguments)}function bI({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function xI(t){return Bb.apply(this,arguments)}function Bb(){return(Bb=(0,Q.Z)(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Bg(t){return Number(t.replace("s","000"))}function Vg(){return(Vg=(0,Q.Z)(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const i=Lb(t),r=bI(t),s=e.getImmediate({optional:!0});if(s){const g=yield s.getHeartbeatsHeader();g&&r.append("x-firebase-client",g)}const h={method:"POST",headers:r,body:JSON.stringify({fid:n,authVersion:Pg,appId:t.appId,sdkVersion:Pc})},p=yield xI(()=>fetch(i,h));if(p.ok){const g=yield p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:vI(g.authToken)}}throw yield qf("Create Installation",p)})).apply(this,arguments)}function Ug(t){return new Promise(e=>{setTimeout(e,t)})}const gk=/^[cdef][\w-]{21}$/,zg="";function _k(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function EI(t){return function jg(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return gk.test(n)?n:zg}catch{return zg}}function Yf(t){return`${t.appName}!${t.appId}`}const vd=new Map;function bd(t,e){const n=Yf(t);xd(n,e),function vk(t,e){const n=function CI(){return!Il&&"BroadcastChannel"in self&&(Il=new BroadcastChannel("[Firebase] FID Change"),Il.onmessage=t=>{xd(t.data.key,t.data.fid)}),Il}();n&&n.postMessage({key:t,fid:e}),function II(){0===vd.size&&Il&&(Il.close(),Il=null)}()}(n,e)}function xd(t,e){const n=vd.get(t);if(n)for(const i of n)i(e)}let Il=null;const bk="firebase-installations-database",SI=1,Sl="firebase-installations-store";let Kf=null;function DI(){return Kf||(Kf=function kg(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const l=indexedDB.open(t,e),h=Oc(l);return i&&l.addEventListener("upgradeneeded",p=>{i(Oc(l.result),p.oldVersion,p.newVersion,Oc(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),h.then(p=>{s&&p.addEventListener("close",()=>s()),r&&p.addEventListener("versionchange",()=>r())}).catch(()=>{}),h}(bk,SI,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Sl)}})),Kf}function Ed(t,e){return Hg.apply(this,arguments)}function Hg(){return(Hg=(0,Q.Z)(function*(t,e){const n=Yf(t),r=(yield DI()).transaction(Sl,"readwrite"),s=r.objectStore(Sl),l=yield s.get(n);return yield s.put(e,n),yield r.done,(!l||l.fid!==e.fid)&&bd(t,e.fid),e})).apply(this,arguments)}function Ub(t){return jb.apply(this,arguments)}function jb(){return(jb=(0,Q.Z)(function*(t){const e=Yf(t),i=(yield DI()).transaction(Sl,"readwrite");yield i.objectStore(Sl).delete(e),yield i.done})).apply(this,arguments)}function Cd(t,e){return zb.apply(this,arguments)}function zb(){return(zb=(0,Q.Z)(function*(t,e){const n=Yf(t),r=(yield DI()).transaction(Sl,"readwrite"),s=r.objectStore(Sl),l=yield s.get(n),h=e(l);return void 0===h?yield s.delete(n):yield s.put(h,n),yield r.done,h&&(!l||l.fid!==h.fid)&&bd(t,h.fid),h})).apply(this,arguments)}function $g(t){return Hb.apply(this,arguments)}function Hb(){return Hb=(0,Q.Z)(function*(t){let e;const n=yield Cd(t.appConfig,i=>{const r=function wk(t){return qg(t||{fid:_k(),registrationStatus:0})}(i),s=function AU(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ba.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function AI(t,e){return Gg.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:xo(t)}:{installationEntry:e}}(t,r);return e=s.registrationPromise,s.installationEntry});return n.fid===zg?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Hb.apply(this,arguments)}function Gg(){return Gg=(0,Q.Z)(function*(t,e){try{const n=yield function mk(t,e){return Vg.apply(this,arguments)}(t,e);return Ed(t.appConfig,n)}catch(n){throw Fb(n)&&409===n.customData.serverCode?yield Ub(t.appConfig):yield Ed(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Gg.apply(this,arguments)}function xo(t){return Wg.apply(this,arguments)}function Wg(){return(Wg=(0,Q.Z)(function*(t){let e=yield xk(t.appConfig);for(;1===e.registrationStatus;)yield Ug(100),e=yield xk(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:i}=yield $g(t);return i||n}return e})).apply(this,arguments)}function xk(t){return Cd(t,e=>{if(!e)throw Ba.create("installation-not-found");return qg(e)})}function qg(t){return function Dl(t){return 1===t.registrationStatus&&t.registrationTime+Gf<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Gb(){return(Gb=(0,Q.Z)(function*({appConfig:t,heartbeatServiceProvider:e},n){const i=function TU(t,{fid:e}){return`${Lb(t)}/${e}/authTokens:generate`}(t,n),r=function wI(t,{refreshToken:e}){const n=bI(t);return n.append("Authorization",function Vb(t){return`${Pg} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const g=yield s.getHeartbeatsHeader();g&&r.append("x-firebase-client",g)}const h={method:"POST",headers:r,body:JSON.stringify({installation:{sdkVersion:Pc,appId:t.appId}})},p=yield xI(()=>fetch(i,h));if(p.ok)return vI(yield p.json());throw yield qf("Generate Auth Token",p)})).apply(this,arguments)}function Wb(t){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,Q.Z)(function*(t,e=!1){let n;const i=yield Cd(t.appConfig,s=>{if(!MI(s))throw Ba.create("not-registered");const l=s.authToken;if(!e&&function qb(t){return 2===t.requestStatus&&!function Ek(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Fg}(t)}(l))return s;if(1===l.requestStatus)return n=function oa(t,e){return Yg.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Ba.create("app-offline");const h=function Ck(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function MU(t,e){return Di.apply(this,arguments)}(t,h),h}});return n?yield n:i.authToken}),Zf.apply(this,arguments)}function Yg(){return(Yg=(0,Q.Z)(function*(t,e){let n=yield TI(t.appConfig);for(;1===n.authToken.requestStatus;)yield Ug(100),n=yield TI(t.appConfig);const i=n.authToken;return 0===i.requestStatus?Wb(t,e):i})).apply(this,arguments)}function TI(t){return Cd(t,e=>{if(!MI(e))throw Ba.create("not-registered");return function Yb(t){return 1===t.requestStatus&&t.requestTime+Gf<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function Di(){return Di=(0,Q.Z)(function*(t,e){try{const n=yield function $b(t,e){return Gb.apply(this,arguments)}(t,e),i=Object.assign(Object.assign({},e),{authToken:n});return yield Ed(t.appConfig,i),n}catch(n){if(!Fb(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ed(t.appConfig,i)}else yield Ub(t.appConfig);throw n}}),Di.apply(this,arguments)}function MI(t){return void 0!==t&&2===t.registrationStatus}function Kg(){return(Kg=(0,Q.Z)(function*(t){const e=t,{installationEntry:n,registrationPromise:i}=yield $g(e);return i?i.catch(console.error):Wb(e).catch(console.error),n.fid})).apply(this,arguments)}function Zg(){return Zg=(0,Q.Z)(function*(t,e=!1){const n=t;return yield function kI(t){return Kb.apply(this,arguments)}(n),(yield Wb(n,e)).token}),Zg.apply(this,arguments)}function Kb(){return(Kb=(0,Q.Z)(function*(t){const{registrationPromise:e}=yield $g(t);e&&(yield e)})).apply(this,arguments)}function Qg(t){return Ba.create("missing-app-config-values",{valueName:t})}const Qb="installations",Jf=t=>{const e=t.getProvider("app").getImmediate(),n=function Dk(t){if(!t||!t.options)throw Qg("App Configuration");if(!t.name)throw Qg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Qg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:(0,Ze._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},Xg=t=>{const e=t.getProvider("app").getImmediate(),n=(0,Ze._getProvider)(e,Qb).getImmediate();return{getId:()=>function RI(t){return Kg.apply(this,arguments)}(n),getToken:r=>function Ik(t){return Zg.apply(this,arguments)}(n,r)}};(function NI(){(0,Ze._registerComponent)(new Yi.wA(Qb,Jf,"PUBLIC")),(0,Ze._registerComponent)(new Yi.wA("installations-internal",Xg,"PRIVATE"))})(),(0,Ze.registerVersion)(Ng,Nc),(0,Ze.registerVersion)(Ng,Nc,"esm2017");const Jg="@firebase/remote-config",FI="remote-config",qr=new $.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function NU(t=(0,Ze.getApp)()){return t=(0,$.m9)(t),(0,Ze._getProvider)(t,FI).getImmediate()}class r_{constructor(e,n,i,r){this.client=e,this.storage=n,this.storageCache=i,this.logger=r}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const i=Date.now()-n,r=i<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${i}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var n=this;return(0,Q.Z)(function*(){const[i,r]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(r&&n.isCachedDataFresh(e.cacheMaxAgeMillis,i))return r;e.eTag=r&&r.eTag;const s=yield n.client.fetch(e),l=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&l.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(l),s})()}}function Id(t=navigator){return t.languages&&t.languages[0]||t.language}class Jb{constructor(e,n,i,r,s,l){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=i,this.projectId=r,this.apiKey=s,this.appId=l}fetch(e){var n=this;return(0,Q.Z)(function*(){const[i,r]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,h={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},p={sdk_version:n.sdkVersion,app_instance_id:i,app_instance_id_token:r,app_id:n.appId,language_code:Id()},g={method:"POST",headers:h,body:JSON.stringify(p)},b=fetch(l,g),C=new Promise((le,De)=>{e.signal.addEventListener(()=>{const Be=new Error("The operation was aborted.");Be.name="AbortError",De(Be)})});let D;try{yield Promise.race([b,C]),D=yield b}catch(le){let De="fetch-client-network";throw"AbortError"===le?.name&&(De="fetch-timeout"),qr.create(De,{originalErrorMessage:le?.message})}let R=D.status;const B=D.headers.get("ETag")||void 0;let G,q;if(200===D.status){let le;try{le=yield D.json()}catch(De){throw qr.create("fetch-client-parse",{originalErrorMessage:De?.message})}G=le.entries,q=le.state}if("INSTANCE_STATE_UNSPECIFIED"===q?R=500:"NO_CHANGE"===q?R=304:("NO_TEMPLATE"===q||"EMPTY_CONFIG"===q)&&(G={}),304!==R&&200!==R)throw qr.create("fetch-status",{httpStatus:R});return{status:R,eTag:B,config:G}})()}}class e0{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return(0,Q.Z)(function*(){const i=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,i)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:i}){var r=this;return(0,Q.Z)(function*(){yield function ep(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(qr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),s}catch(s){if(!function VI(t){if(!(t instanceof $.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const l={throttleEndTimeMillis:Date.now()+(0,$.$s)(i),backoffCount:i+1};return yield r.storage.setThrottleMetadata(l),r.attemptFetch(e,l)}})()}}class UI{constructor(e,n,i,r,s){this.app=e,this._client=n,this._storageCache=i,this._storage=r,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Sd(t,e){const n=t.target.error||void 0;return qr.create(e,{originalErrorMessage:n&&n?.message})}const Fc="app_namespace_store";class Uk{constructor(e,n,i,r=function jI(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=i=>{e(Sd(i,"storage-open"))},n.onsuccess=i=>{t(i.target.result)},n.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Fc,{keyPath:"compositeKey"})}}catch(n){e(qr.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=i,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return(0,Q.Z)(function*(){const i=yield n.openDbPromise;return new Promise((r,s)=>{const h=i.transaction([Fc],"readonly").objectStore(Fc),p=n.createCompositeKey(e);try{const g=h.get(p);g.onerror=b=>{s(Sd(b,"storage-get"))},g.onsuccess=b=>{const C=b.target.result;r(C?C.value:void 0)}}catch(g){s(qr.create("storage-get",{originalErrorMessage:g?.message}))}})})()}set(e,n){var i=this;return(0,Q.Z)(function*(){const r=yield i.openDbPromise;return new Promise((s,l)=>{const p=r.transaction([Fc],"readwrite").objectStore(Fc),g=i.createCompositeKey(e);try{const b=p.put({compositeKey:g,value:n});b.onerror=C=>{l(Sd(C,"storage-set"))},b.onsuccess=()=>{s()}}catch(b){l(qr.create("storage-set",{originalErrorMessage:b?.message}))}})})()}delete(e){var n=this;return(0,Q.Z)(function*(){const i=yield n.openDbPromise;return new Promise((r,s)=>{const h=i.transaction([Fc],"readwrite").objectStore(Fc),p=n.createCompositeKey(e);try{const g=h.delete(p);g.onerror=b=>{s(Sd(b,"storage-delete"))},g.onsuccess=()=>{r()}}catch(g){s(qr.create("storage-delete",{originalErrorMessage:g?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class jk{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,Q.Z)(function*(){const n=e.storage.getLastFetchStatus(),i=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const l=yield i;l&&(e.lastSuccessfulFetchTimestampMillis=l);const h=yield r;h&&(e.activeConfig=h)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function zI(){return r0.apply(this,arguments)}function r0(){return(r0=(0,Q.Z)(function*(){if(!(0,$.hl)())return!1;try{return yield(0,$.eu)()}catch{return!1}})).apply(this,arguments)}!function zk(){(0,Ze._registerComponent)(new Yi.wA(FI,function t(e,{instanceIdentifier:n}){const i=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw qr.create("registration-window");if(!(0,$.hl)())throw qr.create("indexed-db-unavailable");const{projectId:s,apiKey:l,appId:h}=i.options;if(!s)throw qr.create("registration-project-id");if(!l)throw qr.create("registration-api-key");if(!h)throw qr.create("registration-app-id");const p=new Uk(h,i.name,n=n||"firebase"),g=new jk(p),b=new pr.Yd(Jg);b.logLevel=pr.in.ERROR;const C=new Jb(r,Ze.SDK_VERSION,n,s,l,h),D=new e0(C,p),R=new r_(D,p,g,b),B=new UI(i,R,g,p,b);return function BI(t){const e=(0,$.m9)(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(B),B},"PUBLIC").setMultipleInstances(!0)),(0,Ze.registerVersion)(Jg,"0.4.4"),(0,Ze.registerVersion)(Jg,"0.4.4","esm2017")}();const Hk=(t,e)=>e.some(n=>t instanceof n);let fs,HI;const o_=new WeakMap,a_=new WeakMap,$I=new WeakMap,s0=new WeakMap,o0=new WeakMap;let a0={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return a_.get(t);if("objectStoreNames"===e)return t.objectStoreNames||$I.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ua(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function qk(t){return"function"==typeof t?function Wk(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function FU(){return HI||(HI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(c0(this),e),Ua(o_.get(this))}:function(...e){return Ua(t.apply(c0(this),e))}:function(e,...n){const i=t.call(c0(this),e,...n);return $I.set(i,e.sort?e.sort():[e]),Ua(i)}}(t):(t instanceof IDBTransaction&&function Gk(t){if(a_.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),r()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});a_.set(t,e)}(t),Hk(t,function $k(){return fs||(fs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,a0):t)}function Ua(t){if(t instanceof IDBRequest)return function GI(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Ua(t.result)),r()},l=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&o_.set(n,t)}).catch(()=>{}),o0.set(e,t),e}(t);if(s0.has(t))return s0.get(t);const e=qk(t);return e!==t&&(s0.set(t,e),o0.set(e,t)),e}const c0=t=>o0.get(t);function WI(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const l=indexedDB.open(t,e),h=Ua(l);return i&&l.addEventListener("upgradeneeded",p=>{i(Ua(l.result),p.oldVersion,p.newVersion,Ua(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),h.then(p=>{s&&p.addEventListener("close",()=>s()),r&&p.addEventListener("versionchange",()=>r())}).catch(()=>{}),h}function Qs(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Ua(n).then(()=>{})}const u0=["get","getKey","getAll","getAllKeys","count"],Yk=["put","add","delete","clear"],l_=new Map;function qI(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(l_.get(e))return l_.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=Yk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!u0.includes(n))return;const s=function(){var l=(0,Q.Z)(function*(h,...p){const g=this.transaction(h,r?"readwrite":"readonly");let b=g.store;return i&&(b=b.index(p.shift())),(yield Promise.all([b[n](...p),r&&g.done]))[0]});return function(p){return l.apply(this,arguments)}}();return l_.set(e,s),s}!function l0(t){a0=t(a0)}(t=>({...t,get:(e,n,i)=>qI(e,n)||t.get(e,n,i),has:(e,n)=>!!qI(e,n)||t.has(e,n)}));const YI="/firebase-messaging-sw.js",KI="/firebase-cloud-messaging-push-scope",tp="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",d0="https://fcmregistrations.googleapis.com/v1",Kk="google.c.a.c_id",ZI="google.c.a.c_l",QI="google.c.a.ts";var Dd=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Dd||{});function mr(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zk(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),i=atob(n),r=new Uint8Array(i.length);for(let s=0;s<i.length;++s)r[s]=i.charCodeAt(s);return r}const h0="fcm_token_details_db",f0=5,eS="fcm_token_object_Store";function p0(){return p0=(0,Q.Z)(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(h0))return null;let e=null;return(yield WI(h0,f0,{upgrade:(i=(0,Q.Z)(function*(r,s,l,h){var p;if(s<2||!r.objectStoreNames.contains(eS))return;const g=h.objectStore(eS),b=yield g.index("fcmSenderId").get(t);if(yield g.clear(),b)if(2===s){const C=b;if(!C.auth||!C.p256dh||!C.endpoint)return;e={token:C.fcmToken,createTime:null!==(p=C.createTime)&&void 0!==p?p:Date.now(),subscriptionOptions:{auth:C.auth,p256dh:C.p256dh,endpoint:C.endpoint,swScope:C.swScope,vapidKey:"string"==typeof C.vapidKey?C.vapidKey:mr(C.vapidKey)}}}else if(3===s){const C=b;e={token:C.fcmToken,createTime:C.createTime,subscriptionOptions:{auth:mr(C.auth),p256dh:mr(C.p256dh),endpoint:C.endpoint,swScope:C.swScope,vapidKey:mr(C.vapidKey)}}}else if(4===s){const C=b;e={token:C.fcmToken,createTime:C.createTime,subscriptionOptions:{auth:mr(C.auth),p256dh:mr(C.p256dh),endpoint:C.endpoint,swScope:C.swScope,vapidKey:mr(C.vapidKey)}}}}),function(s,l,h,p){return i.apply(this,arguments)})})).close(),yield Qs(h0),yield Qs("fcm_vapid_details_db"),yield Qs("undefined"),function c_(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var i}),p0.apply(this,arguments)}const np="firebase-messaging-database",nS=1,aa="firebase-messaging-store";let iS=null;function m0(){return iS||(iS=WI(np,nS,{upgrade:(t,e)=>{0===e&&t.createObjectStore(aa)}})),iS}function g0(t){return u_.apply(this,arguments)}function u_(){return u_=(0,Q.Z)(function*(t){const e=Lc(t),i=yield(yield m0()).transaction(aa).objectStore(aa).get(e);if(i)return i;{const r=yield function tS(t){return p0.apply(this,arguments)}(t.appConfig.senderId);if(r)return yield _0(t,r),r}}),u_.apply(this,arguments)}function _0(t,e){return y0.apply(this,arguments)}function y0(){return(y0=(0,Q.Z)(function*(t,e){const n=Lc(t),r=(yield m0()).transaction(aa,"readwrite");return yield r.objectStore(aa).put(e,n),yield r.done,e})).apply(this,arguments)}function d_(){return(d_=(0,Q.Z)(function*(t){const e=Lc(t),i=(yield m0()).transaction(aa,"readwrite");yield i.objectStore(aa).delete(e),yield i.done})).apply(this,arguments)}function Lc({appConfig:t}){return t.appId}const Ki=new $.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function sS(t,e){return v0.apply(this,arguments)}function v0(){return(v0=(0,Q.Z)(function*(t,e){const n=yield x0(t),i=aS(e),r={method:"POST",headers:n,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(w0(t.appConfig),r)).json()}catch(l){throw Ki.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(s.error)throw Ki.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Ki.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function Bc(){return(Bc=(0,Q.Z)(function*(t,e){const n=yield x0(t),i=aS(e.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(i)};let s;try{s=yield(yield fetch(`${w0(t.appConfig)}/${e.token}`,r)).json()}catch(l){throw Ki.create("token-update-failed",{errorInfo:l?.toString()})}if(s.error)throw Ki.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Ki.create("token-update-no-token");return s.token})).apply(this,arguments)}function oS(t,e){return b0.apply(this,arguments)}function b0(){return(b0=(0,Q.Z)(function*(t,e){const i={method:"DELETE",headers:yield x0(t)};try{const s=yield(yield fetch(`${w0(t.appConfig)}/${e}`,i)).json();if(s.error)throw Ki.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(r){throw Ki.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})).apply(this,arguments)}function w0({projectId:t}){return`${d0}/projects/${t}/registrations`}function x0(t){return E0.apply(this,arguments)}function E0(){return(E0=(0,Q.Z)(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function aS({p256dh:t,auth:e,endpoint:n,vapidKey:i}){const r={web:{endpoint:n,auth:e,p256dh:t}};return i!==tp&&(r.web.applicationPubKey=i),r}const Jk=6048e5;function h_(){return h_=(0,Q.Z)(function*(t){const e=yield function tO(t,e){return D0.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:mr(e.getKey("auth")),p256dh:mr(e.getKey("p256dh"))},i=yield g0(t.firebaseDependencies);if(i){if(function nO(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(i.subscriptionOptions,n))return Date.now()>=i.createTime+Jk?function p_(t,e){return I0.apply(this,arguments)}(t,{token:i.token,createTime:Date.now(),subscriptionOptions:n}):i.token;try{yield oS(t.firebaseDependencies,i.token)}catch(r){console.warn(r)}return lS(t.firebaseDependencies,n)}return lS(t.firebaseDependencies,n)}),h_.apply(this,arguments)}function C0(){return C0=(0,Q.Z)(function*(t){const e=yield g0(t.firebaseDependencies);e&&(yield oS(t.firebaseDependencies,e.token),yield function rS(t){return d_.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),C0.apply(this,arguments)}function I0(){return I0=(0,Q.Z)(function*(t,e){try{const n=yield function Xk(t,e){return Bc.apply(this,arguments)}(t.firebaseDependencies,e),i=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield _0(t.firebaseDependencies,i),n}catch(n){throw yield function f_(t){return C0.apply(this,arguments)}(t),n}}),I0.apply(this,arguments)}function lS(t,e){return S0.apply(this,arguments)}function S0(){return(S0=(0,Q.Z)(function*(t,e){const i={token:yield sS(t,e),createTime:Date.now(),subscriptionOptions:e};return yield _0(t,i),i.token})).apply(this,arguments)}function D0(){return(D0=(0,Q.Z)(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zk(e)})})).apply(this,arguments)}function cS(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function uS(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const i=e.notification.body;i&&(t.notification.body=i);const r=e.notification.image;r&&(t.notification.image=r);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function dS(t,e){e.data&&(t.data=e.data)}(e,t),function iO(t,e){var n,i,r,s,l;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const h=null!==(r=null===(i=e.fcmOptions)||void 0===i?void 0:i.link)&&void 0!==r?r:null===(s=e.notification)||void 0===s?void 0:s.click_action;h&&(t.fcmOptions.link=h);const p=null===(l=e.fcmOptions)||void 0===l?void 0:l.analytics_label;p&&(t.fcmOptions.analyticsLabel=p)}(e,t),e}function A0(t,e){const n=[];for(let i=0;i<t.length;i++)n.push(t.charAt(i)),i<e.length&&n.push(e.charAt(i));return n.join("")}function fS(t){return Ki.create("missing-app-config-values",{valueName:t})}A0("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),A0("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class m_{constructor(e,n,i){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function hS(t){if(!t||!t.options)throw fS("App Configuration Object");if(!t.name)throw fS("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const i of e)if(!n[i])throw fS(i);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:n,analyticsProvider:i}}_delete(){return Promise.resolve()}}function T0(){return(T0=(0,Q.Z)(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(YI,{scope:KI}),t.swRegistration.update().catch(()=>{})}catch(e){throw Ki.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function R0(){return(R0=(0,Q.Z)(function*(t,e){if(!e&&!t.swRegistration&&(yield function pS(t){return T0.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Ki.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Vc(){return(Vc=(0,Q.Z)(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=tp)})).apply(this,arguments)}function ja(){return ja=(0,Q.Z)(function*(t,e){if(!navigator)throw Ki.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ki.create("permission-blocked");return yield function la(t,e){return Vc.apply(this,arguments)}(t,e?.vapidKey),yield function M0(t,e){return R0.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function eO(t){return h_.apply(this,arguments)}(t)}),ja.apply(this,arguments)}function ps(){return(ps=(0,Q.Z)(function*(t,e,n){const i=function k0(t){switch(t){case Dd.NOTIFICATION_CLICKED:return"notification_open";case Dd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(i,{message_id:n[Kk],message_name:n[ZI],message_time:n[QI],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Al(){return Al=(0,Q.Z)(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Dd.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(cS(n)):t.onMessageHandler.next(cS(n)));const i=n.data;(function LU(t){return"object"==typeof t&&!!t&&Kk in t})(i)&&"1"===i["google.c.a.e"]&&(yield function g_(t,e,n){return ps.apply(this,arguments)}(t,n.messageType,i))}),Al.apply(this,arguments)}const Uc="@firebase/messaging",Td=t=>{const e=new m_(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function Ad(t,e){return Al.apply(this,arguments)}(e,n)),e},Md=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:i=>function gr(t,e){return ja.apply(this,arguments)}(e,i)}};function zc(){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,Q.Z)(function*(){try{yield(0,$.eu)()}catch{return!1}return typeof window<"u"&&(0,$.hl)()&&(0,$.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function _S(t=(0,Ze.getApp)()){return zc().then(e=>{if(!e)throw Ki.create("unsupported-browser")},e=>{throw Ki.create("indexed-db-unsupported")}),(0,Ze._getProvider)((0,$.m9)(t),"messaging").getImmediate()}!function Rd(){(0,Ze._registerComponent)(new Yi.wA("messaging",Td,"PUBLIC")),(0,Ze._registerComponent)(new Yi.wA("messaging-internal",Md,"PRIVATE")),(0,Ze.registerVersion)(Uc,"0.12.4"),(0,Ze.registerVersion)(Uc,"0.12.4","esm2017")}();const ip="analytics",O0="firebase_id",aO="origin",BU=6e4,VU="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",N0="https://www.googletagmanager.com/gtag/js",Zi=new pr.Yd("@firebase/analytics"),Yr=new $.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function jU(t){if(!t.startsWith(N0)){const e=Yr.create("invalid-gtag-resource",{gtagURL:t});return Zi.warn(e.message),""}return t}function yS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function sp(){return(sp=(0,Q.Z)(function*(t,e,n,i,r,s){const l=i[r];try{if(l)yield e[l];else{const p=(yield yS(n)).find(g=>g.measurementId===r);p&&(yield e[p.appId])}}catch(h){Zi.error(h)}t("config",r,s)})).apply(this,arguments)}function b_(){return(b_=(0,Q.Z)(function*(t,e,n,i,r){try{let s=[];if(r&&r.send_to){let l=r.send_to;Array.isArray(l)||(l=[l]);const h=yield yS(n);for(const p of l){const g=h.find(C=>C.measurementId===p),b=g&&e[g.appId];if(!b){s=[];break}s.push(b)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",i,r||{})}catch(s){Zi.error(s)}})).apply(this,arguments)}const ap=30,bS=new class hO{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function fO(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function kd(){return(kd=(0,Q.Z)(function*(t){var e;const{appId:n,apiKey:i}=t,r={method:"GET",headers:fO(i)},s=VU.replace("{app-id}",n),l=yield fetch(s,r);if(200!==l.status&&304!==l.status){let h="";try{const p=yield l.json();null!==(e=p.error)&&void 0!==e&&e.message&&(h=p.error.message)}catch{}throw Yr.create("config-fetch-failed",{httpStatus:l.status,responseMessage:h})}return l.json()})).apply(this,arguments)}function wS(){return(wS=(0,Q.Z)(function*(t,e=bS,n){const{appId:i,apiKey:r,measurementId:s}=t.options;if(!i)throw Yr.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:i};throw Yr.create("no-api-key")}const l=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new ES;return setTimeout((0,Q.Z)(function*(){h.abort()}),void 0!==n?n:BU),xS({appId:i,apiKey:r,measurementId:s},l,h,e)})).apply(this,arguments)}function xS(t,e,n){return L0.apply(this,arguments)}function L0(){return L0=(0,Q.Z)(function*(t,{throttleEndTimeMillis:e,backoffCount:n},i,r=bS){var s;const{appId:l,measurementId:h}=t;try{yield function B0(t,e){return new Promise((n,i)=>{const r=Math.max(e-Date.now(),0),s=setTimeout(n,r);t.addEventListener(()=>{clearTimeout(s),i(Yr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(i,e)}catch(p){if(h)return Zi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:h};throw p}try{const p=yield function F0(t){return kd.apply(this,arguments)}(t);return r.deleteThrottleMetadata(l),p}catch(p){const g=p;if(!function pO(t){if(!(t instanceof $.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(g)){if(r.deleteThrottleMetadata(l),h)return Zi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${h} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:l,measurementId:h};throw p}const b=503===Number(null===(s=g?.customData)||void 0===s?void 0:s.httpStatus)?(0,$.$s)(n,r.intervalMillis,ap):(0,$.$s)(n,r.intervalMillis),C={throttleEndTimeMillis:Date.now()+b,backoffCount:n+1};return r.setThrottleMetadata(l,C),Zi.debug(`Calling attemptFetch again in ${b} millis`),xS(t,C,i,r)}}),L0.apply(this,arguments)}class ES{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let V0,Nd;function x_(){return(x_=(0,Q.Z)(function*(t,e,n,i,r){if(r&&r.global)t("event",n,i);else{const s=yield e;t("event",n,Object.assign(Object.assign({},i),{send_to:s}))}})).apply(this,arguments)}function U0(){return(U0=(0,Q.Z)(function*(t,e,n,i){if(i&&i.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})})).apply(this,arguments)}function H0(){return(H0=(0,Q.Z)(function*(){if(!(0,$.hl)())return Zi.warn(Yr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,$.eu)()}catch(t){return Zi.warn(Yr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function cp(){return cp=(0,Q.Z)(function*(t,e,n,i,r,s,l){var h;const p=function w_(t){return wS.apply(this,arguments)}(t);p.then(R=>{n[R.measurementId]=R.appId,t.options.measurementId&&R.measurementId!==t.options.measurementId&&Zi.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${R.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(R=>Zi.error(R)),e.push(p);const g=function vO(){return H0.apply(this,arguments)}().then(R=>{if(R)return i.getId()}),[b,C]=yield Promise.all([p,g]);(function uO(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(N0)&&n.src.includes(t))return n;return null})(s)||function cO(t,e){const n=function lO(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:jU}),i=document.createElement("script"),r=`${N0}?l=${t}&id=${e}`;i.src=n?n?.createScriptURL(r):r,i.async=!0,document.head.appendChild(i)}(s,b.measurementId),Nd&&(r("consent","default",Nd),function I_(t){Nd=t}(void 0)),r("js",new Date);const D=null!==(h=l?.config)&&void 0!==h?h:{};return D[aO]="firebase",D.update=!0,null!=C&&(D[O0]=C),r("config",b.measurementId,D),V0&&(r("set",V0),function z0(t){V0=t}(void 0)),b.measurementId}),cp.apply(this,arguments)}class $0{constructor(e){this.app=e}_delete(){return delete Co[this.app.options.appId],Promise.resolve()}}let Co={},G0=[];const IS={};let D_,Io,S_="dataLayer",up=!1;function DS(t,e,n){!function wO(){const t=[];if((0,$.ru)()&&t.push("This is a browser extension environment."),(0,$.zI)()||t.push("Cookies are not available."),t.length>0){const e=t.map((i,r)=>`(${r+1}) ${i}`).join(" "),n=Yr.create("invalid-analytics-context",{errorInfo:e});Zi.warn(n.message)}}();const i=t.options.appId;if(!i)throw Yr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Yr.create("no-api-key");Zi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Co[i])throw Yr.create("already-exists",{id:i});if(!up){!function P0(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(S_);const{wrappedGtag:s,gtagCore:l}=function vS(t,e,n,i,r){let s=function(...l){window[i].push(arguments)};return window[r]&&"function"==typeof window[r]&&(s=window[r]),window[r]=function op(t,e,n,i){function s(){return s=(0,Q.Z)(function*(l,...h){try{if("event"===l){const[p,g]=h;yield function v_(t,e,n,i,r){return b_.apply(this,arguments)}(t,e,n,p,g)}else if("config"===l){const[p,g]=h;yield function rp(t,e,n,i,r,s){return sp.apply(this,arguments)}(t,e,n,i,p,g)}else if("consent"===l){const[p]=h;t("consent","update",p)}else if("get"===l){const[p,g,b]=h;t("get",p,g,b)}else if("set"===l){const[p]=h;t("set",p)}else t(l,...h)}catch(p){Zi.error(p)}}),s.apply(this,arguments)}return function r(l){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[r]}}(Co,G0,IS,S_,"gtag");Io=s,D_=l,up=!0}return Co[i]=function bO(t,e,n,i,r,s,l){return cp.apply(this,arguments)}(t,G0,IS,e,D_,S_,n),new $0(t)}function AS(t=(0,Ze.getApp)()){t=(0,$.m9)(t);const e=(0,Ze._getProvider)(t,ip);return e.isInitialized()?e.getImmediate():function TS(t,e={}){const n=(0,Ze._getProvider)(t,ip);if(n.isInitialized()){const r=n.getImmediate();if((0,$.vZ)(e,n.getOptions()))return r;throw Yr.create("already-initialized")}return n.initialize({options:e})}(t)}function MS(){return q0.apply(this,arguments)}function q0(){return(q0=(0,Q.Z)(function*(){if((0,$.ru)()||!(0,$.zI)()||!(0,$.hl)())return!1;try{return yield(0,$.eu)()}catch{return!1}})).apply(this,arguments)}function Y0(t,e,n){t=(0,$.m9)(t),function gO(t,e,n,i){return U0.apply(this,arguments)}(Io,Co[t.app.options.appId],e,n).catch(i=>Zi.error(i))}function K0(t,e,n,i){t=(0,$.m9)(t),function mO(t,e,n,i,r){return x_.apply(this,arguments)}(Io,Co[t.app.options.appId],e,n,i).catch(r=>Zi.error(r))}const Z0="@firebase/analytics";!function RS(){(0,Ze._registerComponent)(new Yi.wA(ip,(e,{options:n})=>DS(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),(0,Ze._registerComponent)(new Yi.wA("analytics-internal",function t(e){try{const n=e.getProvider(ip).getImmediate();return{logEvent:(i,r,s)=>K0(n,i,r,s)}}catch(n){throw Yr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),(0,Ze.registerVersion)(Z0,"0.10.0"),(0,Ze.registerVersion)(Z0,"0.10.0","esm2017")}();class T_ extends yo.w0{constructor(e,n){super()}schedule(e,n=0){return this}}const So={setInterval(t,e,...n){const{delegate:i}=So;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=So;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var AO=P(9039);class M_ extends T_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return So.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return n;null!=n&&So.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,n);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r,i=!1;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,AO.P)(i,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const za={now:()=>(za.delegate||Date).now(),delegate:void 0};class Hc{constructor(e,n=Hc.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}}Hc.now=za.now;class R_ extends Hc{constructor(e,n=Hc.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}}const zU=new class J0 extends R_{}(class X0 extends M_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}}),dp=new R_(M_),TO=dp;var Pd=P(5137),Fd=P(3093);const pn=new u.GfV("7.6.1"),k_="__angularfire_symbol__analyticsIsSupportedValue",ew="__angularfire_symbol__analyticsIsSupported",tw="__angularfire_symbol__remoteConfigIsSupportedValue",O_="__angularfire_symbol__remoteConfigIsSupported",nw="__angularfire_symbol__messagingIsSupportedValue",N_="__angularfire_symbol__messagingIsSupported";globalThis[ew]||(globalThis[ew]=MS().then(t=>globalThis[k_]=t).catch(()=>globalThis[k_]=!1)),globalThis[N_]||(globalThis[N_]=zc().then(t=>globalThis[nw]=t).catch(()=>globalThis[nw]=!1)),globalThis[O_]||(globalThis[O_]=zI().then(t=>globalThis[tw]=t).catch(()=>globalThis[tw]=!1));const P_=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`,Ha={async:()=>globalThis[N_],sync:()=>{const t=globalThis[nw];if(void 0===t)throw new Error(P_("Messaging"));return t}},F_={async:()=>globalThis[O_],sync:()=>{const t=globalThis[tw];if(void 0===t)throw new Error(P_("RemoteConfig"));return t}},L_={async:()=>globalThis[ew],sync:()=>{const t=globalThis[k_];if(void 0===t)throw new Error(P_("Analytics"));return t}};function Do(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(l=>l.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const ca=(t,e)=>{const n=e?[e]:(0,Ze.getApps)(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(l=>{i.includes(l)||i.push(l)})}),i};function $c(){}class MO{constructor(e,n=zU){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){const r=this.zone;return this.delegate.schedule(function(l){r.runGuarded(()=>{e.apply(this,[l])})},n,i)}}class kS{constructor(e){this.zone=e,this.task=null}call(e,n){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$c,{},$c,$c)),n.pipe(En({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ms=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new MO(Zone.current)),this.insideAngular=n.run(()=>new MO(Zone.current,dp)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Tr(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Gc(t){return Tr().ngZone.run(()=>t())}function Yn(t){return Tr(),function OS(t){return function(n){return(n=n.lift(new kS(t.ngZone))).pipe((0,Pd.R)(t.outsideAngular),(0,Fd.Q)(t.insideAngular))}}(Tr())(t)}const NS=(t,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Gc(()=>t.apply(void 0,i))},gs=(t,e)=>function(){let n;const i=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof i[s]&&(e&&(n||(n=Gc(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$c,{},$c,$c)))),i[s]=NS(i[s],n));const r=function RO(t){return Tr().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,i));if(!e){if(r instanceof On.y){const s=Tr();return r.pipe((0,Pd.R)(s.outsideAngular),(0,Fd.Q)(s.insideAngular))}return Gc(()=>r)}return r instanceof On.y?r.pipe(Yn):r instanceof Promise?Gc(()=>new Promise((s,l)=>r.then(h=>Gc(()=>s(h)),h=>Gc(()=>l(h))))):"function"==typeof r&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),r.apply(this,arguments)}:Gc(()=>r)};class Ts{constructor(e){return e}}class da{constructor(){return(0,Ze.getApps)()}}const Wc=new u.OlP("angularfire2._apps"),kO={provide:Ts,useFactory:function iw(t){return t&&1===t.length?t[0]:new Ts((0,Ze.getApp)())},deps:[[new u.FiY,Wc]]},PS={provide:da,deps:[[new u.FiY,Wc]]};function OO(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new Ts(i)}}let NO=(()=>{class t{constructor(n){(0,Ze.registerVersion)("angularfire",pn.full,"core"),(0,Ze.registerVersion)("angularfire",pn.full,"app"),(0,Ze.registerVersion)("angular",u.q4F.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(u.Lbi))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[kO,PS]}),t})();function FS(t,...e){return{ngModule:NO,providers:[{provide:Wc,useFactory:OO(t),multi:!0,deps:[u.R0b,u.zs3,ms,...e]}]}}const LS=gs(Ze.initializeApp,!0),sw=new Map,B_={activated:!1,tokenObservers:[]},V_={initialized:!1,enabled:!1};function Kn(t){return sw.get(t)||Object.assign({},B_)}function hp(){return V_}const U_="https://content-firebaseappcheck.googleapis.com/v1",jS="exchangeDebugToken",ow={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class VO{constructor(e,n,i,r,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,Q.Z)(function*(){n.stop();try{n.pending=new $.BH,yield function UO(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new $.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(i){n.retryPolicy(i)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const _r=new $.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function aw(t){if(!Kn(t).activated)throw _r.create("use-before-activation",{appName:t.name})}function H_(t,e){return cw.apply(this,arguments)}function cw(){return(cw=(0,Q.Z)(function*({url:t,body:e},n){const i={"Content-Type":"application/json"},r=n.getImmediate({optional:!0});if(r){const C=yield r.getHeartbeatsHeader();C&&(i["X-Firebase-Client"]=C)}const s={method:"POST",body:JSON.stringify(e),headers:i};let l,h;try{l=yield fetch(t,s)}catch(C){throw _r.create("fetch-network-error",{originalErrorMessage:C?.message})}if(200!==l.status)throw _r.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(C){throw _r.create("fetch-parse-error",{originalErrorMessage:C?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw _r.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const g=1e3*Number(p[1]),b=Date.now();return{token:h.token,expireTimeMillis:b+g,issuedAtTimeMillis:b}})).apply(this,arguments)}function zS(t,e){const{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${U_}/projects/${n}/apps/${i}:${jS}?key=${r}`,body:{debug_token:e}}}const $O="firebase-app-check-database",GO=1,fp="firebase-app-check-store";let pp=null;function $_(){return($_=(0,Q.Z)(function*(t,e){const i=(yield function uw(){return pp||(pp=new Promise((t,e)=>{try{const n=indexedDB.open($O,GO);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(_r.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},n.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(fp,{keyPath:"compositeKey"})}}catch(n){e(_r.create("storage-open",{originalErrorMessage:n?.message}))}}),pp)}()).transaction(fp,"readwrite"),s=i.objectStore(fp).put({compositeKey:t,value:e});return new Promise((l,h)=>{s.onsuccess=p=>{l()},i.onerror=p=>{var g;h(_r.create("storage-set",{originalErrorMessage:null===(g=p.target.error)||void 0===g?void 0:g.message}))}})})).apply(this,arguments)}const Ao=new pr.Yd("@firebase/app-check");function Ml(t,e){return(0,$.hl)()?function GS(t,e){return function dw(t,e){return $_.apply(this,arguments)}(function G_(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Ao.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function YS(){return hp().enabled}function W_(){return q_.apply(this,arguments)}function q_(){return(q_=(0,Q.Z)(function*(){const t=hp();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ld={error:"UNKNOWN_ERROR"};function qO(t){return $.US.encodeString(JSON.stringify(t),!1)}function Y_(t){return pw.apply(this,arguments)}function pw(){return(pw=(0,Q.Z)(function*(t,e=!1){const n=t.app;aw(n);const i=Kn(n);let s,r=i.token;if(r&&!Yc(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(Yc(p)?r=p:yield Ml(n,void 0))}if(!e&&r&&Yc(r))return{token:r.token};let h,l=!1;if(YS()){i.exchangeTokenPromise||(i.exchangeTokenPromise=H_(zS(n,yield W_()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const p=yield i.exchangeTokenPromise;return yield Ml(n,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield Kn(n).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Ao.warn(p.message):Ao.error(p),s=p}return r?s?h=Yc(r)?{token:r.token,internalError:s}:KS(s):(h={token:r.token},i.token=r,yield Ml(n,r)):h=KS(s),l&&function gw(t,e){const n=Kn(t).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}(n,h),h})).apply(this,arguments)}function qc(t){return mw.apply(this,arguments)}function mw(){return(mw=(0,Q.Z)(function*(t){const e=t.app;aw(e);const{provider:n}=Kn(e);if(YS()){const i=yield W_(),{token:r}=yield H_(zS(e,i),t.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield n.getToken();return{token:i}}})).apply(this,arguments)}function Vd(t,e){const n=Kn(t),i=n.tokenObservers.filter(r=>r.next!==e);0===i.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function Kr(t){const{app:e}=t,n=Kn(e);let i=n.tokenRefresher;i||(i=function YU(t){const{app:e}=t;return new VO((0,Q.Z)(function*(){let i;if(i=Kn(e).token?yield Y_(t,!0):yield Y_(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const n=Kn(e);if(n.token){let i=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,n.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},ow.RETRIAL_MIN_WAIT,ow.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function Yc(t){return t.expireTimeMillis-Date.now()>0}function KS(t){return{token:qO(Ld),error:t}}class ZS{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Kn(this.app);for(const n of e)Vd(this.app,n.next);return Promise.resolve()}}const t1="app-check-internal";!function JU(){(0,Ze._registerComponent)(new Yi.wA("app-check",t=>function QS(t,e){return new ZS(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(t1).initialize()})),(0,Ze._registerComponent)(new Yi.wA(t1,t=>function XS(t){return{getToken:e=>Y_(t,e),getLimitedUseToken:()=>qc(t),addTokenListener:e=>function Bd(t,e,n,i){const{app:r}=t,s=Kn(r);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:i,type:e}],s.token&&Yc(s.token)){const h=s.token;Promise.resolve().then(()=>{n({token:h.token}),Kr(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Kr(t))}(t,"INTERNAL",e),removeTokenListener:e=>Vd(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ze.registerVersion)("@firebase/app-check","0.8.0")}();class To{constructor(){return ca("app-check")}}typeof window<"u"&&window;var zd=P(6878);function c1(t){return new On.y(function(e){return{unsubscribe:(0,zd.x)(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}function yw(t){return new On.y(function(e){return{unsubscribe:(0,zd.v)(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}class ey{constructor(e){return e}}class Kc{constructor(){return ca("auth")}}const ty=new u.OlP("angularfire2.auth-instances");function u1(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new ey(i)}}const d1={provide:Kc,deps:[[new u.FiY,ty]]},h1={provide:ey,useFactory:function aD(t,e){const n=Do("auth",t,e);return n&&new ey(n)},deps:[[new u.FiY,ty],Ts]};let bw=(()=>{class t{constructor(){(0,Ze.registerVersion)("angularfire",pn.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[h1,d1]}),t})();function f1(t,...e){return{ngModule:bw,providers:[{provide:ty,useFactory:u1(t),multi:!0,deps:[u.R0b,u.zs3,ms,da,[new u.FiY,To],...e]}]}}const lD=gs(c1,!0),cD=gs(yw,!0),g1=gs(zd.o,!0);class M1{constructor(e,n,i){this.email=e,this.token=n,this.username=i}}var bp=P(3019);class R1 extends jt.x{constructor(e=1/0,n=1/0,i=za){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:l}=this;n||(i.push(e),!r&&i.push(s.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let l=0;l<s.length&&!e.closed;l+=i?1:2)e.next(s[l]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const l=n.now();let h=0;for(let p=1;p<i.length&&i[p]<=l;p+=2)h=p;h&&i.splice(0,h+1)}}}var _D=P(3020);function ww(t,e,n){let i,r=!1;return t&&"object"==typeof t?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t):i=t??1/0,(0,_D.B)({connector:()=>new R1(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function yD(t,e){return(0,Gi.m)(e)?(0,Vn.w)(()=>t,e):(0,Vn.w)(()=>t)}var Mo=P(6304);P(7142);const vD=new u.OlP("angularfire2.auth.use-emulator"),bD=new u.OlP("angularfire2.auth.settings"),$d=new u.OlP("angularfire2.auth.tenant-id"),xw=new u.OlP("angularfire2.auth.langugage-code"),Ew=new u.OlP("angularfire2.auth.use-device-language"),Cw=new u.OlP("angularfire.auth.persistence"),Iw=(t,e,n,i,r,s,l,h)=>(0,Mo.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const p=e.runOutsideAngular(()=>t.auth());if(n&&p.useEmulator(...n),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),l)for(const[g,b]of Object.entries(l))p.settings[g]=b;return h&&p.setPersistence(h),p},[n,i,r,s,l,h]);let ny=(()=>{class t{constructor(n,i,r,s,l,h,p,g,b,C,D,R){const B=new jt.x,G=(0,at.of)(void 0).pipe((0,Fd.Q)(l.outsideAngular),(0,Vn.w)(()=>s.runOutsideAngular(()=>Promise.resolve().then(P.bind(P,6365)))),(0,bt.U)(()=>(0,Mo.on)(n,s,i)),(0,bt.U)(q=>Iw(q,s,h,g,b,C,p,D)),ww({bufferSize:1,refCount:!1}));if(hi(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,at.of)(null);else{G.pipe(gi()).subscribe();const le=G.pipe((0,Vn.w)(Ve=>Ve.getRedirectResult().then(ft=>ft,()=>null)),Yn,ww({bufferSize:1,refCount:!1})),De=G.pipe((0,Vn.w)(Ve=>new On.y(ft=>({unsubscribe:s.runOutsideAngular(()=>Ve.onAuthStateChanged(wt=>ft.next(wt),wt=>ft.error(wt),()=>ft.complete()))})))),Be=G.pipe((0,Vn.w)(Ve=>new On.y(ft=>({unsubscribe:s.runOutsideAngular(()=>Ve.onIdTokenChanged(wt=>ft.next(wt),wt=>ft.error(wt),()=>ft.complete()))}))));this.authState=le.pipe(yD(De),(0,Pd.R)(l.outsideAngular),(0,Fd.Q)(l.insideAngular)),this.user=le.pipe(yD(Be),(0,Pd.R)(l.outsideAngular),(0,Fd.Q)(l.insideAngular)),this.idToken=this.user.pipe((0,Vn.w)(Ve=>Ve?(0,wn.D)(Ve.getIdToken()):(0,at.of)(null))),this.idTokenResult=this.user.pipe((0,Vn.w)(Ve=>Ve?(0,wn.D)(Ve.getIdTokenResult()):(0,at.of)(null))),this.credential=(0,bp.T)(le,B,this.authState.pipe(xn(Ve=>!Ve))).pipe((0,bt.U)(Ve=>Ve?.user?Ve:null),(0,Pd.R)(l.outsideAngular),(0,Fd.Q)(l.insideAngular))}return(0,Mo.pX)(this,G,s,{spy:{apply:(q,le,De)=>{(q.startsWith("signIn")||q.startsWith("createUser"))&&De.then(Be=>B.next(Be))}}})}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(Mo.Dh),u.LFG(Mo.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ms),u.LFG(vD,8),u.LFG(bD,8),u.LFG($d,8),u.LFG(xw,8),u.LFG(Ew,8),u.LFG(Cw,8),u.LFG(To,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();class iy{}class Sw{}class Ga{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const i=n.indexOf(":");if(i>0){const r=n.slice(0,i),s=r.toLowerCase(),l=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(l):this.headers.set(s,[l])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ga?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new Ga;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Ga?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,n);const r=("a"===e.op?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":const s=e.value;if(s){let l=this.headers.get(n);if(!l)return;l=l.filter(h=>-1===s.indexOf(h)),0===l.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,l)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class O1{encodeKey(e){return Gd(e)}encodeValue(e){return Gd(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const P1=/%(\d[a-f0-9])/gi,F1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Gd(t){return encodeURIComponent(t).replace(P1,(e,n)=>F1[n]??e)}function ry(t){return`${t}`}class ha{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new O1,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function N1(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[l,h]=-1==s?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],p=n.get(l)||[];p.push(h),n.set(l,p)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const i=e.fromObject[n],r=Array.isArray(i)?i.map(ry):[ry(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new ha({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(ry(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(ry(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Lj{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function B1(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function Wd(t){return typeof Blob<"u"&&t instanceof Blob}function wD(t){return typeof FormData<"u"&&t instanceof FormData}class wp{constructor(e,n,i,r){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function L1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Ga),this.context||(this.context=new Lj),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=n;else{const h=n.indexOf("?");this.urlWithParams=n+(-1===h?"?":h<n.length-1?"&":"")+l}}else this.params=new ha,this.urlWithParams=n}serializeBody(){return null===this.body?null:B1(this.body)||Wd(this.body)||wD(this.body)||function V1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ha?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wD(this.body)?null:Wd(this.body)?this.body.type||null:B1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ha?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let p=e.headers||this.headers,g=e.params||this.params;const b=e.context??this.context;return void 0!==e.setHeaders&&(p=Object.keys(e.setHeaders).reduce((C,D)=>C.set(D,e.setHeaders[D]),p)),e.setParams&&(g=Object.keys(e.setParams).reduce((C,D)=>C.set(D,e.setParams[D]),g)),new wp(n,i,s,{params:g,headers:p,context:b,reportProgress:h,responseType:r,withCredentials:l})}}var Wa=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Wa||{});class sy{constructor(e,n=200,i="OK"){this.headers=e.headers||new Ga,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Dw extends sy{constructor(e={}){super(e),this.type=Wa.ResponseHeader}clone(e={}){return new Dw({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Zc extends sy{constructor(e={}){super(e),this.type=Wa.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Zc({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class xp extends sy{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Aw(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let Ep=(()=>{var t;class e{constructor(i){this.handler=i}request(i,r,s={}){let l;if(i instanceof wp)l=i;else{let g,b;g=s.headers instanceof Ga?s.headers:new Ga(s.headers),s.params&&(b=s.params instanceof ha?s.params:new ha({fromObject:s.params})),l=new wp(i,r,void 0!==s.body?s.body:null,{headers:g,context:s.context,params:b,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const h=(0,at.of)(l).pipe(Qo(g=>this.handler.handle(g)));if(i instanceof wp||"events"===s.observe)return h;const p=h.pipe(xn(g=>g instanceof Zc));switch(s.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return p.pipe((0,bt.U)(g=>{if(null!==g.body&&!(g.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return g.body}));case"blob":return p.pipe((0,bt.U)(g=>{if(null!==g.body&&!(g.body instanceof Blob))throw new Error("Response is not a Blob.");return g.body}));case"text":return p.pipe((0,bt.U)(g=>{if(null!==g.body&&"string"!=typeof g.body)throw new Error("Response is not a string.");return g.body}));default:return p.pipe((0,bt.U)(g=>g.body))}case"response":return p;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:(new ha).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,Aw(s,r))}post(i,r,s={}){return this.request("POST",i,Aw(s,r))}put(i,r,s={}){return this.request("PUT",i,Aw(s,r))}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(iy))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();function Rw(t,e){return e(t)}function ED(t,e){return(n,i)=>e.intercept(n,{handle:r=>t(r,i)})}const Ow=new u.OlP(""),Cp=new u.OlP(""),Nw=new u.OlP("");function CD(){let t=null;return(e,n)=>{null===t&&(t=((0,u.f3M)(Ow,{optional:!0})??[]).reduceRight(ED,Rw));const i=(0,u.f3M)(u.HDt),r=i.add();return t(e,n).pipe(Aa(()=>i.remove(r)))}}let ID=(()=>{var t;class e extends iy{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=(0,u.f3M)(u.HDt)}handle(i){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(Cp),...this.injector.get(Nw,[])]));this.chain=s.reduceRight((l,h)=>function kw(t,e,n){return(i,r)=>n.runInContext(()=>e(i,s=>t(s,r)))}(l,h,this.injector),Rw)}const r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(Aa(()=>this.pendingTasks.remove(r)))}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Sw),u.LFG(u.lqb))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();const Pw=/^\)\]\}',?\n/;let Fw=(()=>{var t;class e{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new u.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,wn.D)(r.\u0275loadImpl()):(0,at.of)(null)).pipe((0,Vn.w)(()=>new On.y(l=>{const h=r.build();if(h.open(i.method,i.urlWithParams),i.withCredentials&&(h.withCredentials=!0),i.headers.forEach((q,le)=>h.setRequestHeader(q,le.join(","))),i.headers.has("Accept")||h.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const q=i.detectContentTypeHeader();null!==q&&h.setRequestHeader("Content-Type",q)}if(i.responseType){const q=i.responseType.toLowerCase();h.responseType="json"!==q?q:"text"}const p=i.serializeBody();let g=null;const b=()=>{if(null!==g)return g;const q=h.statusText||"OK",le=new Ga(h.getAllResponseHeaders()),De=function RD(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(h)||i.url;return g=new Dw({headers:le,status:h.status,statusText:q,url:De}),g},C=()=>{let{headers:q,status:le,statusText:De,url:Be}=b(),Ve=null;204!==le&&(Ve=typeof h.response>"u"?h.responseText:h.response),0===le&&(le=Ve?200:0);let ft=le>=200&&le<300;if("json"===i.responseType&&"string"==typeof Ve){const wt=Ve;Ve=Ve.replace(Pw,"");try{Ve=""!==Ve?JSON.parse(Ve):null}catch(Zt){Ve=wt,ft&&(ft=!1,Ve={error:Zt,text:Ve})}}ft?(l.next(new Zc({body:Ve,headers:q,status:le,statusText:De,url:Be||void 0})),l.complete()):l.error(new xp({error:Ve,headers:q,status:le,statusText:De,url:Be||void 0}))},D=q=>{const{url:le}=b(),De=new xp({error:q,status:h.status||0,statusText:h.statusText||"Unknown Error",url:le||void 0});l.error(De)};let R=!1;const B=q=>{R||(l.next(b()),R=!0);let le={type:Wa.DownloadProgress,loaded:q.loaded};q.lengthComputable&&(le.total=q.total),"text"===i.responseType&&h.responseText&&(le.partialText=h.responseText),l.next(le)},G=q=>{let le={type:Wa.UploadProgress,loaded:q.loaded};q.lengthComputable&&(le.total=q.total),l.next(le)};return h.addEventListener("load",C),h.addEventListener("error",D),h.addEventListener("timeout",D),h.addEventListener("abort",D),i.reportProgress&&(h.addEventListener("progress",B),null!==p&&h.upload&&h.upload.addEventListener("progress",G)),h.send(p),l.next({type:Wa.Sent}),()=>{h.removeEventListener("error",D),h.removeEventListener("abort",D),h.removeEventListener("load",C),h.removeEventListener("timeout",D),i.reportProgress&&(h.removeEventListener("progress",B),null!==p&&h.upload&&h.upload.removeEventListener("progress",G)),h.readyState!==h.DONE&&h.abort()}})))}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Gs))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();const oy=new u.OlP("XSRF_ENABLED"),OD=new u.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Lw=new u.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class PD{}let FD=(()=>{var t;class e{constructor(i,r,s){this.doc=i,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hs(i,this.cookieName),this.lastCookieString=i),this.lastToken}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ne),u.LFG(u.Lbi),u.LFG(OD))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();function LD(t,e){const n=t.url.toLowerCase();if(!(0,u.f3M)(oy)||"GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e(t);const i=(0,u.f3M)(PD).getToken(),r=(0,u.f3M)(Lw);return null!=i&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var Ms=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(Ms||{});function Qc(t,e){return{\u0275kind:t,\u0275providers:e}}function q1(...t){const e=[Ep,Fw,ID,{provide:iy,useExisting:ID},{provide:Sw,useExisting:Fw},{provide:Cp,useValue:LD,multi:!0},{provide:oy,useValue:!0},{provide:PD,useClass:FD}];for(const n of t)e.push(...n.\u0275providers);return(0,u.MR2)(e)}const Y1=new u.OlP("LEGACY_INTERCEPTOR_FN");let Dp,Bw=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[q1(Qc(Ms.LegacyInterceptors,[{provide:Y1,useFactory:CD},{provide:Cp,useExisting:Y1,multi:!0}]))]}),e})(),Sp=(()=>{var t;class e{constructor(i,r,s){this.fireAuth=i,this.router=r,this.http=s,this.isUserLoggedIn=new Ii.X(!0)}ngOnInit(){}autologin(){JSON.parse(localStorage.getItem("user")||"{}"),console.log(cD),cD&&this.isUserLoggedIn.next(!0)}googleSignIn(){return this.fireAuth.signInWithPopup(new zd.V).then(i=>{this.fireAuth.idToken.subscribe(s=>{localStorage.setItem("token",JSON.stringify(s))}),this.router.navigate(["/dashboard"]);const r=new M1(JSON.stringify(i.user?.email),JSON.stringify(i.user?.uid),JSON.stringify(i.user?.displayName));localStorage.setItem("user",JSON.stringify(r)),this.isUserLoggedIn.next(!0)},i=>{alert(i.message)})}githubSignIn(){return this.fireAuth.signInWithPopup(new zd.W).then(i=>{this.router.navigate(["/dashboard"]),localStorage.setItem("token",JSON.stringify(i.user?.uid))},i=>{alert(i.message)})}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ny),u.LFG(Ar),u.LFG(Ep))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();try{Dp=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Dp=!1}let qd,Zr=(()=>{var t;class e{constructor(i){this._platformId=i,this.isBrowser=this._platformId?$s(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Dp)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(u.Lbi))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const Uw=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Xc(){if(qd)return qd;if("object"!=typeof document||!document)return qd=new Set(Uw),qd;let t=document.createElement("input");return qd=new Set(Uw.filter(e=>(t.setAttribute("type",e),t.type===e))),qd}let Ap,eu,zw;function Jc(t){return function jD(){if(null==Ap&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ap=!0}))}finally{Ap=Ap||!1}return Ap}()?t:!!t.capture}function $j(){if(null==eu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return eu=!1,eu;if("scrollBehavior"in document.documentElement.style)eu=!0;else{const t=Element.prototype.scrollTo;eu=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return eu}function Rl(t){return t.composedPath?t.composedPath()[0]:t.target}function ly(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function qw(t){return xn((e,n)=>t<=n)}var Mp=P(3997);function Qi(t){return null!=t&&"false"!=`${t}`}function Yw(t,e=0){return function Kw(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Kd(t){return Array.isArray(t)?t:[t]}function Zn(t){return null==t?"":"string"==typeof t?t:`${t}px`}function nu(t){return t instanceof u.SBq?t.nativeElement:t}const tA=new Set;let iu,DN=(()=>{var t;class e{constructor(i,r){this._platform=i,this._nonce=r,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):nA}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&function AN(t,e){if(!tA.has(t))try{iu||(iu=document.createElement("style"),e&&(iu.nonce=e),iu.setAttribute("type","text/css"),document.head.appendChild(iu)),iu.sheet&&(iu.sheet.insertRule(`@media ${t} {body{ }}`,0),tA.add(t))}catch(n){console.error(n)}}(i,this._nonce),this._matchMedia(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Zr),u.LFG(u.Ojb,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function nA(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let uy=(()=>{var t;class e{constructor(i,r){this._mediaMatcher=i,this._zone=r,this._queries=new Map,this._destroySubject=new jt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return Zw(Kd(i)).some(s=>this._registerQuery(s).mql.matches)}observe(i){let l=Ca(Zw(Kd(i)).map(h=>this._registerQuery(h).observable));return l=Yo(l.pipe(Gr(1)),l.pipe(qw(1),function Uz(t,e=dp){return(0,Bi.e)((n,i)=>{let r=null,s=null,l=null;const h=()=>{if(r){r.unsubscribe(),r=null;const g=s;s=null,i.next(g)}};function p(){const g=l+t,b=e.now();if(b<g)return r=this.schedule(void 0,g-b),void i.add(r);h()}n.subscribe((0,mi.x)(i,g=>{s=g,l=e.now(),r||(r=e.schedule(p,t),i.add(r))},()=>{h(),i.complete()},void 0,()=>{s=r=null}))})}(0))),l.pipe((0,bt.U)(h=>{const p={matches:!1,breakpoints:{}};return h.forEach(({matches:g,query:b})=>{p.matches=p.matches||g,p.breakpoints[b]=g}),p}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);const r=this._mediaMatcher.matchMedia(i),l={observable:new On.y(h=>{const p=g=>this._zone.run(()=>h.next(g));return r.addListener(p),()=>{r.removeListener(p)}}).pipe(Zo(r),(0,bt.U)(({matches:h})=>({query:i,matches:h})),Si(this._destroySubject)),mql:r};return this._queries.set(i,l),l}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(DN),u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Zw(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}function aA(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}function lA(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const Jz=new u.OlP("cdk-input-modality-detector-options"),eH={ignoreKeys:[18,17,224,91,16]},Rp=Jc({passive:!0,capture:!0});let tH=(()=>{var t;class e{get mostRecentModality(){return this._modality.value}constructor(i,r,s,l){this._platform=i,this._mostRecentTarget=null,this._modality=new Ii.X(null),this._lastTouchMs=0,this._onKeydown=h=>{this._options?.ignoreKeys?.some(p=>p===h.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Rl(h))},this._onMousedown=h=>{Date.now()-this._lastTouchMs<650||(this._modality.next(aA(h)?"keyboard":"mouse"),this._mostRecentTarget=Rl(h))},this._onTouchstart=h=>{lA(h)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Rl(h))},this._options={...eH,...l},this.modalityDetected=this._modality.pipe(qw(1)),this.modalityChanged=this.modalityDetected.pipe((0,Mp.x)()),i.isBrowser&&r.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,Rp),s.addEventListener("mousedown",this._onMousedown,Rp),s.addEventListener("touchstart",this._onTouchstart,Rp)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Rp),document.removeEventListener("mousedown",this._onMousedown,Rp),document.removeEventListener("touchstart",this._onTouchstart,Rp))}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Zr),u.LFG(u.R0b),u.LFG(ne),u.LFG(Jz,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const jN=new u.OlP("liveAnnouncerElement",{providedIn:"root",factory:function nH(){return null}}),iH=new u.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let rH=0,zN=(()=>{var t;class e{constructor(i,r,s,l){this._ngZone=r,this._defaultOptions=l,this._document=s,this._liveElement=i||this._createLiveElement()}announce(i,...r){const s=this._defaultOptions;let l,h;return 1===r.length&&"number"==typeof r[0]?h=r[0]:[l,h]=r,this.clear(),clearTimeout(this._previousTimeout),l||(l=s&&s.politeness?s.politeness:"polite"),null==h&&s&&(h=s.duration),this._liveElement.setAttribute("aria-live",l),this._liveElement.id&&this._exposeAnnouncerToModals(this._liveElement.id),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(p=>this._currentResolve=p)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=i,"number"==typeof h&&(this._previousTimeout=setTimeout(()=>this.clear(),h)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const i="cdk-live-announcer-element",r=this._document.getElementsByClassName(i),s=this._document.createElement("div");for(let l=0;l<r.length;l++)r[l].remove();return s.classList.add(i),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),s.id="cdk-live-announcer-"+rH++,this._document.body.appendChild(s),s}_exposeAnnouncerToModals(i){const r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<r.length;s++){const l=r[s],h=l.getAttribute("aria-owns");h?-1===h.indexOf(i)&&l.setAttribute("aria-owns",h+" "+i):l.setAttribute("aria-owns",i)}}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(jN,8),u.LFG(u.R0b),u.LFG(ne),u.LFG(iH,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const HN=new u.OlP("cdk-focus-monitor-default-options"),tx=Jc({passive:!0,capture:!0});let o=(()=>{var t;class e{constructor(i,r,s,l,h){this._ngZone=i,this._platform=r,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new jt.x,this._rootNodeFocusAndBlurListener=p=>{for(let b=Rl(p);b;b=b.parentElement)"focus"===p.type?this._onFocus(p,b):this._onBlur(p,b)},this._document=l,this._detectionMode=h?.detectionMode||0}monitor(i,r=!1){const s=nu(i);if(!this._platform.isBrowser||1!==s.nodeType)return(0,at.of)();const l=function zD(t){if(function J1(){if(null==zw){const t=typeof document<"u"?document.head:null;zw=!(!t||!t.createShadowRoot&&!t.attachShadow)}return zw}()){const e=t.getRootNode?t.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(s)||this._getDocument(),h=this._elementInfo.get(s);if(h)return r&&(h.checkChildren=!0),h.subject;const p={checkChildren:r,subject:new jt.x,rootNode:l};return this._elementInfo.set(s,p),this._registerGlobalListeners(p),p.subject}stopMonitoring(i){const r=nu(i),s=this._elementInfo.get(r);s&&(s.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(s))}focusVia(i,r,s){const l=nu(i);l===this._getDocument().activeElement?this._getClosestElementsInfo(l).forEach(([p,g])=>this._originChanged(p,r,g)):(this._setOrigin(r),"function"==typeof l.focus&&l.focus(s))}ngOnDestroy(){this._elementInfo.forEach((i,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(i){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(i)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:i&&this._isLastInteractionFromInputLabel(i)?"mouse":"program"}_shouldBeAttributedToTouch(i){return 1===this._detectionMode||!!i?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(i,r){i.classList.toggle("cdk-focused",!!r),i.classList.toggle("cdk-touch-focused","touch"===r),i.classList.toggle("cdk-keyboard-focused","keyboard"===r),i.classList.toggle("cdk-mouse-focused","mouse"===r),i.classList.toggle("cdk-program-focused","program"===r)}_setOrigin(i,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=i,this._originFromTouchInteraction="touch"===i&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(i,r){const s=this._elementInfo.get(r),l=Rl(i);!s||!s.checkChildren&&r!==l||this._originChanged(r,this._getFocusOrigin(l),s)}_onBlur(i,r){const s=this._elementInfo.get(r);!s||s.checkChildren&&i.relatedTarget instanceof Node&&r.contains(i.relatedTarget)||(this._setClasses(r),this._emitOrigin(s,null))}_emitOrigin(i,r){i.subject.observers.length&&this._ngZone.run(()=>i.subject.next(r))}_registerGlobalListeners(i){if(!this._platform.isBrowser)return;const r=i.rootNode,s=this._rootNodeFocusListenerCount.get(r)||0;s||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,tx),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,tx)}),this._rootNodeFocusListenerCount.set(r,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Si(this._stopInputModalityDetector)).subscribe(l=>{this._setOrigin(l,!0)}))}_removeGlobalListeners(i){const r=i.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const s=this._rootNodeFocusListenerCount.get(r);s>1?this._rootNodeFocusListenerCount.set(r,s-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,tx),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,tx),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(i,r,s){this._setClasses(i,r),this._emitOrigin(s,r),this._lastFocusOrigin=r}_getClosestElementsInfo(i){const r=[];return this._elementInfo.forEach((s,l)=>{(l===i||s.checkChildren&&l.contains(i))&&r.push([l,s])}),r}_isLastInteractionFromInputLabel(i){const{_mostRecentTarget:r,mostRecentModality:s}=this._inputModalityDetector;if("mouse"!==s||!r||r===i||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName||i.disabled)return!1;const l=i.labels;if(l)for(let h=0;h<l.length;h++)if(l[h].contains(r))return!0;return!1}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(u.R0b),u.LFG(Zr),u.LFG(tH),u.LFG(ne,8),u.LFG(HN,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const c="cdk-high-contrast-black-on-white",d="cdk-high-contrast-white-on-black",f="cdk-high-contrast-active";let m=(()=>{var t;class e{constructor(i,r){this._platform=i,this._document=r,this._breakpointSubscription=(0,u.f3M)(uy).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);const r=this._document.defaultView||window,s=r&&r.getComputedStyle?r.getComputedStyle(i):null,l=(s&&s.backgroundColor||"").replace(/ /g,"");switch(i.remove(),l){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const i=this._document.body.classList;i.remove(f,c,d),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?i.add(f,c):2===r&&i.add(f,d)}}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Zr),u.LFG(ne))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const w=new u.OlP("cdk-dir-doc",{providedIn:"root",factory:function I(){return(0,u.f3M)(ne)}}),S=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let U=(()=>{var t;class e{constructor(i){this.value="ltr",this.change=new u.vpe,i&&(this.value=function M(t){const e=t?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?S.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((i.body?i.body.dir:null)||(i.documentElement?i.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(w,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),te=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),e})();const jY=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function $N(){return!0}});let Xi=(()=>{var t;class e{constructor(i,r,s){this._sanityChecks=r,this._document=s,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return!ly()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[i])}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(m),u.LFG(jY,8),u.LFG(ne))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[te,te]}),e})();function zY(t){return class extends t{get disabled(){return this._disabled}set disabled(e){this._disabled=Qi(e)}constructor(...e){super(...e),this._disabled=!1}}}function HY(t,e){return class extends t{get color(){return this._color}set color(n){const i=n||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...n){super(...n),this.defaultColor=e,this.color=e}}}function $Y(t){return class extends t{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Qi(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function GY(t){return class extends t{updateErrorState(){const e=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==e&&(this.errorState=s,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let qY=(()=>{var t;class e{isErrorState(i,r){return!!(i&&i.invalid&&(i.touched||r&&r.submitted))}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),oH=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[Xi,Xi]}),e})();class YY{constructor(e,n,i,r=!1){this._renderer=e,this.element=n,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const aH=Jc({passive:!0,capture:!0});class KY{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const n=Rl(e);n&&this._events.get(e.type)?.forEach((i,r)=>{(r===n||r.contains(n))&&i.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,i,r){const s=this._events.get(n);if(s){const l=s.get(i);l?l.add(r):s.set(i,new Set([r]))}else this._events.set(n,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,aH)})}removeHandler(e,n,i){const r=this._events.get(e);if(!r)return;const s=r.get(n);s&&(s.delete(i),0===s.size&&r.delete(n),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,aH)))}}const lH={enterDuration:225,exitDuration:150},cH=Jc({passive:!0,capture:!0}),uH=["mousedown","touchstart"],dH=["mouseup","mouseleave","touchend","touchcancel"];class ix{constructor(e,n,i,r){this._target=e,this._ngZone=n,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=nu(i))}fadeInRipple(e,n,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...lH,...i.animation};i.centered&&(e=r.left+r.width/2,n=r.top+r.height/2);const l=i.radius||function QY(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(e,n,r),h=e-r.left,p=n-r.top,g=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=h-l+"px",b.style.top=p-l+"px",b.style.height=2*l+"px",b.style.width=2*l+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${g}ms`,this._containerElement.appendChild(b);const C=window.getComputedStyle(b),R=C.transitionDuration,B="none"===C.transitionProperty||"0s"===R||"0s, 0s"===R||0===r.width&&0===r.height,G=new YY(this,b,i,B);b.style.transform="scale3d(1, 1, 1)",G.state=0,i.persistent||(this._mostRecentTransientRipple=G);let q=null;return!B&&(g||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const le=()=>this._finishRippleTransition(G),De=()=>this._destroyRipple(G);b.addEventListener("transitionend",le),b.addEventListener("transitioncancel",De),q={onTransitionEnd:le,onTransitionCancel:De}}),this._activeRipples.set(G,q),(B||!g)&&this._finishRippleTransition(G),G}fadeOutRipple(e){if(2===e.state||3===e.state)return;const n=e.element,i={...lH,...e.config.animation};n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const n=nu(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,uH.forEach(i=>{ix._eventManager.addHandler(this._ngZone,i,n,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{dH.forEach(n=>{this._triggerElement.addEventListener(n,this,cH)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const n=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==n&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){const n=aA(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!lA(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=e.changedTouches;if(n)for(let i=0;i<n.length;i++)this.fadeInRipple(n[i].clientX,n[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(uH.forEach(n=>ix._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&dH.forEach(n=>e.removeEventListener(n,this,cH)))}}ix._eventManager=new KY;const hH=new u.OlP("mat-ripple-global-options");let XY=(()=>{var t;class e{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,r,s,l,h){this._elementRef=i,this._animationMode=h,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=l||{},this._rippleRenderer=new ix(this,r,i,s)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,r=0,s){return"number"==typeof i?this._rippleRenderer.fadeInRipple(i,r,{...this.rippleConfig,...s}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...i})}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(u.R0b),u.Y36(Zr),u.Y36(hH,8),u.Y36(u.QbO,8))},t.\u0275dir=u.lG2({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&u.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),e})(),JY=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[Xi,Xi]}),e})();const fH={capture:!0},pH=["focus","click","mouseenter","touchstart"],GN="mat-ripple-loader-uninitialized",WN="mat-ripple-loader-class-name",mH="mat-ripple-loader-centered",uA="mat-ripple-loader-disabled";let eK=(()=>{var t;class e{constructor(){this._document=(0,u.f3M)(ne,{optional:!0}),this._animationMode=(0,u.f3M)(u.QbO,{optional:!0}),this._globalRippleOptions=(0,u.f3M)(hH,{optional:!0}),this._platform=(0,u.f3M)(Zr),this._ngZone=(0,u.f3M)(u.R0b),this._onInteraction=i=>{if(!(i.target instanceof HTMLElement))return;const s=i.target.closest(`[${GN}]`);s&&this.createRipple(s)},this._ngZone.runOutsideAngular(()=>{for(const i of pH)this._document?.addEventListener(i,this._onInteraction,fH)})}ngOnDestroy(){for(const i of pH)this._document?.removeEventListener(i,this._onInteraction,fH)}configureRipple(i,r){i.setAttribute(GN,""),(r.className||!i.hasAttribute(WN))&&i.setAttribute(WN,r.className||""),r.centered&&i.setAttribute(mH,""),r.disabled&&i.setAttribute(uA,"")}getRipple(i){return i.matRipple?i.matRipple:this.createRipple(i)}setDisabled(i,r){const s=i.matRipple;s?s.disabled=r:r?i.setAttribute(uA,""):i.removeAttribute(uA)}createRipple(i){if(!this._document)return;i.querySelector(".mat-ripple")?.remove();const r=this._document.createElement("span");r.classList.add("mat-ripple",i.getAttribute(WN)),i.append(r);const s=new XY(new u.SBq(r),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return s._isInitialized=!0,s.trigger=i,s.centered=i.hasAttribute(mH),s.disabled=i.hasAttribute(uA),this.attachRipple(i,s),s}attachRipple(i,r){i.removeAttribute(GN),i.matRipple=r}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const tK=["mat-button",""],nK=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],iK=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],rK=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],sK=HY(zY($Y(class{constructor(t){this._elementRef=t}})));let oK=(()=>{var t;class e extends sK{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(i){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,i)}get disableRipple(){return this._disableRipple}set disableRipple(i){this._disableRipple=Qi(i),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(i){this._disabled=Qi(i),this._updateRippleDisabled()}constructor(i,r,s,l){super(i),this._platform=r,this._ngZone=s,this._animationMode=l,this._focusMonitor=(0,u.f3M)(o),this._rippleLoader=(0,u.f3M)(eK),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const h=i.nativeElement.classList;for(const p of rK)this._hasHostAttributes(p.selector)&&p.mdcClasses.forEach(g=>{h.add(g)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(i="program",r){i?this._focusMonitor.focusVia(this._elementRef.nativeElement,i,r):this._elementRef.nativeElement.focus(r)}_hasHostAttributes(...i){return i.some(r=>this._elementRef.nativeElement.hasAttribute(r))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}}return(t=e).\u0275fac=function(i){u.$Z()},t.\u0275dir=u.lG2({type:t,features:[u.qOj]}),e})(),qN=(()=>{var t;class e extends oK{constructor(i,r,s,l){super(i,r,s,l)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(Zr),u.Y36(u.R0b),u.Y36(u.QbO,8))},t.\u0275cmp=u.Xpm({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(u.uIk("disabled",r.disabled||null),u.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[u.qOj],attrs:tK,ngContentSelectors:iK,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(u.F$t(nK),u._UZ(0,"span",0),u.Hsn(1),u.TgZ(2,"span",1),u.Hsn(3,1),u.qZA(),u.Hsn(4,2),u._UZ(5,"span",2)(6,"span",3)),2&i&&u.ekj("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),e})(),gH=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[Xi,JY,Xi]}),e})();class _H{}class cK{}const su="*";function yH(t,e){return{type:7,name:t,definitions:e,options:{}}}function YN(t,e=null){return{type:4,styles:e,timings:t}}function vH(t,e=null){return{type:2,steps:t,options:e}}function kp(t){return{type:6,styles:t,offset:null}}function KN(t,e,n){return{type:0,name:t,styles:e,options:n}}function ZN(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}class rx{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class bH{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,i=0,r=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++n==s&&this._onFinish()}),l.onDestroy(()=>{++i==s&&this._onDestroy()}),l.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,n/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((n,i)=>null===n||i.totalTime>n.totalTime?i:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class XN{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class JN extends XN{constructor(e,n,i,r,s){super(),this.component=e,this.viewContainerRef=n,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=s}}class wH extends XN{constructor(e,n,i,r){super(),this.templateRef=e,this.viewContainerRef=n,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,n=this.context){return this.context=n,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class uK extends XN{constructor(e){super(),this.element=e instanceof u.SBq?e.nativeElement:e}}class eP{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof JN?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof wH?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof uK?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class dK extends eP{constructor(e,n,i,r,s){super(),this.outletElement=e,this._componentFactoryResolver=n,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const h=l.element,p=this._document.createComment("dom-portal");h.parentNode.insertBefore(p,h),this.outletElement.appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||u.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let n=e.viewContainerRef,i=n.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=n.indexOf(i);-1!==r&&n.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let xH=(()=>{var t;class e extends eP{constructor(i,r,s){super(),this._componentFactoryResolver=i,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new u.vpe,this.attachDomPortal=l=>{const h=l.element,p=this._document.createComment("dom-portal");l.setAttachedHost(this),h.parentNode.insertBefore(p,h),this._getRootNode().appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(h,p)})},this._document=s}get portal(){return this._attachedPortal}set portal(i){this.hasAttached()&&!i&&!this._isInitialized||(this.hasAttached()&&super.detach(),i&&super.attach(i),this._attachedPortal=i||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(i){i.setAttachedHost(this);const r=null!=i.viewContainerRef?i.viewContainerRef:this._viewContainerRef,l=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component),h=r.createComponent(l,r.length,i.injector||r.injector,i.projectableNodes||void 0);return r!==this._viewContainerRef&&this._getRootNode().appendChild(h.hostView.rootNodes[0]),super.setDisposeFn(()=>h.destroy()),this._attachedPortal=i,this._attachedRef=h,this.attached.emit(h),h}attachTemplatePortal(i){i.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=i,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const i=this._viewContainerRef.element.nativeElement;return i.nodeType===i.ELEMENT_NODE?i:i.parentNode}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u._Vd),u.Y36(u.s_b),u.Y36(ne))},t.\u0275dir=u.lG2({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[u.qOj]}),e})(),EH=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),e})();var hK=P(4266);const fK=["addListener","removeListener"],pK=["addEventListener","removeEventListener"],mK=["on","off"];function tP(t,e,n,i){if((0,Gi.m)(n)&&(i=n,n=void 0),i)return tP(t,e,n).pipe(ml(i));const[r,s]=function yK(t){return(0,Gi.m)(t.addEventListener)&&(0,Gi.m)(t.removeEventListener)}(t)?pK.map(l=>h=>t[l](e,h,n)):function gK(t){return(0,Gi.m)(t.addListener)&&(0,Gi.m)(t.removeListener)}(t)?fK.map(CH(t,e)):function _K(t){return(0,Gi.m)(t.on)&&(0,Gi.m)(t.off)}(t)?mK.map(CH(t,e)):[];if(!r&&(0,hK.z)(t))return(0,Wi.z)(l=>tP(l,e,n))((0,Sa.Xf)(t));if(!r)throw new TypeError("Invalid event target");return new On.y(l=>{const h=(...p)=>l.next(1<p.length?p:p[0]);return r(h),()=>s(h)})}function CH(t,e){return n=>i=>t[n](e,i)}const sx={schedule(t){let e=requestAnimationFrame,n=cancelAnimationFrame;const{delegate:i}=sx;i&&(e=i.requestAnimationFrame,n=i.cancelAnimationFrame);const r=e(s=>{n=void 0,t(s)});return new yo.w0(()=>n?.(r))},requestAnimationFrame(...t){const{delegate:e}=sx;return(e?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:e}=sx;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0};new class bK extends R_{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw r}}}(class vK extends M_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,i=0){return null!==i&&i>0?super.requestAsyncId(e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=sx.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,n,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,n,i);const{actions:s}=e;null!=n&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==n&&(sx.cancelAnimationFrame(n),e._scheduled=void 0)}});let nP,xK=1;const dA={};function IH(t){return t in dA&&(delete dA[t],!0)}const EK={setImmediate(t){const e=xK++;return dA[e]=!0,nP||(nP=Promise.resolve()),nP.then(()=>IH(e)&&t()),e},clearImmediate(t){IH(t)}},{setImmediate:CK,clearImmediate:IK}=EK,hA={setImmediate(...t){const{delegate:e}=hA;return(e?.setImmediate||CK)(...t)},clearImmediate(t){const{delegate:e}=hA;return(e?.clearImmediate||IK)(t)},delegate:void 0};new class DK extends R_{flush(e){this._active=!0;const n=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===n&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===n&&i.shift();)e.unsubscribe();throw r}}}(class SK extends M_{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}requestAsyncId(e,n,i=0){return null!==i&&i>0?super.requestAsyncId(e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=hA.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,n,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,n,i);const{actions:s}=e;null!=n&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==n&&(hA.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))}});var MK=P(671);function SH(t,e=dp){return function TK(t){return(0,Bi.e)((e,n)=>{let i=!1,r=null,s=null,l=!1;const h=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const g=r;r=null,n.next(g)}l&&n.complete()},p=()=>{s=null,l&&n.complete()};e.subscribe((0,mi.x)(n,g=>{i=!0,r=g,s||(0,Sa.Xf)(t(g)).subscribe(s=(0,mi.x)(n,h,p))},()=>{l=!0,(!i||!s||s.closed)&&n.complete()}))})}(()=>function kK(t=0,e,n=TO){let i=-1;return null!=e&&((0,MK.K)(e)?n=e:i=e),new On.y(r=>{let s=function RK(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let l=0;return n.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},s)})}(t,e))}let NK=(()=>{var t;class e{constructor(i,r,s){this._ngZone=i,this._platform=r,this._scrolled=new jt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(i){this.scrollContainers.has(i)||this.scrollContainers.set(i,i.elementScrolled().subscribe(()=>this._scrolled.next(i)))}deregister(i){const r=this.scrollContainers.get(i);r&&(r.unsubscribe(),this.scrollContainers.delete(i))}scrolled(i=20){return this._platform.isBrowser?new On.y(r=>{this._globalSubscription||this._addGlobalListener();const s=i>0?this._scrolled.pipe(SH(i)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,at.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((i,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(i,r){const s=this.getAncestorScrollContainers(i);return this.scrolled(r).pipe(xn(l=>!l||s.indexOf(l)>-1))}getAncestorScrollContainers(i){const r=[];return this.scrollContainers.forEach((s,l)=>{this._scrollableContainsElement(l,i)&&r.push(l)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(i,r){let s=nu(r),l=i.getElementRef().nativeElement;do{if(s==l)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>tP(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(u.R0b),u.LFG(Zr),u.LFG(ne,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),DH=(()=>{var t;class e{constructor(i,r,s){this._platform=i,this._change=new jt.x,this._changeListener=l=>{this._change.next(l)},this._document=s,r.runOutsideAngular(()=>{if(i.isBrowser){const l=this._getWindow();l.addEventListener("resize",this._changeListener),l.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const i=this._getWindow();i.removeEventListener("resize",this._changeListener),i.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const i={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),i}getViewportRect(){const i=this.getViewportScrollPosition(),{width:r,height:s}=this.getViewportSize();return{top:i.top,left:i.left,bottom:i.top+s,right:i.left+r,height:s,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const i=this._document,r=this._getWindow(),s=i.documentElement,l=s.getBoundingClientRect();return{top:-l.top||i.body.scrollTop||r.scrollY||s.scrollTop||0,left:-l.left||i.body.scrollLeft||r.scrollX||s.scrollLeft||0}}change(i=20){return i>0?this._change.pipe(SH(i)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const i=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:i.innerWidth,height:i.innerHeight}:{width:0,height:0}}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Zr),u.LFG(u.R0b),u.LFG(ne,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),AH=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),e})(),TH=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[te,AH,te,AH]}),e})();const MH=$j();class FK{constructor(e,n){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Zn(-this._previousScrollPosition.left),e.style.top=Zn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,s=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),MH&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),MH&&(i.scrollBehavior=s,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const n=this._document.body,i=this._viewportRuler.getViewportSize();return n.scrollHeight>i.height||n.scrollWidth>i.width}}class LK{constructor(e,n,i,r){this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(xn(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class RH{enable(){}disable(){}attach(){}}function iP(t,e){return e.some(n=>t.bottom<n.top||t.top>n.bottom||t.right<n.left||t.left>n.right)}function kH(t,e){return e.some(n=>t.top<n.top||t.bottom>n.bottom||t.left<n.left||t.right>n.right)}class BK{constructor(e,n,i,r){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();iP(n,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let VK=(()=>{var t;class e{constructor(i,r,s,l){this._scrollDispatcher=i,this._viewportRuler=r,this._ngZone=s,this.noop=()=>new RH,this.close=h=>new LK(this._scrollDispatcher,this._ngZone,this._viewportRuler,h),this.block=()=>new FK(this._viewportRuler,this._document),this.reposition=h=>new BK(this._scrollDispatcher,this._viewportRuler,this._ngZone,h),this._document=l}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(NK),u.LFG(DH),u.LFG(u.R0b),u.LFG(ne))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class OH{constructor(e){if(this.scrollStrategy=new RH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const n=Object.keys(e);for(const i of n)void 0!==e[i]&&(this[i]=e[i])}}}class UK{constructor(e,n){this.connectionPair=e,this.scrollableViewProperties=n}}let NH=(()=>{var t;class e{constructor(i){this._attachedOverlays=[],this._document=i}ngOnDestroy(){this.detach()}add(i){this.remove(i),this._attachedOverlays.push(i)}remove(i){const r=this._attachedOverlays.indexOf(i);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ne))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),jK=(()=>{var t;class e extends NH{constructor(i,r){super(i),this._ngZone=r,this._keydownListener=s=>{const l=this._attachedOverlays;for(let h=l.length-1;h>-1;h--)if(l[h]._keydownEvents.observers.length>0){const p=l[h]._keydownEvents;this._ngZone?this._ngZone.run(()=>p.next(s)):p.next(s);break}}}add(i){super.add(i),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ne),u.LFG(u.R0b,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),zK=(()=>{var t;class e extends NH{constructor(i,r,s){super(i),this._platform=r,this._ngZone=s,this._cursorStyleIsSet=!1,this._pointerDownListener=l=>{this._pointerDownEventTarget=Rl(l)},this._clickListener=l=>{const h=Rl(l),p="click"===l.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:h;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let b=g.length-1;b>-1;b--){const C=g[b];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(h)||C.overlayElement.contains(p))break;const D=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(l)):D.next(l)}}}add(i){if(super.add(i),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const i=this._document.body;i.removeEventListener("pointerdown",this._pointerDownListener,!0),i.removeEventListener("click",this._clickListener,!0),i.removeEventListener("auxclick",this._clickListener,!0),i.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(i.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(i){i.addEventListener("pointerdown",this._pointerDownListener,!0),i.addEventListener("click",this._clickListener,!0),i.addEventListener("auxclick",this._clickListener,!0),i.addEventListener("contextmenu",this._clickListener,!0)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ne),u.LFG(Zr),u.LFG(u.R0b,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),PH=(()=>{var t;class e{constructor(i,r){this._platform=r,this._document=i}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const i="cdk-overlay-container";if(this._platform.isBrowser||ly()){const s=this._document.querySelectorAll(`.${i}[platform="server"], .${i}[platform="test"]`);for(let l=0;l<s.length;l++)s[l].remove()}const r=this._document.createElement("div");r.classList.add(i),ly()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ne),u.LFG(Zr))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class HK{constructor(e,n,i,r,s,l,h,p,g,b=!1){this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=l,this._document=h,this._location=p,this._outsideClickDispatcher=g,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new jt.x,this._attachments=new jt.x,this._detachments=new jt.x,this._locationChanges=yo.w0.EMPTY,this._backdropClickHandler=C=>this._backdropClick.next(C),this._backdropTransitionendHandler=C=>{this._disposeBackdrop(C.target)},this._keydownEvents=new jt.x,this._outsidePointerEvents=new jt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const n=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Gr(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof n?.onDestroy&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Zn(this._config.width),e.height=Zn(this._config.height),e.minWidth=Zn(this._config.minWidth),e.minHeight=Zn(this._config.minHeight),e.maxWidth=Zn(this._config.maxWidth),e.maxHeight=Zn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,n,i){const r=Kd(n||[]).filter(s=>!!s);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Si((0,bp.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const FH="cdk-overlay-connected-position-bounding-box",$K=/([A-Za-z%]+)$/;class GK{get positions(){return this._preferredPositions}constructor(e,n,i,r,s){this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new jt.x,this._resizeSubscription=yo.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(FH),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,n=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let l;for(let h of this._preferredPositions){let p=this._getOriginPoint(e,r,h),g=this._getOverlayPoint(p,n,h),b=this._getOverlayFit(g,n,i,h);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,p);this._canFitWithFlexibleDimensions(b,g,i)?s.push({position:h,origin:p,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(p,h)}):(!l||l.overlayFit.visibleArea<b.visibleArea)&&(l={overlayFit:b,overlayPoint:g,originPoint:p,position:h,overlayRect:n})}if(s.length){let h=null,p=-1;for(const g of s){const b=g.boundingBoxRect.width*g.boundingBoxRect.height*(g.position.weight||1);b>p&&(p=b,h=g)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Op(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(FH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const n=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,n)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,n,i){let r,s;if("center"==i.originX)r=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?l:h}return n.left<0&&(r-=n.left),s="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,n.top<0&&(s-=n.top),{x:r,y:s}}_getOverlayPoint(e,n,i){let r,s;return r="center"==i.overlayX?-n.width/2:"start"===i.overlayX?this._isRtl()?-n.width:0:this._isRtl()?0:-n.width,s="center"==i.overlayY?-n.height/2:"top"==i.overlayY?0:-n.height,{x:e.x+r,y:e.y+s}}_getOverlayFit(e,n,i,r){const s=BH(n);let{x:l,y:h}=e,p=this._getOffset(r,"x"),g=this._getOffset(r,"y");p&&(l+=p),g&&(h+=g);let D=0-h,R=h+s.height-i.height,B=this._subtractOverflows(s.width,0-l,l+s.width-i.width),G=this._subtractOverflows(s.height,D,R),q=B*G;return{visibleArea:q,isCompletelyWithinViewport:s.width*s.height===q,fitsInViewportVertically:G===s.height,fitsInViewportHorizontally:B==s.width}}_canFitWithFlexibleDimensions(e,n,i){if(this._hasFlexibleDimensions){const r=i.bottom-n.y,s=i.right-n.x,l=LH(this._overlayRef.getConfig().minHeight),h=LH(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=l&&l<=r)&&(e.fitsInViewportHorizontally||null!=h&&h<=s)}return!1}_pushOverlayOnScreen(e,n,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=BH(n),s=this._viewportRect,l=Math.max(e.x+r.width-s.width,0),h=Math.max(e.y+r.height-s.height,0),p=Math.max(s.top-i.top-e.y,0),g=Math.max(s.left-i.left-e.x,0);let b=0,C=0;return b=r.width<=s.width?g||-l:e.x<this._viewportMargin?s.left-i.left-e.x:0,C=r.height<=s.height?p||-h:e.y<this._viewportMargin?s.top-i.top-e.y:0,this._previousPushAmount={x:b,y:C},{x:e.x+b,y:e.y+C}}_applyPosition(e,n){if(this._setTransformOrigin(e),this._setOverlayElementStyles(n,e),this._setBoundingBoxStyles(n,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new UK(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const n=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let s=0;s<n.length;s++)n[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,n){const i=this._viewportRect,r=this._isRtl();let s,l,h,b,C,D;if("top"===n.overlayY)l=e.y,s=i.height-l+this._viewportMargin;else if("bottom"===n.overlayY)h=i.height-e.y+2*this._viewportMargin,s=i.height-h+this._viewportMargin;else{const R=Math.min(i.bottom-e.y+i.top,e.y),B=this._lastBoundingBoxSize.height;s=2*R,l=e.y-R,s>B&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-B/2)}if("end"===n.overlayX&&!r||"start"===n.overlayX&&r)D=i.width-e.x+this._viewportMargin,b=e.x-this._viewportMargin;else if("start"===n.overlayX&&!r||"end"===n.overlayX&&r)C=e.x,b=i.right-e.x;else{const R=Math.min(i.right-e.x+i.left,e.x),B=this._lastBoundingBoxSize.width;b=2*R,C=e.x-R,b>B&&!this._isInitialRender&&!this._growAfterOpen&&(C=e.x-B/2)}return{top:l,left:C,bottom:h,right:D,width:b,height:s}}_setBoundingBoxStyles(e,n){const i=this._calculateBoundingBoxRect(e,n);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=Zn(i.height),r.top=Zn(i.top),r.bottom=Zn(i.bottom),r.width=Zn(i.width),r.left=Zn(i.left),r.right=Zn(i.right),r.alignItems="center"===n.overlayX?"center":"end"===n.overlayX?"flex-end":"flex-start",r.justifyContent="center"===n.overlayY?"center":"bottom"===n.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=Zn(s)),l&&(r.maxWidth=Zn(l))}this._lastBoundingBoxSize=i,Op(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Op(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Op(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,n){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();Op(i,this._getExactOverlayY(n,e,b)),Op(i,this._getExactOverlayX(n,e,b))}else i.position="static";let h="",p=this._getOffset(n,"x"),g=this._getOffset(n,"y");p&&(h+=`translateX(${p}px) `),g&&(h+=`translateY(${g}px)`),i.transform=h.trim(),l.maxHeight&&(r?i.maxHeight=Zn(l.maxHeight):s&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=Zn(l.maxWidth):s&&(i.maxWidth="")),Op(this._pane.style,i)}_getExactOverlayY(e,n,i){let r={top:"",bottom:""},s=this._getOverlayPoint(n,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=Zn(s.y),r}_getExactOverlayX(e,n,i){let l,r={left:"",right:""},s=this._getOverlayPoint(n,this._overlayRect,e);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=Zn(s.x),r}_getScrollVisibility(){const e=this._getOriginRect(),n=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:kH(e,i),isOriginOutsideView:iP(e,i),isOverlayClipped:kH(n,i),isOverlayOutsideView:iP(n,i)}}_subtractOverflows(e,...n){return n.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+n-this._viewportMargin,width:e-2*this._viewportMargin,height:n-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,n){return"x"===n?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Kd(e).forEach(n=>{""!==n&&-1===this._appliedPanelClasses.indexOf(n)&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof u.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const n=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+n,height:i,width:n}}}function Op(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function LH(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split($K);return n&&"px"!==n?null:parseFloat(e)}return t||null}function BH(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const VH="cdk-global-overlay-wrapper";class WK{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const n=e.getConfig();this._overlayRef=e,this._width&&!n.width&&e.updateSize({width:this._width}),this._height&&!n.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(VH),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:l,maxHeight:h}=i,p=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),g=!("100%"!==s&&"100vh"!==s||h&&"100%"!==h&&"100vh"!==h),b=this._xPosition,C=this._xOffset,D="rtl"===this._overlayRef.getConfig().direction;let R="",B="",G="";p?G="flex-start":"center"===b?(G="center",D?B=C:R=C):D?"left"===b||"end"===b?(G="flex-end",R=C):("right"===b||"start"===b)&&(G="flex-start",B=C):"left"===b||"start"===b?(G="flex-start",R=C):("right"===b||"end"===b)&&(G="flex-end",B=C),e.position=this._cssPosition,e.marginLeft=p?"0":R,e.marginTop=g?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=p?"0":B,n.justifyContent=G,n.alignItems=g?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,i=n.style;n.classList.remove(VH),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let qK=(()=>{var t;class e{constructor(i,r,s,l){this._viewportRuler=i,this._document=r,this._platform=s,this._overlayContainer=l}global(){return new WK}flexibleConnectedTo(i){return new GK(i,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(DH),u.LFG(ne),u.LFG(Zr),u.LFG(PH))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),YK=0,fA=(()=>{var t;class e{constructor(i,r,s,l,h,p,g,b,C,D,R,B){this.scrollStrategies=i,this._overlayContainer=r,this._componentFactoryResolver=s,this._positionBuilder=l,this._keyboardDispatcher=h,this._injector=p,this._ngZone=g,this._document=b,this._directionality=C,this._location=D,this._outsideClickDispatcher=R,this._animationsModuleType=B}create(i){const r=this._createHostElement(),s=this._createPaneElement(r),l=this._createPortalOutlet(s),h=new OH(i);return h.direction=h.direction||this._directionality.value,new HK(l,r,s,h,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(i){const r=this._document.createElement("div");return r.id="cdk-overlay-"+YK++,r.classList.add("cdk-overlay-pane"),i.appendChild(r),r}_createHostElement(){const i=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalOutlet(i){return this._appRef||(this._appRef=this._injector.get(u.z2F)),new dK(i,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(VK),u.LFG(PH),u.LFG(u._Vd),u.LFG(qK),u.LFG(jK),u.LFG(u.zs3),u.LFG(u.R0b),u.LFG(ne),u.LFG(U),u.LFG(Ne),u.LFG(zK),u.LFG(u.QbO,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const QK={provide:new u.OlP("cdk-connected-overlay-scroll-strategy"),deps:[fA],useFactory:function ZK(t){return()=>t.scrollStrategies.reposition()}};let XK=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[fA,QK],imports:[te,EH,TH,TH]}),e})();function JK(t,e){if(1&t){const n=u.EpF();u.TgZ(0,"div",2)(1,"button",3),u.NdJ("click",function(){u.CHM(n);const r=u.oxw();return u.KtG(r.action())}),u._uU(2),u.qZA()()}if(2&t){const n=u.oxw();u.xp6(2),u.hij(" ",n.data.action," ")}}const eZ=["label"];function tZ(t,e){}const nZ=Math.pow(2,31)-1;class rP{constructor(e,n){this._overlayRef=n,this._afterDismissed=new jt.x,this._afterOpened=new jt.x,this._onAction=new jt.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,nZ))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}const UH=new u.OlP("MatSnackBarData");class pA{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}let iZ=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]}),e})(),rZ=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]}),e})(),sZ=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]}),e})(),oZ=(()=>{var t;class e{constructor(i,r){this.snackBarRef=i,this.data=r}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(rP),u.Y36(UH))},t.\u0275cmp=u.Xpm({type:t,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions","",4,"ngIf"],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,r){1&i&&(u.TgZ(0,"div",0),u._uU(1),u.qZA(),u.YNc(2,JK,3,1,"div",1)),2&i&&(u.xp6(1),u.hij(" ",r.data.message,"\n"),u.xp6(1),u.Q6J("ngIf",r.hasAction))},dependencies:[tc,qN,iZ,rZ,sZ],styles:[".mat-mdc-simple-snack-bar{display:flex}"],encapsulation:2,changeDetection:0}),e})();const aZ={snackBarState:yH("state",[KN("void, hidden",kp({transform:"scale(0.8)",opacity:0})),KN("visible",kp({transform:"scale(1)",opacity:1})),ZN("* => visible",YN("150ms cubic-bezier(0, 0, 0.2, 1)")),ZN("* => void, * => hidden",YN("75ms cubic-bezier(0.4, 0.0, 1, 1)",kp({opacity:0})))])};let lZ=0,cZ=(()=>{var t;class e extends eP{constructor(i,r,s,l,h){super(),this._ngZone=i,this._elementRef=r,this._changeDetectorRef=s,this._platform=l,this.snackBarConfig=h,this._document=(0,u.f3M)(ne),this._trackedModals=new Set,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new jt.x,this._onExit=new jt.x,this._onEnter=new jt.x,this._animationState="void",this._liveElementId="mat-snack-bar-container-live-"+lZ++,this.attachDomPortal=p=>{this._assertNotAttached();const g=this._portalOutlet.attachDomPortal(p);return this._afterPortalAttached(),g},this._live="assertive"!==h.politeness||h.announcementMessage?"off"===h.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(i){this._assertNotAttached();const r=this._portalOutlet.attachComponentPortal(i);return this._afterPortalAttached(),r}attachTemplatePortal(i){this._assertNotAttached();const r=this._portalOutlet.attachTemplatePortal(i);return this._afterPortalAttached(),r}onAnimationEnd(i){const{fromState:r,toState:s}=i;if(("void"===s&&"void"!==r||"hidden"===s)&&this._completeExit(),"visible"===s){const l=this._onEnter;this._ngZone.run(()=>{l.next(),l.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Gr(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const i=this._elementRef.nativeElement,r=this.snackBarConfig.panelClass;r&&(Array.isArray(r)?r.forEach(s=>i.classList.add(s)):i.classList.add(r)),this._exposeToModals()}_exposeToModals(){const i=this._liveElementId,r=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<r.length;s++){const l=r[s],h=l.getAttribute("aria-owns");this._trackedModals.add(l),h?-1===h.indexOf(i)&&l.setAttribute("aria-owns",h+" "+i):l.setAttribute("aria-owns",i)}}_clearFromModals(){this._trackedModals.forEach(i=>{const r=i.getAttribute("aria-owns");if(r){const s=r.replace(this._liveElementId,"").trim();s.length>0?i.setAttribute("aria-owns",s):i.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector("[aria-hidden]"),r=this._elementRef.nativeElement.querySelector("[aria-live]");if(i&&r){let s=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(s=document.activeElement),i.removeAttribute("aria-hidden"),r.appendChild(i),s?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.R0b),u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(Zr),u.Y36(pA))},t.\u0275dir=u.lG2({type:t,viewQuery:function(i,r){if(1&i&&u.Gf(xH,7),2&i){let s;u.iGM(s=u.CRH())&&(r._portalOutlet=s.first)}},features:[u.qOj]}),e})(),uZ=(()=>{var t;class e extends cZ{_afterPortalAttached(){super._afterPortalAttached();const i=this._label.nativeElement,r="mdc-snackbar__label";i.classList.toggle(r,!i.querySelector(`.${r}`))}}return(t=e).\u0275fac=function(){let n;return function(r){return(n||(n=u.n5z(t)))(r||t)}}(),t.\u0275cmp=u.Xpm({type:t,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,r){if(1&i&&u.Gf(eZ,7),2&i){let s;u.iGM(s=u.CRH())&&(r._label=s.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container","mdc-snackbar--open"],hostVars:1,hostBindings:function(i,r){1&i&&u.WFA("@state.done",function(l){return r.onAnimationEnd(l)}),2&i&&u.d8E("@state",r._animationState)},features:[u.qOj],decls:6,vars:3,consts:[[1,"mdc-snackbar__surface"],[1,"mat-mdc-snack-bar-label"],["label",""],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,r){1&i&&(u.TgZ(0,"div",0)(1,"div",1,2)(3,"div",3),u.YNc(4,tZ,0,0,"ng-template",4),u.qZA(),u._UZ(5,"div"),u.qZA()()),2&i&&(u.xp6(5),u.uIk("aria-live",r._live)("role",r._role)("id",r._liveElementId))},dependencies:[xH],styles:['.mdc-snackbar{display:none;position:fixed;right:0;bottom:0;left:0;align-items:center;justify-content:center;box-sizing:border-box;pointer-events:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mdc-snackbar--opening,.mdc-snackbar--open,.mdc-snackbar--closing{display:flex}.mdc-snackbar--open .mdc-snackbar__label,.mdc-snackbar--open .mdc-snackbar__actions{visibility:visible}.mdc-snackbar__surface{padding-left:0;padding-right:8px;display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;transform:scale(0.8);opacity:0}.mdc-snackbar__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-snackbar__surface::before{border-color:CanvasText}}[dir=rtl] .mdc-snackbar__surface,.mdc-snackbar__surface[dir=rtl]{padding-left:8px;padding-right:0}.mdc-snackbar--open .mdc-snackbar__surface{transform:scale(1);opacity:1;pointer-events:auto}.mdc-snackbar--closing .mdc-snackbar__surface{transform:scale(1)}.mdc-snackbar__label{padding-left:16px;padding-right:8px;width:100%;flex-grow:1;box-sizing:border-box;margin:0;visibility:hidden;padding-top:14px;padding-bottom:14px}[dir=rtl] .mdc-snackbar__label,.mdc-snackbar__label[dir=rtl]{padding-left:8px;padding-right:16px}.mdc-snackbar__label::before{display:inline;content:attr(data-mdc-snackbar-label-text)}.mdc-snackbar__actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box;visibility:hidden}.mdc-snackbar__action+.mdc-snackbar__dismiss{margin-left:8px;margin-right:0}[dir=rtl] .mdc-snackbar__action+.mdc-snackbar__dismiss,.mdc-snackbar__action+.mdc-snackbar__dismiss[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-snack-bar-container{margin:8px;--mdc-snackbar-container-shape:4px;position:static}.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:344px}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container .mdc-snackbar__surface{min-width:100%}}@media(max-width: 480px),(max-width: 344px){.mat-mdc-snack-bar-container{width:100vw}}.mat-mdc-snack-bar-container .mdc-snackbar__surface{max-width:672px}.mat-mdc-snack-bar-container .mdc-snackbar__surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{background-color:var(--mdc-snackbar-container-color)}.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:var(--mdc-snackbar-container-shape)}.mat-mdc-snack-bar-container .mdc-snackbar__label{color:var(--mdc-snackbar-supporting-text-color)}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-size:var(--mdc-snackbar-supporting-text-size);font-family:var(--mdc-snackbar-supporting-text-font);font-weight:var(--mdc-snackbar-supporting-text-weight);line-height:var(--mdc-snackbar-supporting-text-line-height)}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:var(--mat-snack-bar-button-color);--mat-mdc-button-persistent-ripple-color: currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{background-color:currentColor;opacity:.1}.mat-mdc-snack-bar-container .mdc-snackbar__label::before{display:none}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-handset .mdc-snackbar__surface{width:100%}'],encapsulation:2,data:{animation:[aZ.snackBarState]}}),e})(),jH=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[XK,EH,Mn,gH,Xi,Xi]}),e})();const zH=new u.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function dZ(){return new pA}});let hZ=(()=>{var t;class e{get _openedSnackBarRef(){const i=this._parentSnackBar;return i?i._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(i){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=i:this._snackBarRefAtThisLevel=i}constructor(i,r,s,l,h,p){this._overlay=i,this._live=r,this._injector=s,this._breakpointObserver=l,this._parentSnackBar=h,this._defaultConfig=p,this._snackBarRefAtThisLevel=null}openFromComponent(i,r){return this._attach(i,r)}openFromTemplate(i,r){return this._attach(i,r)}open(i,r="",s){const l={...this._defaultConfig,...s};return l.data={message:i,action:r},l.announcementMessage===i&&(l.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,l)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(i,r){const l=u.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:pA,useValue:r}]}),h=new JN(this.snackBarContainerComponent,r.viewContainerRef,l),p=i.attach(h);return p.instance.snackBarConfig=r,p.instance}_attach(i,r){const s={...new pA,...this._defaultConfig,...r},l=this._createOverlay(s),h=this._attachSnackBarContainer(l,s),p=new rP(h,l);if(i instanceof u.Rgc){const g=new wH(i,null,{$implicit:s.data,snackBarRef:p});p.instance=h.attachTemplatePortal(g)}else{const g=this._createInjector(s,p),b=new JN(i,void 0,g),C=h.attachComponentPortal(b);p.instance=C.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Si(l.detachments())).subscribe(g=>{l.overlayElement.classList.toggle(this.handsetCssClass,g.matches)}),s.announcementMessage&&h._onAnnounce.subscribe(()=>{this._live.announce(s.announcementMessage,s.politeness)}),this._animateSnackBar(p,s),this._openedSnackBarRef=p,this._openedSnackBarRef}_animateSnackBar(i,r){i.afterDismissed().subscribe(()=>{this._openedSnackBarRef==i&&(this._openedSnackBarRef=null),r.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{i.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):i.containerInstance.enter(),r.duration&&r.duration>0&&i.afterOpened().subscribe(()=>i._dismissAfter(r.duration))}_createOverlay(i){const r=new OH;r.direction=i.direction;let s=this._overlay.position().global();const l="rtl"===i.direction,h="left"===i.horizontalPosition||"start"===i.horizontalPosition&&!l||"end"===i.horizontalPosition&&l,p=!h&&"center"!==i.horizontalPosition;return h?s.left("0"):p?s.right("0"):s.centerHorizontally(),"top"===i.verticalPosition?s.top("0"):s.bottom("0"),r.positionStrategy=s,this._overlay.create(r)}_createInjector(i,r){return u.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:rP,useValue:r},{provide:UH,useValue:i.data}]})}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(fA),u.LFG(zN),u.LFG(u.zs3),u.LFG(uy),u.LFG(t,12),u.LFG(zH))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})(),HH=(()=>{var t;class e extends hZ{constructor(i,r,s,l,h,p){super(i,r,s,l,h,p),this.simpleSnackBarComponent=oZ,this.snackBarContainerComponent=uZ,this.handsetCssClass="mat-mdc-snack-bar-handset"}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(fA),u.LFG(zN),u.LFG(u.zs3),u.LFG(uy),u.LFG(t,12),u.LFG(zH))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:jH}),e})();function fZ(t,e){1&t&&(u.TgZ(0,"p",14),u._uU(1,"blackNgreen"),u.qZA())}let pZ=(()=>{var t;class e{constructor(i,r){this.auth=i,this.snackbar=r,this.isMobile=!1}ngOnInit(){Sb.init(),this.auth.autologin(),this.checkScreenWidth()}openSnackBar(i){this.snackbar.open(i,"Undo",{duration:5e3})}checkScreenWidth(){this.isMobile=window.innerWidth<=768}signInWithGoogle(){this.auth.googleSignIn()}signInWithGit(){this.auth.githubSignIn()}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(Sp),u.Y36(HH))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-login"]],decls:22,vars:1,consts:[["src","assets\\login\\logo1.png","alt","",1,"bungusbrand"],[1,"leftpanel"],["src","assets\\login\\logo1.png","alt","",1,"companyLogo"],["data-aos","fade-left","data-aos-duration","1000",1,"rightpanel"],["src","assets\\login\\logo.png","alt","",1,"logo1"],[1,"logintext"],[1,"loginquote"],["mat-stroked-button","",1,"signbutton",2,"width","100%","height","11%","color","#294B29","background-color","#BFD8AF","line-height","-100px !important",3,"click"],["src","assets\\login\\companies\\google.png","alt","",1,"companylogo1"],["mat-stroked-button","",1,"signbutton",2,"width","100%","height","11%","color","#294B29","background-color","#BFD8AF","line-height","100%",3,"click"],["src","assets\\login\\companies\\microsoft.png","alt","",1,"companylogo2"],["src","assets\\login\\companies\\apple-logo.png","alt","",1,"companylogo3"],["src","assets\\login\\companies\\github-sign.png","alt","",1,"companylogo4"],["class","logolabel",4,"ngIf"],[1,"logolabel"]],template:function(i,r){1&i&&(u._UZ(0,"img",0),u.TgZ(1,"div",1),u._UZ(2,"img",2),u.qZA(),u.TgZ(3,"div",3),u._UZ(4,"img",4),u.TgZ(5,"p",5),u._uU(6,"Login into your Account"),u.qZA(),u.TgZ(7,"p",6),u._uU(8,"blackNgreen"),u.qZA(),u.TgZ(9,"button",7),u.NdJ("click",function(){return r.signInWithGoogle()}),u._UZ(10,"img",8),u._uU(11," Continue with Google"),u.qZA(),u.TgZ(12,"button",9),u.NdJ("click",function(){return r.openSnackBar("Service not available at the moment")}),u._UZ(13,"img",10),u._uU(14," Continue with Microsoft"),u.qZA(),u.TgZ(15,"button",9),u.NdJ("click",function(){return r.openSnackBar("Service not available at the moment")}),u._UZ(16,"img",11),u._uU(17," Continue with Apple"),u.qZA(),u.TgZ(18,"button",9),u.NdJ("click",function(){return r.signInWithGit()}),u._UZ(19,"img",12),u._uU(20,"Continue with Github"),u.qZA(),u.YNc(21,fZ,2,0,"p",13),u.qZA()),2&i&&(u.xp6(21),u.Q6J("ngIf",r.isMobile))},dependencies:[qN,tc],styles:[".leftpanel[_ngcontent-%COMP%]{position:absolute;width:60%;height:100%;background-color:#789461;box-shadow:30px 19px 38px #0000004d,0 15px 12px #00000038;overflow-y:auto}.skull[_ngcontent-%COMP%]{position:relative;top:0vh;left:25%;width:50%;transition:all .3s ease-out}.skull[_ngcontent-%COMP%]:hover{transform:translateY(-.5%)}.pluto[_ngcontent-%COMP%]{position:absolute;width:25%;top:0;transition:all .3s ease-out}.pluto[_ngcontent-%COMP%]:hover{transform:translateY(-.5%)}.meteor1[_ngcontent-%COMP%]{position:absolute;z-index:2;width:10vh}.meteor2[_ngcontent-%COMP%]{position:absolute;z-index:2;width:10vh;bottom:20%;left:10%}.meteor3[_ngcontent-%COMP%]{position:absolute;z-index:2;width:10vh;bottom:20%;left:80%}.meteor4[_ngcontent-%COMP%]{position:absolute;z-index:2;width:10vh;top:20%;left:80%}.meteor5[_ngcontent-%COMP%]{position:absolute;z-index:2;width:10vh;top:50%;left:2%}.planet1[_ngcontent-%COMP%]{position:absolute;top:2%;width:5%;left:85%;transition:all .3s ease-out}.planet1[_ngcontent-%COMP%]:hover{transform:translateY(-2%)}.planet2[_ngcontent-%COMP%]{position:absolute;top:50%;left:76%;width:4%;transition:all .3s ease-out}.planet2[_ngcontent-%COMP%]:hover{transform:translateY(-2%)}.planet3[_ngcontent-%COMP%]{position:absolute;bottom:8%;left:17%;width:4%;transition:all .3s ease-out}.planet3[_ngcontent-%COMP%]:hover{transform:translateY(-2%)}.dot1[_ngcontent-%COMP%]{position:absolute;width:.5%;left:30%;top:10%}.dot2[_ngcontent-%COMP%]{position:absolute;width:.7%;left:75%;top:7%}.dot3[_ngcontent-%COMP%]{position:absolute;width:.3%;left:20%;top:40%}.dot4[_ngcontent-%COMP%]{position:absolute;width:.6%;left:14%;top:70%}.dot5[_ngcontent-%COMP%]{position:absolute;width:.6%;left:7%;bottom:10%}.dot6[_ngcontent-%COMP%]{position:absolute;width:.6%;left:47%;bottom:5%}.dot7[_ngcontent-%COMP%]{position:absolute;width:.6%;left:89%;bottom:12%}.dot8[_ngcontent-%COMP%]{position:absolute;width:.3%;left:78%;bottom:30%}.dot9[_ngcontent-%COMP%]{position:absolute;width:.3%;left:90%;bottom:38%}.dot10[_ngcontent-%COMP%]{position:absolute;width:.7%;left:87%;bottom:68%}.title[_ngcontent-%COMP%]{font-family:Nunito sans;color:#000;font-weight:900;display:block;margin:auto;font-size:xx-large}.text[_ngcontent-%COMP%]{position:relative;font-family:Nunito sans;color:#bfd8af;width:-moz-fit-content;width:fit-content;left:35.5%;bottom:-5%;margin:1%}.semi[_ngcontent-%COMP%]{position:absolute;z-index:2;left:54%;bottom:0;width:10%}.logo1[_ngcontent-%COMP%]{position:relative;width:15%}.rightpanel[_ngcontent-%COMP%]{position:absolute;height:-moz-fit-content;height:fit-content;width:25%;height:50%;top:20%;right:7%}.logintext[_ngcontent-%COMP%]{font-family:Nunito Sans;color:#525252;font-size:3.5vh;font-weight:800;margin-top:10%}.loginquote[_ngcontent-%COMP%]{font-family:Nunito Sans;color:#525252;font-weight:400;line-height:5%}.signbutton[_ngcontent-%COMP%]{margin-top:10%}.companylogo1[_ngcontent-%COMP%], .companylogo2[_ngcontent-%COMP%]{position:relative;width:4%;margin-top:2%}.companylogo3[_ngcontent-%COMP%]{position:relative;width:5%;margin-top:2%}.companylogo4[_ngcontent-%COMP%]{position:relative;width:4%;margin-top:2%;padding-right:2%}.bungusbrand[_ngcontent-%COMP%]{position:absolute;right:5%;top:2%;width:5%}.companyLogo[_ngcontent-%COMP%]{width:40%;display:block;margin:25% auto auto}@media only screen and (max-width: 600px){body[_ngcontent-%COMP%]{overflow-x:hidden}.leftpanel[_ngcontent-%COMP%]{display:none}.rightpanel[_ngcontent-%COMP%]{position:relative;top:15%;left:15%;height:60%;width:70%}.signbutton[_ngcontent-%COMP%]{height:10%!important}.bungusbrand[_ngcontent-%COMP%]{width:10%;top:2%;right:10%}.logintext[_ngcontent-%COMP%]{font-size:x-large}.logolabel[_ngcontent-%COMP%]{color:#a0a0a0;font-family:Montserrat;font-size:x-large;font-weight:800;text-align:center;margin:7%}}"]}),e})();function mA(){return(0,Bi.e)((t,e)=>{let n,i=!1;t.subscribe((0,mi.x)(e,r=>{const s=n;n=r,i&&e.next([s,r]),i=!0}))})}P(6365);var rt,mZ=P(3106),gZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qa={},sP=sP||{},Ut=gZ||self;function gA(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function ox(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var oP="closure_uid_"+(1e9*Math.random()>>>0),yZ=0;function vZ(t,e,n){return t.call.apply(t.bind,arguments)}function bZ(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function ys(t,e,n){return(ys=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vZ:bZ).apply(null,arguments)}function _A(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var i=n.slice();return i.push.apply(i,arguments),t.apply(this,i)}}function Mr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(i,r,s){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[r].apply(i,l)}}function Zd(){this.s=this.s,this.o=this.o}Zd.prototype.s=!1,Zd.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function _Z(t){Object.prototype.hasOwnProperty.call(t,oP)&&t[oP]||(t[oP]=++yZ)}(this)},Zd.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function aP(t){const e=t.length;if(0<e){const n=Array(e);for(let i=0;i<e;i++)n[i]=t[i];return n}return[]}function GH(t,e){for(let n=1;n<arguments.length;n++){const i=arguments[n];if(gA(i)){const r=t.length||0,s=i.length||0;t.length=r+s;for(let l=0;l<s;l++)t[r+l]=i[l]}else t.push(i)}}function vs(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}vs.prototype.h=function(){this.defaultPrevented=!0};var xZ=function(){if(!Ut.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ut.addEventListener("test",()=>{},e),Ut.removeEventListener("test",()=>{},e)}catch{}return t}();function ax(t){return/^[\s\xa0]*$/.test(t)}function yA(){var t=Ut.navigator;return t&&(t=t.userAgent)?t:""}function Ol(t){return-1!=yA().indexOf(t)}function lP(t){return lP[" "](t),t}lP[" "]=function(){};var uP,t,CZ=Ol("Opera"),dy=Ol("Trident")||Ol("MSIE"),WH=Ol("Edge"),cP=WH||dy,qH=Ol("Gecko")&&!(-1!=yA().toLowerCase().indexOf("webkit")&&!Ol("Edge"))&&!(Ol("Trident")||Ol("MSIE"))&&!Ol("Edge"),IZ=-1!=yA().toLowerCase().indexOf("webkit")&&!Ol("Edge");function YH(){var t=Ut.document;return t?t.documentMode:void 0}e:{var dP="",hP=(t=yA(),qH?/rv:([^\);]+)(\)|;)/.exec(t):WH?/Edge\/([\d\.]+)/.exec(t):dy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):IZ?/WebKit\/(\S+)/.exec(t):CZ?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(hP&&(dP=hP?hP[1]:""),dy){var fP=YH();if(null!=fP&&fP>parseFloat(dP)){uP=String(fP);break e}}uP=dP}var SZ=Ut.document&&dy&&(YH()||parseInt(uP,10))||void 0;function lx(t,e){if(vs.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,i=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(qH){e:{try{lP(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:DZ[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&lx.$.h.call(this)}}Mr(lx,vs);var DZ={2:"touch",3:"pen",4:"mouse"};lx.prototype.h=function(){lx.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var cx="closure_listenable_"+(1e6*Math.random()|0),AZ=0;function TZ(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.la=r,this.key=++AZ,this.fa=this.ia=!1}function vA(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function mP(t,e,n){for(const i in t)e.call(n,t[i],i,t)}function ZH(t){const e={};for(const n in t)e[n]=t[n];return e}const QH="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function XH(t,e){let n,i;for(let r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(let s=0;s<QH.length;s++)n=QH[s],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function bA(t){this.src=t,this.g={},this.h=0}function gP(t,e){var n=e.type;if(n in t.g){var s,i=t.g[n],r=$H(i,e);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(vA(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function _P(t,e,n,i){for(var r=0;r<t.length;++r){var s=t[r];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==i)return r}return-1}bA.prototype.add=function(t,e,n,i,r){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var l=_P(t,e,i,r);return-1<l?(e=t[l],n||(e.ia=!1)):((e=new TZ(e,this.src,s,!!i,r)).ia=n,t.push(e)),e};var yP="closure_lm_"+(1e6*Math.random()|0),vP={};function JH(t,e,n,i,r){if(i&&i.once)return t$(t,e,n,i,r);if(Array.isArray(e)){for(var s=0;s<e.length;s++)JH(t,e[s],n,i,r);return null}return n=EP(n),t&&t[cx]?t.O(e,n,ox(i)?!!i.capture:!!i,r):e$(t,e,n,!1,i,r)}function e$(t,e,n,i,r,s){if(!e)throw Error("Invalid event type");var l=ox(r)?!!r.capture:!!r,h=wP(t);if(h||(t[yP]=h=new bA(t)),(n=h.add(e,n,i,l,s)).proxy)return n;if(i=function RZ(){const e=kZ;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)xZ||(r=l),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(i$(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}return n}function t$(t,e,n,i,r){if(Array.isArray(e)){for(var s=0;s<e.length;s++)t$(t,e[s],n,i,r);return null}return n=EP(n),t&&t[cx]?t.P(e,n,ox(i)?!!i.capture:!!i,r):e$(t,e,n,!0,i,r)}function n$(t,e,n,i,r){if(Array.isArray(e))for(var s=0;s<e.length;s++)n$(t,e[s],n,i,r);else i=ox(i)?!!i.capture:!!i,n=EP(n),t&&t[cx]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=_P(s=t.g[e],n,i,r))&&(vA(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=wP(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_P(e,n,i,r)),(n=-1<t?e[t]:null)&&bP(n))}function bP(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[cx])gP(e.i,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(i$(n),i):e.addListener&&e.removeListener&&e.removeListener(i),(n=wP(e))?(gP(n,t),0==n.h&&(n.src=null,e[yP]=null)):vA(t)}}}function i$(t){return t in vP?vP[t]:vP[t]="on"+t}function kZ(t,e){if(t.fa)t=!0;else{e=new lx(e,this);var n=t.listener,i=t.la||t.src;t.ia&&bP(t),t=n.call(i,e)}return t}function wP(t){return(t=t[yP])instanceof bA?t:null}var xP="__closure_events_fn_"+(1e9*Math.random()>>>0);function EP(t){return"function"==typeof t?t:(t[xP]||(t[xP]=function(e){return t.handleEvent(e)}),t[xP])}function Rr(){Zd.call(this),this.i=new bA(this),this.S=this,this.J=null}function Qr(t,e){var n,i=t.J;if(i)for(n=[];i;i=i.J)n.push(i);if(t=t.S,i=e.type||e,"string"==typeof e)e=new vs(e,t);else if(e instanceof vs)e.target=e.target||t;else{var r=e;XH(e=new vs(i,t),r)}if(r=!0,n)for(var s=n.length-1;0<=s;s--){var l=e.g=n[s];r=wA(l,i,!0,e)&&r}if(r=wA(l=e.g=t,i,!0,e)&&r,r=wA(l,i,!1,e)&&r,n)for(s=0;s<n.length;s++)r=wA(l=e.g=n[s],i,!1,e)&&r}function wA(t,e,n,i){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.fa&&l.capture==n){var h=l.listener,p=l.la||l.src;l.ia&&gP(t.i,l),r=!1!==h.call(p,i)&&r}}return r&&!i.defaultPrevented}Mr(Rr,Zd),Rr.prototype[cx]=!0,Rr.prototype.removeEventListener=function(t,e,n,i){n$(this,t,e,n,i)},Rr.prototype.N=function(){if(Rr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],i=0;i<n.length;i++)vA(n[i]);delete t.g[e],t.h--}}this.J=null},Rr.prototype.O=function(t,e,n,i){return this.i.add(String(t),e,!1,n,i)},Rr.prototype.P=function(t,e,n,i){return this.i.add(String(t),e,!0,n,i)};var CP=Ut.JSON.stringify;function NZ(){var t=IP;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var r$=new class OZ{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new FZ,t=>t.reset());class FZ{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function LZ(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function BZ(t){Ut.setTimeout(()=>{throw t},0)}let ux,dx=!1,IP=new class PZ{constructor(){this.h=this.g=null}add(e,n){const i=r$.get();i.set(e,n),this.h?this.h.next=i:this.g=i,this.h=i}},s$=()=>{const t=Ut.Promise.resolve(void 0);ux=()=>{t.then(VZ)}};var VZ=()=>{for(var t;t=NZ();){try{t.h.call(t.g)}catch(n){BZ(n)}var e=r$;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}dx=!1};function xA(t,e){Rr.call(this),this.h=t||1,this.g=e||Ut,this.j=ys(this.qb,this),this.l=Date.now()}function SP(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function DP(t,e,n){if("function"==typeof t)n&&(t=ys(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=ys(t.handleEvent,t)}return 2147483647<Number(e)?-1:Ut.setTimeout(t,e||0)}function o$(t){t.g=DP(()=>{t.g=null,t.i&&(t.i=!1,o$(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Mr(xA,Rr),(rt=xA.prototype).ga=!1,rt.T=null,rt.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Qr(this,"tick"),this.ga&&(SP(this),this.start()))}},rt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.N=function(){xA.$.N.call(this),SP(this),delete this.g};class UZ extends Zd{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:o$(this)}N(){super.N(),this.g&&(Ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hx(t){Zd.call(this),this.h=t,this.g={}}Mr(hx,Zd);var a$=[];function l$(t,e,n,i){Array.isArray(n)||(n&&(a$[0]=n.toString()),n=a$);for(var r=0;r<n.length;r++){var s=JH(e,n[r],i||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function c$(t){mP(t.g,function(e,n){this.g.hasOwnProperty(n)&&bP(e)},t),t.g={}}function EA(){this.g=!0}function hy(t,e,n,i){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function $Z(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var i=n[t];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<r.length;l++)r[l]=""}}}return CP(n)}catch{return e}}(t,n)+(i?" "+i:"")})}hx.prototype.N=function(){hx.$.N.call(this),c$(this)},hx.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},EA.prototype.Ea=function(){this.g=!1},EA.prototype.info=function(){};var Np={},u$=null;function CA(){return u$=u$||new Rr}function d$(t){vs.call(this,Np.Ta,t)}function fx(t){const e=CA();Qr(e,new d$(e))}function h$(t,e){vs.call(this,Np.STAT_EVENT,t),this.stat=e}function Os(t){const e=CA();Qr(e,new h$(e,t))}function f$(t,e){vs.call(this,Np.Ua,t),this.size=e}function px(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Ut.setTimeout(function(){t()},e)}Np.Ta="serverreachability",Mr(d$,vs),Np.STAT_EVENT="statevent",Mr(h$,vs),Np.Ua="timingevent",Mr(f$,vs);var IA={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},p$={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function AP(){}function g$(){}AP.prototype.h=null;var RP,mx={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function TP(){vs.call(this,"d")}function MP(){vs.call(this,"c")}function SA(){}function gx(t,e,n,i){this.l=t,this.j=e,this.m=n,this.W=i||1,this.U=new hx(this),this.P=GZ,this.V=new xA(t=cP?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new _$}function _$(){this.i=null,this.g="",this.h=!1}Mr(TP,vs),Mr(MP,vs),Mr(SA,AP),SA.prototype.g=function(){return new XMLHttpRequest},SA.prototype.i=function(){return{}},RP=new SA;var GZ=45e3,kP={},DA={};function OP(t,e,n){t.L=1,t.v=RA(ou(e)),t.s=n,t.S=!0,y$(t,null)}function y$(t,e){t.G=Date.now(),_x(t),t.A=ou(t.v);var n=t.A,i=t.W;Array.isArray(i)||(i=[String(i)]),A$(n.i,"t",i),t.C=0,n=t.l.J,t.h=new _$,t.g=X$(t.l,n?e:null,!t.s),0<t.O&&(t.M=new UZ(ys(t.Pa,t,t.g),t.O)),l$(t.U,t.g,"readystatechange",t.nb),e=t.I?ZH(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),fx(),function jZ(t,e,n,i,r,s){t.info(function(){if(t.g)if(s)for(var l="",h=s.split("&"),p=0;p<h.length;p++){var g=h[p].split("=");if(1<g.length){var b=g[0];g=g[1];var C=b.split("_");l=2<=C.length&&"type"==C[1]?l+(b+"=")+g+"&":l+(b+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+n+"\n"+l})}(t.j,t.u,t.A,t.m,t.W,t.s)}function v$(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function b$(t,e,n){let r,i=!0;for(;!t.J&&t.C<n.length;){if(r=WZ(t,n),r==DA){4==e&&(t.o=4,Os(14),i=!1),hy(t.j,t.m,null,"[Incomplete Response]");break}if(r==kP){t.o=4,Os(15),hy(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}hy(t.j,t.m,r,null),NP(t,r)}v$(t)&&r!=DA&&r!=kP&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Os(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),jP(e),e.M=!0,Os(11))):(hy(t.j,t.m,n,"[Invalid Chunked Response]"),Pp(t),yx(t))}function WZ(t,e){var n=t.C,i=e.indexOf("\n",n);return-1==i?DA:(n=Number(e.substring(n,i)),isNaN(n)?kP:(i+=1)+n>e.length?DA:(e=e.slice(i,i+n),t.C=i+n,e))}function _x(t){t.Y=Date.now()+t.P,w$(t,t.P)}function w$(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=px(ys(t.lb,t),e)}function AA(t){t.B&&(Ut.clearTimeout(t.B),t.B=null)}function yx(t){0==t.l.H||t.J||Y$(t.l,t)}function Pp(t){AA(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,SP(t.V),c$(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function NP(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||PP(n.i,t)))if(!t.K&&PP(n.i,t)&&3==n.H){try{var i=n.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;LA(n),PA(n)}UP(n),Os(18)}}else n.Fa=r[1],0<n.Fa-n.V&&37500>r[2]&&n.G&&0==n.A&&!n.v&&(n.v=px(ys(n.ib,n),6e3));if(1>=R$(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Lp(n,11)}else if((t.K||n.g==t)&&LA(n),!ax(e))for(r=n.Ja.g.parse(e),e=0;e<r.length;e++){let g=r[e];if(n.V=g[0],g=g[1],2==n.H)if("c"==g[0]){n.K=g[1],n.pa=g[2];const b=g[3];null!=b&&(n.ra=b,n.l.info("VER="+n.ra));const C=g[4];null!=C&&(n.Ga=C,n.l.info("SVER="+n.Ga));const D=g[5];null!=D&&"number"==typeof D&&0<D&&(n.L=i=1.5*D,n.l.info("backChannelRequestTimeoutMs_="+i)),i=n;const R=t.g;if(R){const B=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var s=i.i;s.g||-1==B.indexOf("spdy")&&-1==B.indexOf("quic")&&-1==B.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(FP(s,s.h),s.h=null))}if(i.F){const G=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;G&&(i.Da=G,Qn(i.I,i.F,G))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var l=t;if((i=n).wa=Q$(i,i.J?i.pa:null,i.Y),l.K){k$(i.i,l);var h=l,p=i.L;p&&h.setTimeout(p),h.B&&(AA(h),_x(h)),i.g=l}else W$(i);0<n.j.length&&FA(n)}else"stop"!=g[0]&&"close"!=g[0]||Lp(n,7);else 3==n.H&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?Lp(n,7):VP(n):"noop"!=g[0]&&n.h&&n.h.Aa(g),n.A=0)}fx()}catch{}}function x$(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(gA(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function YZ(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(gA(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const i in t)e[n++]=i;return e}}}(t),i=function qZ(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(gA(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}(t),r=i.length,s=0;s<r;s++)e.call(void 0,i[s],n&&n[s],t)}(rt=gx.prototype).setTimeout=function(t){this.P=t},rt.nb=function(t){t=t.target;const e=this.M;e&&3==Nl(t)?e.l():this.Pa(t)},rt.Pa=function(t){try{if(t==this.g)e:{const b=Nl(this.g);var e=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||cP||this.g&&(this.h.h||this.g.ja()||U$(this.g)))){this.J||4!=b||7==e||fx(),AA(this);var n=this.g.da();this.ca=n;t:if(v$(this)){var i=U$(this.g);t="";var r=i.length,s=4==Nl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Pp(this),yx(this);var l="";break t}this.h.i=new Ut.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(i[e],{stream:s&&e==r-1});i.splice(0,r),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==n,function zZ(t,e,n,i,r,s,l){t.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+n+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.W,b,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ax(h)){var g=h;break t}}g=null}if(!(n=g)){this.i=!1,this.o=3,Os(12),Pp(this),yx(this);break e}hy(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,NP(this,n)}this.S?(b$(this,b,l),cP&&this.i&&3==b&&(l$(this.U,this.V,"tick",this.mb),this.V.start())):(hy(this.j,this.m,l,null),NP(this,l)),4==b&&Pp(this),this.i&&!this.J&&(4==b?Y$(this.l,this):(this.i=!1,_x(this)))}else(function hQ(t){const e={};t=(t.g&&2<=Nl(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<t.length;i++){if(ax(t[i]))continue;var n=LZ(t[i]);const r=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[r]||[];e[r]=s,s.push(n)}!function MZ(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(i){return i.join(", ")})})(this.g),400==n&&0<l.indexOf("Unknown SID")?(this.o=3,Os(12)):(this.o=0,Os(13)),Pp(this),yx(this)}}}catch{}},rt.mb=function(){if(this.g){var t=Nl(this.g),e=this.g.ja();this.C<e.length&&(AA(this),b$(this,t,e),this.i&&4!=t&&_x(this))}},rt.cancel=function(){this.J=!0,Pp(this)},rt.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function HZ(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(fx(),Os(17)),Pp(this),this.o=2,yx(this)):w$(this,this.Y-t)};var E$=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fp(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Fp){this.h=t.h,TA(this,t.j),this.s=t.s,this.g=t.g,MA(this,t.m),this.l=t.l;var e=t.i,n=new wx;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),C$(this,n),this.o=t.o}else t&&(e=String(t).match(E$))?(this.h=!1,TA(this,e[1]||"",!0),this.s=vx(e[2]||""),this.g=vx(e[3]||"",!0),MA(this,e[4]),this.l=vx(e[5]||"",!0),C$(this,e[6]||"",!0),this.o=vx(e[7]||"")):(this.h=!1,this.i=new wx(null,this.h))}function ou(t){return new Fp(t)}function TA(t,e,n){t.j=n?vx(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function MA(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function C$(t,e,n){e instanceof wx?(t.i=e,function tQ(t,e){e&&!t.j&&(Qd(t),t.i=null,t.g.forEach(function(n,i){var r=i.toLowerCase();i!=r&&(S$(this,i),A$(this,r,n))},t)),t.j=e}(t.i,t.h)):(n||(e=bx(e,JZ)),t.i=new wx(e,t.h))}function Qn(t,e,n){t.i.set(e,n)}function RA(t){return Qn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function vx(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function bx(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ZZ),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ZZ(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Fp.prototype.toString=function(){var t=[],e=this.j;e&&t.push(bx(e,I$,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(bx(e,I$,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(bx(n,"/"==n.charAt(0)?XZ:QZ,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",bx(n,eQ)),t.join("")};var I$=/[#\/\?@]/g,QZ=/[#\?:]/g,XZ=/[#\?]/g,JZ=/[#\?@]/g,eQ=/#/g;function wx(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Qd(t){t.g||(t.g=new Map,t.h=0,t.i&&function KZ(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var s=t[n].substring(0,i);r=t[n].substring(i+1)}else s=t[n];e(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function S$(t,e){Qd(t),e=fy(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function D$(t,e){return Qd(t),e=fy(t,e),t.g.has(e)}function A$(t,e,n){S$(t,e),0<n.length&&(t.i=null,t.g.set(fy(t,e),aP(n)),t.h+=n.length)}function fy(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function T$(t){this.l=t||iQ,t=Ut.PerformanceNavigationTiming?0<(t=Ut.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Ut.g&&Ut.g.Ka&&Ut.g.Ka()&&Ut.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rt=wx.prototype).add=function(t,e){Qd(this),this.i=null,t=fy(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},rt.forEach=function(t,e){Qd(this),this.g.forEach(function(n,i){n.forEach(function(r){t.call(e,r,i,this)},this)},this)},rt.ta=function(){Qd(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let i=0;i<e.length;i++){const r=t[i];for(let s=0;s<r.length;s++)n.push(e[i])}return n},rt.Z=function(t){Qd(this);let e=[];if("string"==typeof t)D$(this,t)&&(e=e.concat(this.g.get(fy(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},rt.set=function(t,e){return Qd(this),this.i=null,D$(this,t=fy(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},rt.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var i=e[n];const s=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=s;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),t.push(r)}}return this.i=t.join("&")};var iQ=10;function M$(t){return!!t.h||!!t.g&&t.g.size>=t.j}function R$(t){return t.h?1:t.g?t.g.size:0}function PP(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function FP(t,e){t.g?t.g.add(e):t.h=e}function k$(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function O$(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return aP(t.i)}T$.prototype.cancel=function(){if(this.i=O$(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var rQ=class{stringify(t){return Ut.JSON.stringify(t,void 0)}parse(t){return Ut.JSON.parse(t,void 0)}};function sQ(){this.g=new rQ}function oQ(t,e,n){const i=n||"";try{x$(t,function(r,s){let l=r;ox(r)&&(l=CP(r)),e.push(i+s+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function kA(t,e,n,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function xx(t){this.l=t.fc||null,this.j=t.ob||!1}function OA(t,e){Rr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=LP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Mr(xx,AP),xx.prototype.g=function(){return new OA(this.l,this.j)},xx.prototype.i=function(t){return function(){return t}}({}),Mr(OA,Rr);var LP=0;function N$(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Ex(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Cx(t)}function Cx(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(rt=OA.prototype).open=function(t,e){if(this.readyState!=LP)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Cx(this)},rt.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ut).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ex(this)),this.readyState=LP},rt.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Cx(this)),this.g&&(this.readyState=3,Cx(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ut.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;N$(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},rt.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ex(this):Cx(this),3==this.readyState&&N$(this)}},rt.Za=function(t){this.g&&(this.response=this.responseText=t,Ex(this))},rt.Ya=function(t){this.g&&(this.response=t,Ex(this))},rt.ka=function(){this.g&&Ex(this)},rt.setRequestHeader=function(t,e){this.v.append(t,e)},rt.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(OA.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var lQ=Ut.JSON.parse;function Ai(t){Rr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=P$,this.L=this.M=!1}Mr(Ai,Rr);var P$="",cQ=/^https?$/i,uQ=["POST","PUT"];function F$(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,L$(t),NA(t)}function L$(t){t.F||(t.F=!0,Qr(t,"complete"),Qr(t,"error"))}function B$(t){if(t.h&&typeof sP<"u"&&(!t.C[1]||4!=Nl(t)||2!=t.da()))if(t.v&&4==Nl(t))DP(t.La,0,t);else if(Qr(t,"readystatechange"),4==Nl(t)){t.h=!1;try{const l=t.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var i;if(i=0===l){var r=String(t.I).match(E$)[1]||null;!r&&Ut.self&&Ut.self.location&&(r=Ut.self.location.protocol.slice(0,-1)),i=!cQ.test(r?r.toLowerCase():"")}n=i}if(n)Qr(t,"complete"),Qr(t,"success");else{t.m=6;try{var s=2<Nl(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",L$(t)}}finally{NA(t)}}}function NA(t,e){if(t.g){V$(t);const n=t.g,i=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Qr(t,"ready");try{n.onreadystatechange=i}catch{}}}function V$(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ut.clearTimeout(t.A),t.A=null)}function Nl(t){return t.g?t.g.readyState:0}function U$(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case P$:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function j$(t){let e="";return mP(t,function(n,i){e+=i,e+=":",e+=n,e+="\r\n"}),e}function BP(t,e,n){e:{for(i in n){var i=!1;break e}i=!0}i||(n=j$(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Qn(t,e,n))}function Ix(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function z$(t){this.Ga=0,this.j=[],this.l=new EA,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ix("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ix("baseRetryDelayMs",5e3,t),this.hb=Ix("retryDelaySeedMs",1e4,t),this.eb=Ix("forwardChannelMaxRetries",2,t),this.xa=Ix("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new T$(t&&t.concurrentRequestLimit),this.Ja=new sQ,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function VP(t){if(H$(t),3==t.H){var e=t.W++,n=ou(t.I);if(Qn(n,"SID",t.K),Qn(n,"RID",e),Qn(n,"TYPE","terminate"),Sx(t,n),(e=new gx(t,t.l,e)).L=2,e.v=RA(ou(n)),n=!1,Ut.navigator&&Ut.navigator.sendBeacon)try{n=Ut.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Ut.Image&&((new Image).src=e.v,n=!0),n||(e.g=X$(e.l,null),e.g.ha(e.v)),e.G=Date.now(),_x(e)}Z$(t)}function PA(t){t.g&&(jP(t),t.g.cancel(),t.g=null)}function H$(t){PA(t),t.u&&(Ut.clearTimeout(t.u),t.u=null),LA(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Ut.clearTimeout(t.m),t.m=null)}function FA(t){if(!M$(t.i)&&!t.m){t.m=!0;var e=t.Na;ux||s$(),dx||(ux(),dx=!0),IP.add(e,t),t.C=0}}function $$(t,e){var n;n=e?e.m:t.W++;const i=ou(t.I);Qn(i,"SID",t.K),Qn(i,"RID",n),Qn(i,"AID",t.V),Sx(t,i),t.o&&t.s&&BP(i,t.o,t.s),n=new gx(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=G$(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),FP(t.i,n),OP(n,i,e)}function Sx(t,e){t.na&&mP(t.na,function(n,i){Qn(e,i,n)}),t.h&&x$({},function(n,i){Qn(e,i,n)})}function G$(t,e,n){n=Math.min(t.j.length,n);var i=t.h?ys(t.h.Va,t.h,t):null;e:{var r=t.j;let s=-1;for(;;){const l=["count="+n];-1==s?0<n?(s=r[0].g,l.push("ofs="+s)):s=0:l.push("ofs="+s);let h=!0;for(let p=0;p<n;p++){let g=r[p].g;const b=r[p].map;if(g-=s,0>g)s=Math.max(0,r[p].g-100),h=!1;else try{oQ(b,l,"req"+g+"_")}catch{i&&i(b)}}if(h){i=l.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,i}function W$(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ux||s$(),dx||(ux(),dx=!0),IP.add(e,t),t.A=0}}function UP(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=px(ys(t.Ma,t),K$(t,t.A)),t.A++,0))}function jP(t){null!=t.B&&(Ut.clearTimeout(t.B),t.B=null)}function q$(t){t.g=new gx(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=ou(t.wa);Qn(e,"RID","rpc"),Qn(e,"SID",t.K),Qn(e,"AID",t.V),Qn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Qn(e,"TO",t.qa),Qn(e,"TYPE","xmlhttp"),Sx(t,e),t.o&&t.s&&BP(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=RA(ou(e)),n.s=null,n.S=!0,y$(n,t)}function LA(t){null!=t.v&&(Ut.clearTimeout(t.v),t.v=null)}function Y$(t,e){var n=null;if(t.g==e){LA(t),jP(t),t.g=null;var i=2}else{if(!PP(t.i,e))return;n=e.F,k$(t.i,e),i=1}if(0!=t.H)if(e.i)if(1==i){n=e.s?e.s.length:0,e=Date.now()-e.G;var r=t.C;Qr(i=CA(),new f$(i,n)),FA(t)}else W$(t);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function fQ(t,e){return!(R$(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=px(ys(t.Na,t,e),K$(t,t.C)),t.C++,0)))}(t,e)||2==i&&UP(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),r){case 1:Lp(t,5);break;case 4:Lp(t,10);break;case 3:Lp(t,6);break;default:Lp(t,2)}}function K$(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Lp(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var i=ys(t.pb,t);n||(n=new Fp("//www.google.com/images/cleardot.gif"),Ut.location&&"http"==Ut.location.protocol||TA(n,"https"),RA(n)),function aQ(t,e){const n=new EA;if(Ut.Image){const i=new Image;i.onload=_A(kA,n,i,"TestLoadImage: loaded",!0,e),i.onerror=_A(kA,n,i,"TestLoadImage: error",!1,e),i.onabort=_A(kA,n,i,"TestLoadImage: abort",!1,e),i.ontimeout=_A(kA,n,i,"TestLoadImage: timeout",!1,e),Ut.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=t}else e(!1)}(n.toString(),i)}else Os(2);t.H=0,t.h&&t.h.za(e),Z$(t),H$(t)}function Z$(t){if(t.H=0,t.ma=[],t.h){const e=O$(t.i);(0!=e.length||0!=t.j.length)&&(GH(t.ma,e),GH(t.ma,t.j),t.i.i.length=0,aP(t.j),t.j.length=0),t.h.ya()}}function Q$(t,e,n){var i=n instanceof Fp?ou(n):new Fp(n);if(""!=i.g)e&&(i.g=e+"."+i.g),MA(i,i.m);else{var r=Ut.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var s=new Fp(null);i&&TA(s,i),e&&(s.g=e),r&&MA(s,r),n&&(s.l=n),i=s}return e=t.Da,(n=t.F)&&e&&Qn(i,n,e),Qn(i,"VER",t.ra),Sx(t,i),i}function X$(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ai(n&&t.Ha&&!t.va?new xx({ob:!0}):t.va)).Oa(t.J),e}function J$(){}function BA(){if(dy&&!(10<=Number(SZ)))throw Error("Environmental error: no available transport.")}function Ro(t,e){Rr.call(this),this.g=new z$(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!ax(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ax(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new py(this)}function eG(t){TP.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function tG(){MP.call(this),this.status=1}function py(t){this.g=t}function Ya(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function zP(t,e,n){n||(n=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(r=0;16>r;++r)i[r]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],l=(e=t.g[0])+(s^(n=t.g[1])&((r=t.g[2])^s))+i[0]+3614090360&4294967295;l=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=(n=(r=(s=(e=n+(l<<7&4294967295|l>>>25))+((l=s+(r^e&(n^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(n^s&(e^n))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^r&(s^e))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^n&(r^s))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(n^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(n^s&(e^n))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^r&(s^e))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^n&(r^s))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(n^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(n^s&(e^n))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^r&(s^e))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(s^n&(r^s))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=s+(r^e&(n^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(n^s&(e^n))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=n+(e^r&(s^e))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(r^s&(n^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=s+(n^r&(e^n))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^n&(s^e))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=n+(s^e&(r^s))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(n^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=s+(n^r&(e^n))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^n&(s^e))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=n+(s^e&(r^s))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(n^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=s+(n^r&(e^n))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^n&(s^e))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=n+(s^e&(r^s))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^s&(n^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=s+(n^r&(e^n))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^n&(s^e))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=n+(s^e&(r^s))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(n^r^s)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^n^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^n)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=n+(r^s^e)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(n^r^s)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^n^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^n)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=n+(r^s^e)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(n^r^s)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^n^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^n)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=n+(r^s^e)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(n^r^s)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=s+(e^n^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(s^e^n)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=n+(r^s^e)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(r^(n|~s))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=s+(n^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~n))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=n+(s^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(n|~s))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=s+(n^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~n))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=n+(s^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(n|~s))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=s+(n^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(s|~n))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=n+(s^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((s=(e=n+((l=e+(r^(n|~s))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=s+(n^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=s+((l=r+(e^(s|~n))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+i[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,t.g[2]=t.g[2]+r&4294967295,t.g[3]=t.g[3]+s&4294967295}function An(t,e){this.h=e;for(var n=[],i=!0,r=t.length-1;0<=r;r--){var s=0|t[r];i&&s==e||(n[r]=s,i=!1)}this.g=n}(rt=Ai.prototype).Oa=function(t){this.M=t},rt.ha=function(t,e,n,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():RP.g(),this.C=function m$(t){return t.h||(t.h=t.i())}(this.u?this.u:RP),this.g.onreadystatechange=ys(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void F$(this,s)}if(t=n||"",n=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)n.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())n.set(s,i.get(s))}i=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),r=Ut.FormData&&t instanceof Ut.FormData,!(0<=$H(uQ,e))||i||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,l]of n)this.g.setRequestHeader(s,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{V$(this),0<this.B&&((this.L=function dQ(t){return dy&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ys(this.ua,this)):this.A=DP(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){F$(this,s)}},rt.ua=function(){typeof sP<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Qr(this,"timeout"),this.abort(8))},rt.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Qr(this,"complete"),Qr(this,"abort"),NA(this))},rt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),NA(this,!0)),Ai.$.N.call(this)},rt.La=function(){this.s||(this.G||this.v||this.l?B$(this):this.kb())},rt.kb=function(){B$(this)},rt.isActive=function(){return!!this.g},rt.da=function(){try{return 2<Nl(this)?this.g.status:-1}catch{return-1}},rt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},rt.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),lQ(e)}},rt.Ia=function(){return this.m},rt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(rt=z$.prototype).ra=8,rt.H=1,rt.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const r=new gx(this,this.l,t);let s=this.s;if(this.U&&(s?(s=ZH(s),XH(s,this.U)):s=this.U),null!==this.o||this.O||(r.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var i=this.j[n];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=G$(this,r,e),Qn(n=ou(this.I),"RID",t),Qn(n,"CVER",22),this.F&&Qn(n,"X-HTTP-Session-Id",this.F),Sx(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(j$(s)))+"&"+e:this.o&&BP(n,this.o,s)),FP(this.i,r),this.bb&&Qn(n,"TYPE","init"),this.P?(Qn(n,"$req",e),Qn(n,"SID","null"),r.aa=!0,OP(r,n,null)):OP(r,n,e),this.H=2}}else 3==this.H&&(t?$$(this,t):0==this.j.length||M$(this.i)||$$(this))},rt.Ma=function(){if(this.u=null,q$(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=px(ys(this.jb,this),t)}},rt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Os(10),PA(this),q$(this))},rt.ib=function(){null!=this.v&&(this.v=null,PA(this),UP(this),Os(19))},rt.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Os(2)):(this.l.info("Failed to ping google.com"),Os(1))},rt.isActive=function(){return!!this.h&&this.h.isActive(this)},(rt=J$.prototype).Ba=function(){},rt.Aa=function(){},rt.za=function(){},rt.ya=function(){},rt.isActive=function(){return!0},rt.Va=function(){},BA.prototype.g=function(t,e){return new Ro(t,e)},Mr(Ro,Rr),Ro.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Os(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=Q$(t,null,t.Y),FA(t)},Ro.prototype.close=function(){VP(this.g)},Ro.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=CP(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&FA(e)},Ro.prototype.N=function(){this.g.h=null,delete this.j,VP(this.g),delete this.g,Ro.$.N.call(this)},Mr(eG,TP),Mr(tG,MP),Mr(py,J$),py.prototype.Ba=function(){Qr(this.g,"a")},py.prototype.Aa=function(t){Qr(this.g,new eG(t))},py.prototype.za=function(t){Qr(this.g,new tG)},py.prototype.ya=function(){Qr(this.g,"b")},Mr(Ya,function pQ(){this.blockSize=-1}),Ya.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ya.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,i=this.m,r=this.h,s=0;s<e;){if(0==r)for(;s<=n;)zP(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(i[r++]=t.charCodeAt(s++),r==this.blockSize){zP(this,i),r=0;break}}else for(;s<e;)if(i[r++]=t[s++],r==this.blockSize){zP(this,i),r=0;break}}this.h=r,this.i+=e},Ya.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var i=0;32>i;i+=8)t[n++]=this.g[e]>>>i&255;return t};var mQ={};function HP(t){return-128<=t&&128>t?function EZ(t,e){var n=mQ;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new An([0|e],0>e?-1:0)}):new An([0|t],0>t?-1:0)}function Pl(t){if(isNaN(t)||!isFinite(t))return my;if(0>t)return Xr(Pl(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=$P;return new An(e,0)}var $P=4294967296,my=HP(0),GP=HP(1),iG=HP(16777216);function au(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function fa(t){return-1==t.h}function Xr(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new An(n,~t.h).add(GP)}function VA(t,e){return t.add(Xr(e))}function UA(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Dx(t,e){this.g=t,this.h=e}function jA(t,e){if(au(e))throw Error("division by zero");if(au(t))return new Dx(my,my);if(fa(t))return e=jA(Xr(t),e),new Dx(Xr(e.g),Xr(e.h));if(fa(e))return e=jA(t,Xr(e)),new Dx(Xr(e.g),e.h);if(30<t.g.length){if(fa(t)||fa(e))throw Error("slowDivide_ only works with positive integers.");for(var n=GP,i=e;0>=i.X(t);)n=rG(n),i=rG(i);var r=gy(n,1),s=gy(i,1);for(i=gy(i,2),n=gy(n,2);!au(i);){var l=s.add(i);0>=l.X(t)&&(r=r.add(n),s=l),i=gy(i,1),n=gy(n,1)}return e=VA(t,r.R(e)),new Dx(r,e)}for(r=my;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,i-48),l=(s=Pl(n)).R(e);fa(l)||0<l.X(t);)l=(s=Pl(n-=i)).R(e);au(s)&&(s=GP),r=r.add(s),t=VA(t,l)}return new Dx(r,t)}function rG(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.D(i)<<1|t.D(i-1)>>>31;return new An(n,t.h)}function gy(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,r=[],s=0;s<i;s++)r[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new An(r,t.h)}(rt=An.prototype).ea=function(){if(fa(this))return-Xr(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var i=this.D(n);t+=(0<=i?i:$P+i)*e,e*=$P}return t},rt.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(au(this))return"0";if(fa(this))return"-"+Xr(this).toString(t);for(var e=Pl(Math.pow(t,6)),n=this,i="";;){var r=jA(n,e).g,s=((0<(n=VA(n,r.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(au(n=r))return s+i;for(;6>s.length;)s="0"+s;i=s+i}},rt.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},rt.X=function(t){return fa(t=VA(this,t))?-1:au(t)?0:1},rt.abs=function(){return fa(this)?Xr(this):this},rt.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,r=0;r<=e;r++){var s=i+(65535&this.D(r))+(65535&t.D(r)),l=(s>>>16)+(this.D(r)>>>16)+(t.D(r)>>>16);i=l>>>16,n[r]=(l&=65535)<<16|(s&=65535)}return new An(n,-2147483648&n[n.length-1]?-1:0)},rt.R=function(t){if(au(this)||au(t))return my;if(fa(this))return fa(t)?Xr(this).R(Xr(t)):Xr(Xr(this).R(t));if(fa(t))return Xr(this.R(Xr(t)));if(0>this.X(iG)&&0>t.X(iG))return Pl(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<t.g.length;r++){var s=this.D(i)>>>16,l=65535&this.D(i),h=t.D(r)>>>16,p=65535&t.D(r);n[2*i+2*r]+=l*p,UA(n,2*i+2*r),n[2*i+2*r+1]+=s*p,UA(n,2*i+2*r+1),n[2*i+2*r+1]+=l*h,UA(n,2*i+2*r+1),n[2*i+2*r+2]+=s*h,UA(n,2*i+2*r+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new An(n,0)},rt.gb=function(t){return jA(this,t).h},rt.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)&t.D(i);return new An(n,this.h&t.h)},rt.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)|t.D(i);return new An(n,this.h|t.h)},rt.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.D(i)^t.D(i);return new An(n,this.h^t.h)},BA.prototype.createWebChannel=BA.prototype.g,Ro.prototype.send=Ro.prototype.u,Ro.prototype.open=Ro.prototype.m,Ro.prototype.close=Ro.prototype.close,IA.NO_ERROR=0,IA.TIMEOUT=8,IA.HTTP_ERROR=6,p$.COMPLETE="complete",g$.EventType=mx,mx.OPEN="a",mx.CLOSE="b",mx.ERROR="c",mx.MESSAGE="d",Rr.prototype.listen=Rr.prototype.O,Ai.prototype.listenOnce=Ai.prototype.P,Ai.prototype.getLastError=Ai.prototype.Sa,Ai.prototype.getLastErrorCode=Ai.prototype.Ia,Ai.prototype.getStatus=Ai.prototype.da,Ai.prototype.getResponseJson=Ai.prototype.Wa,Ai.prototype.getResponseText=Ai.prototype.ja,Ai.prototype.send=Ai.prototype.ha,Ai.prototype.setWithCredentials=Ai.prototype.Oa,Ya.prototype.digest=Ya.prototype.l,Ya.prototype.reset=Ya.prototype.reset,Ya.prototype.update=Ya.prototype.j,An.prototype.add=An.prototype.add,An.prototype.multiply=An.prototype.R,An.prototype.modulo=An.prototype.gb,An.prototype.compare=An.prototype.X,An.prototype.toNumber=An.prototype.ea,An.prototype.toString=An.prototype.toString,An.prototype.getBits=An.prototype.D,An.fromNumber=Pl,An.fromString=function nG(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Xr(nG(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Pl(Math.pow(e,8)),i=my,r=0;r<t.length;r+=8){var s=Math.min(8,t.length-r),l=parseInt(t.substring(r,r+s),e);8>s?(s=Pl(Math.pow(e,s)),i=i.R(s).add(Pl(l))):i=(i=i.R(n)).add(Pl(l))}return i};var gQ=qa.createWebChannelTransport=function(){return new BA},_Q=qa.getStatEventTarget=function(){return CA()},WP=qa.ErrorCode=IA,yQ=qa.EventType=p$,vQ=qa.Event=Np,sG=qa.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},bQ=qa.FetchXmlHttpFactory=xx,zA=qa.WebChannel=g$,wQ=qa.XhrIo=Ai,xQ=qa.Md5=Ya,_y=qa.Integer=An;const oG="@firebase/firestore";class kr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");let yy="9.23.0";const Xd=new pr.Yd("@firebase/firestore");function qP(){return Xd.logLevel}function ze(t,...e){if(Xd.logLevel<=pr.in.DEBUG){const n=e.map(YP);Xd.debug(`Firestore (${yy}): ${t}`,...n)}}function Vi(t,...e){if(Xd.logLevel<=pr.in.ERROR){const n=e.map(YP);Xd.error(`Firestore (${yy}): ${t}`,...n)}}function pa(t,...e){if(Xd.logLevel<=pr.in.WARN){const n=e.map(YP);Xd.warn(`Firestore (${yy}): ${t}`,...n)}}function YP(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function lt(t="Unexpected state"){const e=`FIRESTORE (${yy}) INTERNAL ASSERTION FAILED: `+t;throw Vi(e),new Error(e)}function yt(t,e){t||lt()}function nt(t,e){return t}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Oe extends $.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class yr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class aG{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kr.UNAUTHENTICATED))}shutdown(){}}class SQ{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class DQ{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var i=this;let r=this.i;const s=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let l=new yr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new yr,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const g=l;e.enqueueRetryable((0,Q.Z)(function*(){yield g.promise,yield s(i.currentUser)}))},p=g=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(g=>p(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new yr)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yt("string"==typeof i.accessToken),new aG(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(null===e||"string"==typeof e),new kr(e)}}class AQ{constructor(e,n,i){this.h=e,this.l=n,this.m=i,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class TQ{constructor(e,n,i){this.h=e,this.l=n,this.m=i}getToken(){return Promise.resolve(new AQ(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lG{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MQ{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const i=s=>{null!=s.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.T;return this.T=s.token,ze("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?r(s):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt("string"==typeof n.token),this.T=n.token,new lG(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function RQ(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}class cG{static A(){const n=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=RQ(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[s]%62))}return i}}function Bt(t,e){return t<e?-1:t>e?1:0}function vy(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}function uG(t){return t+"\0"}class ri{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oe(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Oe(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ri.fromMillis(Date.now())}static fromDate(e){return ri.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new ri(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new vt(e)}static min(){return new vt(new ri(0,0))}static max(){return new vt(new ri(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ax{constructor(e,n,i){void 0===n?n=0:n>e.length&&lt(),void 0===i?i=e.length-n:i>e.length-n&&lt(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return 0===Ax.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ax?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),l=n.get(r);if(s<l)return-1;if(s>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class un extends Ax{construct(e,n,i){return new un(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new un(n)}static emptyPath(){return new un([])}}const kQ=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ti extends Ax{construct(e,n,i){return new Ti(e,n,i)}static isValidIdentifier(e){return kQ.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ti.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ti(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let l=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Oe(me.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Oe(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,r+=2}else"`"===h?(l=!l,r++):"."!==h||l?(i+=h,r++):(s(),r++)}if(s(),l)throw new Oe(me.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ti(n)}static emptyPath(){return new Ti([])}}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(un.fromString(e))}static fromName(e){return new Qe(un.fromString(e).popFirst(5))}static empty(){return new Qe(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return un.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new un(e.slice()))}}class HA{constructor(e,n,i,r){this.indexId=e,this.collectionGroup=n,this.fields=i,this.indexState=r}}function KP(t){return t.fields.find(e=>2===e.kind)}function Bp(t){return t.fields.filter(e=>2!==e.kind)}HA.UNKNOWN_ID=-1;class $A{constructor(e,n){this.fieldPath=e,this.kind=n}}class Tx{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Tx(0,ko.min())}}function dG(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=vt.fromTimestamp(1e9===i?new ri(n+1,0):new ri(n,i));return new ko(r,Qe.empty(),e)}function hG(t){return new ko(t.readTime,t.key,-1)}class ko{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new ko(vt.min(),Qe.empty(),-1)}static max(){return new ko(vt.max(),Qe.empty(),-1)}}function ZP(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=Qe.comparator(t.documentKey,e.documentKey),0!==n?n:Bt(t.largestBatchId,e.largestBatchId))}const fG="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class pG{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Jd(t){return QP.apply(this,arguments)}function QP(){return QP=(0,Q.Z)(function*(t){if(t.code!==me.FAILED_PRECONDITION||t.message!==fG)throw t;ze("LocalStore","Unexpectedly lost primary lease")}),QP.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&lt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ue.reject(n)}static resolve(e){return new ue((n,i)=>{n(e)})}static reject(e){return new ue((n,i)=>{i(e)})}static waitFor(e){return new ue((n,i)=>{let r=0,s=0,l=!1;e.forEach(h=>{++r,h.next(()=>{++s,l&&s===r&&n()},p=>i(p))}),l=!0,s===r&&n()})}static or(e){let n=ue.resolve(!1);for(const i of e)n=n.next(r=>r?ue.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new ue((i,r)=>{const s=e.length,l=new Array(s);let h=0;for(let p=0;p<s;p++){const g=p;n(e[g]).next(b=>{l[g]=b,++h,h===s&&i(l)},b=>r(b))}})}static doWhile(e,n){return new ue((i,r)=>{const s=()=>{!0===e()?n().next(()=>{s()},r):i()};s()})}}class GA{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.v=new yr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{n.error?this.v.reject(new Mx(e,n.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=XP(i.target.error);this.v.reject(new Mx(e,r))}}static open(e,n,i,r){try{return new GA(n,e.transaction(r,i))}catch(s){throw new Mx(n,s)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new FQ(n)}}class Ka{constructor(e,n,i){this.name=e,this.version=n,this.V=i,12.2===Ka.S((0,$.z$)())&&Vi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ze("SimpleDb","Removing database:",e),Vp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,$.hl)())return!1;if(Ka.C())return!0;const e=(0,$.z$)(),n=Ka.S(e),i=0<n&&n<10,r=Ka.N(e),s=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||s)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const n=e.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var n=this;return(0,Q.Z)(function*(){return n.db||(ze("SimpleDb","Opening database:",n.name),n.db=yield new Promise((i,r)=>{const s=indexedDB.open(n.name,n.version);s.onsuccess=l=>{i(l.target.result)},s.onblocked=()=>{r(new Mx(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=l=>{const h=l.target.error;r("VersionError"===h.name?new Oe(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Oe(me.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Mx(e,h))},s.onupgradeneeded=l=>{ze("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',l.oldVersion),n.V.O(l.target.result,s.transaction,l.oldVersion,n.version).next(()=>{ze("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.F&&(n.db.onversionchange=i=>n.F(i)),n.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,i,r){var s=this;return(0,Q.Z)(function*(){const l="readonly"===n;let h=0;for(;;){++h;try{s.db=yield s.$(e);const p=GA.open(s.db,e,l?"readonly":"readwrite",i),g=r(p).next(b=>(p.P(),b)).catch(b=>(p.abort(b),ue.reject(b))).toPromise();return g.catch(()=>{}),yield p.R,g}catch(p){const g=p,b="FirebaseError"!==g.name&&h<3;if(ze("SimpleDb","Transaction failed with error:",g.message,"Retrying:",b),s.close(),!b)return Promise.reject(g)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class PQ{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Vp(this.L.delete())}}class Mx extends Oe{constructor(e,n){super(me.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function eh(t){return"IndexedDbTransactionError"===t.name}class FQ{constructor(e){this.store=e}put(e,n){let i;return void 0!==n?(ze("SimpleDb","PUT",this.store.name,e,n),i=this.store.put(n,e)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Vp(i)}add(e){return ze("SimpleDb","ADD",this.store.name,e,e),Vp(this.store.add(e))}get(e){return Vp(this.store.get(e)).next(n=>(void 0===n&&(n=null),ze("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return ze("SimpleDb","DELETE",this.store.name,e),Vp(this.store.delete(e))}count(){return ze("SimpleDb","COUNT",this.store.name),Vp(this.store.count())}j(e,n){const i=this.options(e,n);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.W(r,(l,h)=>{s.push(h)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ue((s,l)=>{r.onerror=h=>{l(h.target.error)},r.onsuccess=h=>{s(h.target.result)}})}}H(e,n){const i=this.store.getAll(e,null===n?void 0:n);return new ue((r,s)=>{i.onerror=l=>{s(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}J(e,n){ze("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,n);i.Y=!1;const r=this.cursor(i);return this.W(r,(s,l,h)=>h.delete())}X(e,n){let i;n?i=e:(i={},n=e);const r=this.cursor(i);return this.W(r,n)}Z(e){const n=this.cursor({});return new ue((i,r)=>{n.onerror=s=>{const l=XP(s.target.error);r(l)},n.onsuccess=s=>{const l=s.target.result;l?e(l.primaryKey,l.value).next(h=>{h?l.continue():i()}):i()}})}W(e,n){const i=[];return new ue((r,s)=>{e.onerror=l=>{s(l.target.error)},e.onsuccess=l=>{const h=l.target.result;if(!h)return void r();const p=new PQ(h),g=n(h.primaryKey,h.value,p);if(g instanceof ue){const b=g.catch(C=>(p.done(),ue.reject(C)));i.push(b)}p.isDone?r():null===p.K?h.continue():h.continue(p.K)}}).next(()=>ue.waitFor(i))}options(e,n){let i;return void 0!==e&&("string"==typeof e?i=e:n=e),{index:i,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,n):i.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Vp(t){return new ue((e,n)=>{t.onsuccess=i=>{e(i.target.result)},t.onerror=i=>{const r=XP(i.target.error);n(r)}})}let mG=!1;function XP(t){const e=Ka.S((0,$.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const i=new Oe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return mG||(mG=!0,setTimeout(()=>{throw i},0)),i}}return t}class LQ{constructor(e,n){this.asyncQueue=e,this.tt=n,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var n=this;ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Q.Z)(function*(){n.task=null;try{ze("IndexBackiller",`Documents written: ${yield n.tt.nt()}`)}catch(i){eh(i)?ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Jd(i)}yield n.et(6e4)}))}}class BQ{constructor(e,n){this.localStore=e,this.persistence=n}nt(e=50){var n=this;return(0,Q.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>n.st(i,e))})()}st(e,n){const i=new Set;let r=n,s=!0;return ue.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!i.has(l))return ze("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,r).next(h=>{r-=h,i.add(l)});s=!1})).next(()=>n-r)}it(e,n,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(r=>this.localStore.localDocuments.getNextDocuments(e,n,r,i).next(s=>{const l=s.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(r,s)).next(h=>(ze("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,n,h))).next(()=>l.size)}))}rt(e,n){let i=e;return n.changes.forEach((r,s)=>{const l=hG(s);ZP(l,i)>0&&(i=l)}),new ko(i.readTime,i.documentKey,Math.max(n.batchId,e.largestBatchId))}}let Oo=(()=>{class t{constructor(n,i){this.previousValue=n,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Rx(t){return null==t}function kx(t){return 0===t&&1/t==-1/0}function gG(t){return"number"==typeof t&&Number.isInteger(t)&&!kx(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function bs(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_G(e)),e=VQ(t.get(n),e);return _G(e)}function VQ(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function _G(t){return t+"\x01\x01"}function Fl(t){const e=t.length;if(yt(e>=2),2===e)return yt("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),un.emptyPath();const n=e-2,i=[];let r="";for(let s=0;s<e;){const l=t.indexOf("\x01",s);switch((l<0||l>n)&&lt(),t.charAt(l+1)){case"\x01":const h=t.substring(s,l);let p;0===r.length?p=h:(r+=h,p=r,r=""),i.push(p);break;case"\x10":r+=t.substring(s,l),r+="\0";break;case"\x11":r+=t.substring(s,l+1);break;default:lt()}s=l+2}return new un(i)}const yG=["userId","batchId"];function WA(t,e){return[t,bs(e)]}function vG(t,e,n){return[t,bs(e),n]}const UQ={},jQ=["prefixPath","collectionGroup","readTime","documentId"],zQ=["prefixPath","collectionGroup","documentId"],HQ=["collectionGroup","readTime","prefixPath","documentId"],$Q=["canonicalId","targetId"],GQ=["targetId","path"],WQ=["path","targetId"],qQ=["collectionId","parent"],YQ=["indexId","uid"],KQ=["uid","sequenceNumber"],ZQ=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],QQ=["indexId","uid","orderedDocumentKey"],XQ=["userId","collectionPath","documentId"],JQ=["userId","collectionPath","largestBatchId"],eX=["userId","collectionGroup","largestBatchId"],bG=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tX=[...bG,"documentOverlays"],wG=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xG=wG,nX=[...xG,"indexConfiguration","indexState","indexEntries"];class JP extends pG{constructor(e,n){super(),this.ht=e,this.currentSequenceNumber=n}}function Or(t,e){const n=nt(t);return Ka.M(n.ht,e)}function EG(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function th(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CG(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Un{constructor(e,n){this.comparator=e,this.root=n||Jr.EMPTY}insert(e,n){return new Un(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jr.BLACK,null,null))}remove(e){return new Un(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(0===i)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qA(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qA(this.root,e,this.comparator,!1)}getReverseIterator(){return new qA(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qA(this.root,e,this.comparator,!0)}}class qA{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jr{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??Jr.RED,this.left=r??Jr.EMPTY,this.right=s??Jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new Jr(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):0===s?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Jr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===n(e,r.key)){if(r.right.isEmpty())return Jr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw lt();const e=this.left.check();if(e!==this.right.check())throw lt();return e+(this.isRed()?0:1)}}Jr.EMPTY=null,Jr.RED=!0,Jr.BLACK=!1,Jr.EMPTY=new class{constructor(){this.size=0}get key(){throw lt()}get value(){throw lt()}get color(){throw lt()}get left(){throw lt()}get right(){throw lt()}copy(t,e,n,i,r){return this}insert(t,e,n){return new Jr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xn{constructor(e){this.comparator=e,this.data=new Un(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new IG(this.data.getIterator())}getIteratorFrom(e){return new IG(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xn(this.comparator);return n.data=e,n}}class IG{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function by(t){return t.hasNext()?t.getNext():void 0}class Xs{constructor(e){this.fields=e,e.sort(Ti.comparator)}static empty(){return new Xs([])}unionWith(e){let n=new Xn(Ti.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Xs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vy(this.fields,e.fields,(n,i)=>n.isEqual(i))}}class SG extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class vr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new SG("Invalid base64 string: "+r):r}}(e);return new vr(n)}static fromUint8Array(e){const n=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(e);return new vr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const rX=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nh(t){if(yt(!!t),"string"==typeof t){let e=0;const n=rX.exec(t);if(yt(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mi(t.seconds),nanos:Mi(t.nanos)}}function Mi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function lu(t){return"string"==typeof t?vr.fromBase64String(t):vr.fromUint8Array(t)}function YA(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function KA(t){const e=t.mapValue.fields.__previous_value__;return YA(e)?KA(e):e}function Ox(t){const e=nh(t.mapValue.fields.__local_write_time__.timestampValue);return new ri(e.seconds,e.nanos)}class sX{constructor(e,n,i,r,s,l,h,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=g}}class ih{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ih("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ih&&e.projectId===this.projectId&&e.database===this.database}}const rh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ZA={nullValue:"NULL_VALUE"};function sh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?YA(t)?4:MG(t)?9007199254740991:10:lt()}function Ll(t,e){if(t===e)return!0;const n=sh(t);if(n!==sh(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ox(t).isEqual(Ox(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=nh(i.timestampValue),l=nh(r.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return r=e,lu(t.bytesValue).isEqual(lu(r.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return Mi(i.geoPointValue.latitude)===Mi(r.geoPointValue.latitude)&&Mi(i.geoPointValue.longitude)===Mi(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Mi(i.integerValue)===Mi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Mi(i.doubleValue),l=Mi(r.doubleValue);return s===l?kx(s)===kx(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return vy(t.arrayValue.values||[],e.arrayValue.values||[],Ll);case 10:return function(i,r){const s=i.mapValue.fields||{},l=r.mapValue.fields||{};if(EG(s)!==EG(l))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===l[h]||!Ll(s[h],l[h])))return!1;return!0}(t,e);default:return lt()}var r}function Nx(t,e){return void 0!==(t.values||[]).find(n=>Ll(n,e))}function oh(t,e){if(t===e)return 0;const n=sh(t),i=sh(e);if(n!==i)return Bt(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Bt(t.booleanValue,e.booleanValue);case 2:return function(r,s){const l=Mi(r.integerValue||r.doubleValue),h=Mi(s.integerValue||s.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(t,e);case 3:return DG(t.timestampValue,e.timestampValue);case 4:return DG(Ox(t),Ox(e));case 5:return Bt(t.stringValue,e.stringValue);case 6:return function(r,s){const l=lu(r),h=lu(s);return l.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(r,s){const l=r.split("/"),h=s.split("/");for(let p=0;p<l.length&&p<h.length;p++){const g=Bt(l[p],h[p]);if(0!==g)return g}return Bt(l.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,s){const l=Bt(Mi(r.latitude),Mi(s.latitude));return 0!==l?l:Bt(Mi(r.longitude),Mi(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,s){const l=r.values||[],h=s.values||[];for(let p=0;p<l.length&&p<h.length;++p){const g=oh(l[p],h[p]);if(g)return g}return Bt(l.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,s){if(r===rh.mapValue&&s===rh.mapValue)return 0;if(r===rh.mapValue)return 1;if(s===rh.mapValue)return-1;const l=r.fields||{},h=Object.keys(l),p=s.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let b=0;b<h.length&&b<g.length;++b){const C=Bt(h[b],g[b]);if(0!==C)return C;const D=oh(l[h[b]],p[g[b]]);if(0!==D)return D}return Bt(h.length,g.length)}(t.mapValue,e.mapValue);default:throw lt()}}function DG(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Bt(t,e);const n=nh(t),i=nh(e),r=Bt(n.seconds,i.seconds);return 0!==r?r:Bt(n.nanos,i.nanos)}function wy(t){return eF(t)}function eF(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(i){const r=nh(i);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?lu(t.bytesValue).toBase64():"referenceValue"in t?Qe.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(i){let r="[",s=!0;for(const l of i.values||[])s?s=!1:r+=",",r+=eF(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",l=!0;for(const h of r)l?l=!1:s+=",",s+=`${h}:${eF(i.fields[h])}`;return s+"}"}(t.mapValue):lt();var e}function Up(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tF(t){return!!t&&"integerValue"in t}function Px(t){return!!t&&"arrayValue"in t}function AG(t){return!!t&&"nullValue"in t}function TG(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function XA(t){return!!t&&"mapValue"in t}function Fx(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return th(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Fx(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Fx(t.arrayValue.values[n]);return e}return Object.assign({},t)}function MG(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}function oX(t){return"nullValue"in t?ZA:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Up(ih.empty(),Qe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:lt()}function aX(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Up(ih.empty(),Qe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?rh:lt()}function RG(t,e){const n=oh(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function kG(t,e){const n=oh(t.value,e.value);return 0!==n?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}class es{constructor(e){this.value=e}static empty(){return new es({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!XA(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fx(n)}setAll(e){let n=Ti.emptyPath(),i={},r=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const p=this.getFieldsMap(n);this.applyChanges(p,i,r),i={},r=[],n=h.popLast()}l?i[h.lastSegment()]=Fx(l):r.push(h.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());XA(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ll(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];XA(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){th(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new es(Fx(this.value))}}function OG(t){const e=[];return th(t.fields,(n,i)=>{const r=new Ti([n]);if(XA(i)){const s=OG(i.mapValue).fields;if(0===s.length)e.push(r);else for(const l of s)e.push(r.child(l))}else e.push(r)}),new Xs(e)}class Jn{constructor(e,n,i,r,s,l,h){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=l,this.documentState=h}static newInvalidDocument(e){return new Jn(e,0,vt.min(),vt.min(),vt.min(),es.empty(),0)}static newFoundDocument(e,n,i,r){return new Jn(e,1,n,vt.min(),i,r,0)}static newNoDocument(e,n){return new Jn(e,2,n,vt.min(),vt.min(),es.empty(),0)}static newUnknownDocument(e,n){return new Jn(e,3,n,vt.min(),vt.min(),es.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(vt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=es.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ah{constructor(e,n){this.position=e,this.inclusive=n}}function NG(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],l=t.position[r];if(i=s.field.isKeyField()?Qe.comparator(Qe.fromName(l.referenceValue),n.key):oh(l,n.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function PG(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ll(t.position[n],e.position[n]))return!1;return!0}class xy{constructor(e,n="asc"){this.field=e,this.dir=n}}function lX(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class FG{}class an extends FG{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,i):new cX(e,n,i):"array-contains"===n?new hX(e,i):"in"===n?new zG(e,i):"not-in"===n?new fX(e,i):"array-contains-any"===n?new pX(e,i):new an(e,n,i)}static createKeyFieldInFilter(e,n,i){return"in"===n?new uX(e,i):new dX(e,i)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(oh(n,this.value)):null!==n&&sh(this.value)===sh(n)&&this.matchesComparison(oh(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return lt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Tn extends FG{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Tn(e,n)}matches(e){return Ey(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ey(t){return"and"===t.op}function nF(t){return"or"===t.op}function iF(t){return LG(t)&&Ey(t)}function LG(t){for(const e of t.filters)if(e instanceof Tn)return!1;return!0}function rF(t){if(t instanceof an)return t.field.canonicalString()+t.op.toString()+wy(t.value);if(iF(t))return t.filters.map(e=>rF(e)).join(",");{const e=t.filters.map(n=>rF(n)).join(",");return`${t.op}(${e})`}}function BG(t,e){return t instanceof an?(n=t,(i=e)instanceof an&&n.op===i.op&&n.field.isEqual(i.field)&&Ll(n.value,i.value)):t instanceof Tn?function(n,i){return i instanceof Tn&&n.op===i.op&&n.filters.length===i.filters.length&&n.filters.reduce((r,s,l)=>r&&BG(s,i.filters[l]),!0)}(t,e):void lt();var n,i}function VG(t,e){const n=t.filters.concat(e);return Tn.create(n,t.op)}function UG(t){return t instanceof an?`${(e=t).field.canonicalString()} ${e.op} ${wy(e.value)}`:t instanceof Tn?function(e){return e.op.toString()+" {"+e.getFilters().map(UG).join(" ,")+"}"}(t):"Filter";var e}class cX extends an{constructor(e,n,i){super(e,n,i),this.key=Qe.fromName(i.referenceValue)}matches(e){const n=Qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class uX extends an{constructor(e,n){super(e,"in",n),this.keys=jG(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class dX extends an{constructor(e,n){super(e,"not-in",n),this.keys=jG(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function jG(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(i=>Qe.fromName(i.referenceValue))}class hX extends an{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Px(n)&&Nx(n.arrayValue,this.value)}}class zG extends an{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Nx(this.value.arrayValue,n)}}class fX extends an{constructor(e,n){super(e,"not-in",n)}matches(e){if(Nx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Nx(this.value.arrayValue,n)}}class pX extends an{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Px(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Nx(this.value.arrayValue,i))}}class mX{constructor(e,n=null,i=[],r=[],s=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=l,this.endAt=h,this.dt=null}}function sF(t,e=null,n=[],i=[],r=null,s=null,l=null){return new mX(t,e,n,i,r,s,l)}function jp(t){const e=nt(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>rF(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Rx(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>wy(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>wy(i)).join(",")),e.dt=n}return e.dt}function Lx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!lX(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!BG(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PG(t.startAt,e.startAt)&&PG(t.endAt,e.endAt)}function JA(t){return Qe.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}function eT(t,e){return t.filters.filter(n=>n instanceof an&&n.field.isEqual(e))}function HG(t,e,n){let i=ZA,r=!0;for(const s of eT(t,e)){let l=ZA,h=!0;switch(s.op){case"<":case"<=":l=oX(s.value);break;case"==":case"in":case">=":l=s.value;break;case">":l=s.value,h=!1;break;case"!=":case"not-in":l=ZA}RG({value:i,inclusive:r},{value:l,inclusive:h})<0&&(i=l,r=h)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];RG({value:i,inclusive:r},{value:l,inclusive:n.inclusive})<0&&(i=l,r=n.inclusive);break}return{value:i,inclusive:r}}function $G(t,e,n){let i=rh,r=!0;for(const s of eT(t,e)){let l=rh,h=!0;switch(s.op){case">=":case">":l=aX(s.value),h=!1;break;case"==":case"in":case"<=":l=s.value;break;case"<":l=s.value,h=!1;break;case"!=":case"not-in":l=rh}kG({value:i,inclusive:r},{value:l,inclusive:h})>0&&(i=l,r=h)}if(null!==n)for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const l=n.position[s];kG({value:i,inclusive:r},{value:l,inclusive:n.inclusive})>0&&(i=l,r=n.inclusive);break}return{value:i,inclusive:r}}class cu{constructor(e,n=null,i=[],r=[],s=null,l="F",h=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=l,this.startAt=h,this.endAt=p,this.wt=null,this._t=null}}function GG(t,e,n,i,r,s,l,h){return new cu(t,e,n,i,r,s,l,h)}function Cy(t){return new cu(t)}function WG(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function oF(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function tT(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function aF(t){return null!==t.collectionGroup}function zp(t){const e=nt(t);if(null===e.wt){e.wt=[];const n=tT(e),i=oF(e);if(null!==n&&null===i)n.isKeyField()||e.wt.push(new xy(n)),e.wt.push(new xy(Ti.keyField(),"asc"));else{let r=!1;for(const s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new xy(Ti.keyField(),s))}}}return e.wt}function Ns(t){const e=nt(t);if(!e._t)if("F"===e.limitType)e._t=sF(e.path,e.collectionGroup,zp(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of zp(e))n.push(new xy(s.field,"desc"===s.dir?"asc":"desc"));const i=e.endAt?new ah(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ah(e.startAt.position,e.startAt.inclusive):null;e._t=sF(e.path,e.collectionGroup,n,e.filters,e.limit,i,r)}return e._t}function lF(t,e){e.getFirstInequalityField(),tT(t);const n=t.filters.concat([e]);return new cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function nT(t,e,n){return new cu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Bx(t,e){return Lx(Ns(t),Ns(e))&&t.limitType===e.limitType}function qG(t){return`${jp(Ns(t))}|lt:${t.limitType}`}function cF(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(i=>UG(i)).join(", ")}]`),Rx(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>wy(i)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>wy(i)).join(",")),`Target(${n})`}(Ns(t))}; limitType=${t.limitType})`}function Vx(t,e){return e.isFoundDocument()&&function(n,i){const r=i.key.path;return null!==n.collectionGroup?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):Qe.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,i){for(const r of zp(n))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(t,e)&&function(n,i){for(const r of n.filters)if(!r.matches(i))return!1;return!0}(t,e)&&(i=e,!((n=t).startAt&&!function(r,s,l){const h=NG(r,s,l);return r.inclusive?h<=0:h<0}(n.startAt,zp(n),i)||n.endAt&&!function(r,s,l){const h=NG(r,s,l);return r.inclusive?h>=0:h>0}(n.endAt,zp(n),i)));var n,i}function YG(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KG(t){return(e,n)=>{let i=!1;for(const r of zp(t)){const s=gX(r,e,n);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function gX(t,e,n){const i=t.field.isKeyField()?Qe.comparator(e.key,n.key):function(r,s,l){const h=s.data.field(r),p=l.data.field(r);return null!==h&&null!==p?oh(h,p):lt()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return lt()}}class uu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){th(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return CG(this.inner)}size(){return this.innerSize}}const _X=new Un(Qe.comparator);function Js(){return _X}const ZG=new Un(Qe.comparator);function Ux(...t){let e=ZG;for(const n of t)e=e.insert(n.key,n);return e}function QG(t){let e=ZG;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Bl(){return jx()}function XG(){return jx()}function jx(){return new uu(t=>t.toString(),(t,e)=>t.isEqual(e))}const yX=new Un(Qe.comparator),vX=new Xn(Qe.comparator);function Wt(...t){let e=vX;for(const n of t)e=e.add(n);return e}const bX=new Xn(Bt);function uF(){return bX}function JG(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kx(e)?"-0":e}}function e3(t){return{integerValue:""+t}}function t3(t,e){return gG(e)?e3(e):JG(t,e)}class iT{constructor(){this._=void 0}}function wX(t,e,n){return t instanceof Iy?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&YA(r)&&(r=KA(r)),r&&(s.fields.__previous_value__=r),{mapValue:s}}(n,e):t instanceof Hp?r3(t,e):t instanceof $p?s3(t,e):function(i,r){const s=n3(i,r),l=o3(s)+o3(i.gt);return tF(s)&&tF(i.gt)?e3(l):JG(i.serializer,l)}(t,e)}function xX(t,e,n){return t instanceof Hp?r3(t,e):t instanceof $p?s3(t,e):n}function n3(t,e){return t instanceof Sy?tF(n=e)||(i=n)&&"doubleValue"in i?e:{integerValue:0}:null;var i,n}class Iy extends iT{}class Hp extends iT{constructor(e){super(),this.elements=e}}function r3(t,e){const n=a3(e);for(const i of t.elements)n.some(r=>Ll(r,i))||n.push(i);return{arrayValue:{values:n}}}class $p extends iT{constructor(e){super(),this.elements=e}}function s3(t,e){let n=a3(e);for(const i of t.elements)n=n.filter(r=>!Ll(r,i));return{arrayValue:{values:n}}}class Sy extends iT{constructor(e,n){super(),this.serializer=e,this.gt=n}}function o3(t){return Mi(t.integerValue||t.doubleValue)}function a3(t){return Px(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class zx{constructor(e,n){this.field=e,this.transform=n}}class CX{constructor(e,n){this.version=e,this.transformResults=n}}class si{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rT(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class sT{}function l3(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new Ay(t.key,si.none()):new Dy(t.key,t.data,si.none());{const n=t.data,i=es.empty();let r=new Xn(Ti.comparator);for(let s of e.fields)if(!r.has(s)){let l=n.field(s);null===l&&s.length>1&&(s=s.popLast(),l=n.field(s)),null===l?i.delete(s):i.set(s,l),r=r.add(s)}return new du(t.key,i,new Xs(r.toArray()),si.none())}}function IX(t,e,n){t instanceof Dy?function(i,r,s){const l=i.value.clone(),h=d3(i.fieldTransforms,r,s.transformResults);l.setAll(h),r.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof du?function(i,r,s){if(!rT(i.precondition,r))return void r.convertToUnknownDocument(s.version);const l=d3(i.fieldTransforms,r,s.transformResults),h=r.data;h.setAll(u3(i)),h.setAll(l),r.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function Hx(t,e,n,i){return t instanceof Dy?function(r,s,l,h){if(!rT(r.precondition,s))return l;const p=r.value.clone(),g=h3(r.fieldTransforms,h,s);return p.setAll(g),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof du?function(r,s,l,h){if(!rT(r.precondition,s))return l;const p=h3(r.fieldTransforms,h,s),g=s.data;return g.setAll(u3(r)),g.setAll(p),s.convertToFoundDocument(s.version,g).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(t,e,n,i):(l=n,rT(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l);var s,l}function SX(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=n3(i.transform,r||null);null!=s&&(null===n&&(n=es.empty()),n.set(i.field,s))}return n||null}function c3(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===i||n&&i&&vy(n,i,(r,s)=>function EX(t,e){return t.field.isEqual(e.field)&&(i=e.transform,(n=t.transform)instanceof Hp&&i instanceof Hp||n instanceof $p&&i instanceof $p?vy(n.elements,i.elements,Ll):n instanceof Sy&&i instanceof Sy?Ll(n.gt,i.gt):n instanceof Iy&&i instanceof Iy);var n,i}(r,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,i}class Dy extends sT{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class du extends sT{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function u3(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function d3(t,e,n){const i=new Map;yt(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],l=s.transform,h=e.data.field(s.field);i.set(s.field,xX(l,h,n[r]))}return i}function h3(t,e,n){const i=new Map;for(const r of t){const s=r.transform,l=n.data.field(r.field);i.set(r.field,wX(s,l,e))}return i}class Ay extends sT{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dF extends sT{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hF{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&IX(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=Hx(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=Hx(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=XG();return this.mutations.forEach(r=>{const s=e.get(r.key),l=s.overlayedDocument;let h=this.applyToLocalView(l,s.mutatedFields);h=n.has(r.key)?null:h;const p=l3(l,h);null!==p&&i.set(r.key,p),l.isValidDocument()||l.convertToNoDocument(vt.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Wt())}isEqual(e){return this.batchId===e.batchId&&vy(this.mutations,e.mutations,(n,i)=>c3(n,i))&&vy(this.baseMutations,e.baseMutations,(n,i)=>c3(n,i))}}class fF{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){yt(e.mutations.length===i.length);let r=yX;const s=e.mutations;for(let l=0;l<s.length;l++)r=r.insert(s[l].key,i[l].version);return new fF(e,n,i,r)}}class pF{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class AX{constructor(e,n){this.count=e,this.unchangedNames=n}}var Ji,dn;function f3(t){switch(t){default:return lt();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0}}function p3(t){if(void 0===t)return Vi("GRPC error has no .code"),me.UNKNOWN;switch(t){case Ji.OK:return me.OK;case Ji.CANCELLED:return me.CANCELLED;case Ji.UNKNOWN:return me.UNKNOWN;case Ji.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case Ji.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case Ji.INTERNAL:return me.INTERNAL;case Ji.UNAVAILABLE:return me.UNAVAILABLE;case Ji.UNAUTHENTICATED:return me.UNAUTHENTICATED;case Ji.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case Ji.NOT_FOUND:return me.NOT_FOUND;case Ji.ALREADY_EXISTS:return me.ALREADY_EXISTS;case Ji.PERMISSION_DENIED:return me.PERMISSION_DENIED;case Ji.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case Ji.ABORTED:return me.ABORTED;case Ji.OUT_OF_RANGE:return me.OUT_OF_RANGE;case Ji.UNIMPLEMENTED:return me.UNIMPLEMENTED;case Ji.DATA_LOSS:return me.DATA_LOSS;default:return lt()}}(dn=Ji||(Ji={}))[dn.OK=0]="OK",dn[dn.CANCELLED=1]="CANCELLED",dn[dn.UNKNOWN=2]="UNKNOWN",dn[dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dn[dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dn[dn.NOT_FOUND=5]="NOT_FOUND",dn[dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",dn[dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",dn[dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",dn[dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dn[dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dn[dn.ABORTED=10]="ABORTED",dn[dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",dn[dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",dn[dn.INTERNAL=13]="INTERNAL",dn[dn.UNAVAILABLE=14]="UNAVAILABLE",dn[dn.DATA_LOSS=15]="DATA_LOSS";class mF{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return oT}static getOrCreateInstance(){return null===oT&&(oT=new mF),oT}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let oT=null;function m3(){return new TextEncoder}const TX=new _y([4294967295,4294967295],0);function g3(t){const e=m3().encode(t),n=new xQ;return n.update(e),new Uint8Array(n.digest())}function _3(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new _y([n,i],0),new _y([r,s],0)]}class gF{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new $x(`Invalid padding: ${n}`);if(i<0)throw new $x(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new $x(`Invalid hash count: ${i}`);if(0===e.length&&0!==n)throw new $x(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=_y.fromNumber(this.It)}Et(e,n,i){let r=e.add(n.multiply(_y.fromNumber(i)));return 1===r.compare(TX)&&(r=new _y([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=g3(e),[i,r]=_3(n);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);if(!this.At(l))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),l=new gF(s,r,n);return i.forEach(h=>l.insert(h)),l}insert(e){if(0===this.It)return;const n=g3(e),[i,r]=_3(n);for(let s=0;s<this.hashCount;s++){const l=this.Et(i,r,s);this.Rt(l)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class $x extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Gx{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,Wx.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Gx(vt.min(),r,new Un(Bt),Js(),Wt())}}class Wx{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Wx(i,n,Wt(),Wt(),Wt())}}class aT{constructor(e,n,i,r){this.Pt=e,this.removedTargetIds=n,this.key=i,this.bt=r}}class y3{constructor(e,n){this.targetId=e,this.Vt=n}}class v3{constructor(e,n,i=vr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class b3{constructor(){this.St=0,this.Dt=x3(),this.Ct=vr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Wt(),n=Wt(),i=Wt();return this.Dt.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:lt()}}),new Wx(this.Ct,this.xt,e,n,i)}Ft(){this.Nt=!1,this.Dt=x3()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class MX{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Js(),this.zt=w3(),this.Wt=new Un(Bt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const i=this.Zt(n);switch(e.state){case 0:this.te(n)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(n);break;case 3:this.te(n)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),i.$t(e.resumeToken));break;default:lt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((i,r)=>{this.te(r)&&n(r)})}ne(e){var n;const i=e.targetId,r=e.Vt.count,s=this.se(i);if(s){const l=s.target;if(JA(l))if(0===r){const h=new Qe(l.path);this.Yt(i,h,Jn.newNoDocument(h,vt.min()))}else yt(1===r);else{const h=this.ie(i);if(h!==r){const p=this.re(e,h);0!==p&&(this.ee(i),this.Wt=this.Wt.insert(i,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=mF.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(g,b,C){var D,R,B,G,q,le;const De={localCacheCount:b,existenceFilterCount:C.count},Be=C.unchangedNames;return Be&&(De.bloomFilter={applied:0===g,hashCount:null!==(D=Be?.hashCount)&&void 0!==D?D:0,bitmapLength:null!==(G=null===(B=null===(R=Be?.bits)||void 0===R?void 0:R.bitmap)||void 0===B?void 0:B.length)&&void 0!==G?G:0,padding:null!==(le=null===(q=Be?.bits)||void 0===q?void 0:q.padding)&&void 0!==le?le:0}),De}(p,h,e.Vt))}}}}re(e,n){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=i;let p,g;try{p=lu(s).toUint8Array()}catch(b){if(b instanceof SG)return pa("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{g=new gF(p,l,h)}catch(b){return pa(b instanceof $x?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===g.It?1:r!==n-this.oe(e.targetId,g)?2:0}oe(e,n){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(s=>{const l=this.Gt.ue(),h=`projects/${l.projectId}/databases/${l.database}/documents/${s.path.canonicalString()}`;n.vt(h)||(this.Yt(e,s,null),r++)}),r}ce(e){const n=new Map;this.Qt.forEach((s,l)=>{const h=this.se(l);if(h){if(s.current&&JA(h.target)){const p=new Qe(h.target.path);null!==this.jt.get(p)||this.ae(l,p)||this.Yt(l,p,Jn.newNoDocument(p,e))}s.Mt&&(n.set(l,s.Ot()),s.Ft())}});let i=Wt();this.zt.forEach((s,l)=>{let h=!0;l.forEachWhile(p=>{const g=this.se(p);return!g||"TargetPurposeLimboResolution"===g.purpose||(h=!1,!1)}),h&&(i=i.add(s))}),this.jt.forEach((s,l)=>l.setReadTime(e));const r=new Gx(e,n,this.Wt,this.jt,i);return this.jt=Js(),this.zt=w3(),this.Wt=new Un(Bt),r}Jt(e,n){if(!this.te(e))return;const i=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,i),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,n)?r.Bt(n,1):r.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),i&&(this.jt=this.jt.insert(n,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new b3,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new Xn(Bt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||ze("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new b3),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function w3(){return new Un(Qe.comparator)}function x3(){return new Un(Qe.comparator)}const RX={asc:"ASCENDING",desc:"DESCENDING"},kX={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},OX={and:"AND",or:"OR"};class NX{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _F(t,e){return t.useProto3Json||Rx(e)?e:{value:e}}function Ty(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E3(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PX(t,e){return Ty(t,e.toTimestamp())}function Ui(t){return yt(!!t),vt.fromTimestamp(function(e){const n=nh(e);return new ri(n.seconds,n.nanos)}(t))}function yF(t,e){return(n=t,new un(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function C3(t){const e=un.fromString(t);return yt(O3(e)),e}function qx(t,e){return yF(t.databaseId,e.path)}function Vl(t,e){const n=C3(e);if(n.get(1)!==t.databaseId.projectId)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Oe(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Qe(S3(n))}function vF(t,e){return yF(t.databaseId,e)}function I3(t){const e=C3(t);return 4===e.length?un.emptyPath():S3(e)}function Yx(t){return new un(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function S3(t){return yt(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function D3(t,e,n){return{name:qx(t,e),fields:n.value.mapValue.fields}}function A3(t,e,n){const i=Vl(t,e.name),r=Ui(e.updateTime),s=e.createTime?Ui(e.createTime):vt.min(),l=new es({mapValue:{fields:e.fields}}),h=Jn.newFoundDocument(i,r,s,l);return n&&h.setHasCommittedMutations(),n?h.setHasCommittedMutations():h}function Kx(t,e){let n;if(e instanceof Dy)n={update:D3(t,e.key,e.value)};else if(e instanceof Ay)n={delete:qx(t,e.key)};else if(e instanceof du)n={update:D3(t,e.key,e.data),updateMask:HX(e.fieldMask)};else{if(!(e instanceof dF))return lt();n={verify:qx(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(r,s){const l=s.transform;if(l instanceof Iy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Hp)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof $p)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Sy)return{fieldPath:s.field.canonicalString(),increment:l.gt};throw lt()}(0,i))),e.precondition.isNone||(n.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:PX(t,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:lt()),n;var r}function bF(t,e){const n=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?si.updateTime(Ui(r.updateTime)):void 0!==r.exists?si.exists(r.exists):si.none():si.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(s,l){let h=null;"setToServerValue"in l?(yt("REQUEST_TIME"===l.setToServerValue),h=new Iy):"appendMissingElements"in l?h=new Hp(l.appendMissingElements.values||[]):"removeAllFromArray"in l?h=new $p(l.removeAllFromArray.values||[]):"increment"in l?h=new Sy(s,l.increment):lt();const p=Ti.fromServerFormat(l.fieldPath);return new zx(p,h)}(t,r)):[];var r;if(e.update){const r=Vl(t,e.update.name),s=new es({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Xs((e.updateMask.fieldPaths||[]).map(g=>Ti.fromServerFormat(g)));return new du(r,s,l,n,i)}return new Dy(r,s,n,i)}if(e.delete){const r=Vl(t,e.delete);return new Ay(r,n)}if(e.verify){const r=Vl(t,e.verify);return new dF(r,n)}return lt()}function T3(t,e){return{documents:[vF(t,e.path)]}}function wF(t,e){const n={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(n.parent=vF(t,i),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vF(t,i.popLast()),n.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0!==p.length)return k3(Tn.create(p,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(g=>{return{field:lh((b=g).field),direction:UX(b.dir)};var b})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=_F(t,e.limit);var h,p;return null!==l&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(n.structuredQuery.endAt={before:!(p=e.endAt).inclusive,values:p.position}),n}function M3(t){let e=I3(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){yt(1===i);const b=n.from[0];b.allDescendants?r=b.collectionId:e=e.child(b.collectionId)}let s=[];n.where&&(s=function(b){const C=R3(b);return C instanceof Tn&&iF(C)?C.getFilters():[C]}(n.where));let l=[];n.orderBy&&(l=n.orderBy.map(b=>{return new xy(My((C=b).field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction));var C}));let h=null;n.limit&&(h=function(b){let C;return C="object"==typeof b?b.value:b,Rx(C)?null:C}(n.limit));let p=null;var b;n.startAt&&(p=new ah((b=n.startAt).values||[],!!b.before));let g=null;return n.endAt&&(g=function(b){return new ah(b.values||[],!b.before)}(n.endAt)),GG(e,r,l,s,h,"F",p,g)}function R3(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=My(e.unaryFilter.field);return an.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=My(e.unaryFilter.field);return an.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=My(e.unaryFilter.field);return an.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=My(e.unaryFilter.field);return an.create(s,"!=",{nullValue:"NULL_VALUE"});default:return lt()}}(t):void 0!==t.fieldFilter?an.create(My((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return lt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Tn.create(e.compositeFilter.filters.map(n=>R3(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return lt()}}(e.compositeFilter.op))}(t):lt();var e}function UX(t){return RX[t]}function jX(t){return kX[t]}function zX(t){return OX[t]}function lh(t){return{fieldPath:t.canonicalString()}}function My(t){return Ti.fromServerFormat(t.fieldPath)}function k3(t){return t instanceof an?function(e){if("=="===e.op){if(TG(e.value))return{unaryFilter:{field:lh(e.field),op:"IS_NAN"}};if(AG(e.value))return{unaryFilter:{field:lh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(TG(e.value))return{unaryFilter:{field:lh(e.field),op:"IS_NOT_NAN"}};if(AG(e.value))return{unaryFilter:{field:lh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lh(e.field),op:jX(e.op),value:e.value}}}(t):t instanceof Tn?function(e){const n=e.getFilters().map(i=>k3(i));return 1===n.length?n[0]:{compositeFilter:{op:zX(e.op),filters:n}}}(t):lt()}function HX(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function O3(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class hu{constructor(e,n,i,r,s=vt.min(),l=vt.min(),h=vr.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new hu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class N3{constructor(e){this.fe=e}}function P3(t,e){const n=e.key,i={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:lT(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:qx(r=t.fe,(s=e).key),fields:s.data.value.mapValue.fields,updateTime:Ty(r,s.version.toTimestamp()),createTime:Ty(r,s.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:n.path.toArray(),readTime:Gp(e.version)};else{if(!e.isUnknownDocument())return lt();i.unknownDocument={path:n.path.toArray(),version:Gp(e.version)}}var r,s;return i}function lT(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Gp(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Wp(t){const e=new ri(t.seconds,t.nanoseconds);return vt.fromTimestamp(e)}function qp(t,e){const n=(e.baseMutations||[]).map(s=>bF(t.fe,s));for(let s=0;s<e.mutations.length-1;++s)s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(e.mutations[s].updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s);const i=e.mutations.map(s=>bF(t.fe,s)),r=ri.fromMillis(e.localWriteTimeMs);return new hF(e.batchId,r,n,i)}function Zx(t){const e=Wp(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?Wp(t.lastLimboFreeSnapshotVersion):vt.min();let i;var r;return void 0!==t.query.documents?(yt(1===(r=t.query).documents.length),i=Ns(Cy(I3(r.documents[0])))):i=Ns(M3(t.query)),new hu(i,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,vr.fromBase64String(t.resumeToken))}function F3(t,e){const n=Gp(e.snapshotVersion),i=Gp(e.lastLimboFreeSnapshotVersion);let r;r=JA(e.target)?T3(t.fe,e.target):wF(t.fe,e.target);const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:jp(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function xF(t){const e=M3({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?nT(e,e.limit,"L"):e}function EF(t,e){return new pF(e.largestBatchId,bF(t.fe,e.overlayMutation))}function L3(t,e){const n=e.path.lastSegment();return[t,bs(e.path.popLast()),n]}function B3(t,e,n,i){return{indexId:t,uid:e.uid||"",sequenceNumber:n,readTime:Gp(i.readTime),documentKey:bs(i.documentKey.path),largestBatchId:i.largestBatchId}}class GX{getBundleMetadata(e,n){return V3(e).get(n).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Wp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,n){return V3(e).put({bundleId:(i=n).id,createTime:Gp(Ui(i.createTime)),version:i.version});var i}getNamedQuery(e,n){return U3(e).get(n).next(i=>{if(i)return{name:(r=i).name,query:xF(r.bundledQuery),readTime:Wp(r.readTime)};var r})}saveNamedQuery(e,n){return U3(e).put({name:(i=n).name,readTime:Gp(Ui(i.readTime)),bundledQuery:i.bundledQuery});var i}}function V3(t){return Or(t,"bundles")}function U3(t){return Or(t,"namedQueries")}class cT{constructor(e,n){this.serializer=e,this.userId=n}static de(e,n){return new cT(e,n.uid||"")}getOverlay(e,n){return Qx(e).get(L3(this.userId,n)).next(i=>i?EF(this.serializer,i):null)}getOverlays(e,n){const i=Bl();return ue.forEach(n,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){const r=[];return i.forEach((s,l)=>{const h=new pF(n,l);r.push(this.we(e,h))}),ue.waitFor(r)}removeOverlaysForBatchId(e,n,i){const r=new Set;n.forEach(l=>r.add(bs(l.getCollectionPath())));const s=[];return r.forEach(l=>{const h=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);s.push(Qx(e).J("collectionPathOverlayIndex",h))}),ue.waitFor(s)}getOverlaysForCollection(e,n,i){const r=Bl(),s=bs(n),l=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Qx(e).j("collectionPathOverlayIndex",l).next(h=>{for(const p of h){const g=EF(this.serializer,p);r.set(g.getKey(),g)}return r})}getOverlaysForCollectionGroup(e,n,i,r){const s=Bl();let l;const h=IDBKeyRange.bound([this.userId,n,i],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Qx(e).X({index:"collectionGroupOverlayIndex",range:h},(p,g,b)=>{const C=EF(this.serializer,g);s.size()<r||C.largestBatchId===l?(s.set(C.getKey(),C),l=C.largestBatchId):b.done()}).next(()=>s)}we(e,n){return Qx(e).put(function(i,r,s){const[l,h,p]=L3(r,s.mutation.key);return{userId:r,collectionPath:h,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Kx(i.fe,s.mutation)}}(this.serializer,this.userId,n))}}function Qx(t){return Or(t,"documentOverlays")}class Yp{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Mi(e.integerValue));else if("doubleValue"in e){const i=Mi(e.doubleValue);isNaN(i)?this.ye(n,13):(this.ye(n,15),kx(i)?n.pe(0):n.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(n,20),"string"==typeof i?n.Ie(i):(n.Ie(`${i.seconds||""}`),n.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(lu(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(n,45),n.pe(i.latitude||0),n.pe(i.longitude||0)}else"mapValue"in e?MG(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):lt()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const i=e.fields||{};this.ye(n,55);for(const r of Object.keys(i))this.Te(r,n),this.me(i[r],n)}Pe(e,n){const i=e.values||[];this.ye(n,50);for(const r of i)this.me(r,n)}ve(e,n){this.ye(n,37),Qe.fromName(e).path.forEach(i=>{this.ye(n,60),this.be(i,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}function WX(t){if(0===t)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function j3(t){const e=64-function(n){let i=0;for(let r=0;r<8;++r){const s=WX(255&n[r]);if(i+=s,8!==s)break}return i}(t);return Math.ceil(e/8)}Yp.Ve=new Yp;class qX{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const n=e[Symbol.iterator]();let i=n.next();for(;!i.done;)this.De(i.value),i=n.next();this.Ce()}xe(e){const n=e[Symbol.iterator]();let i=n.next();for(;!i.done;)this.Ne(i.value),i=n.next();this.ke()}Me(e){for(const n of e){const i=n.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(n<"\ud800"||"\udbff"<n)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=n.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const n of e){const i=n.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(n<"\ud800"||"\udbff"<n)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=n.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const n=this.Fe(e),i=j3(n);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=255&n[r]}Le(e){const n=this.Fe(e),i=j3(n);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=n.length-i;r<n.length;++r)this.buffer[this.position++]=~(255&n[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const n=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(e),i=0!=(128&n[0]);n[0]^=i?255:128;for(let r=1;r<n.length;++r)n[r]^=i?255:0;return n}De(e){const n=255&e;0===n?(this.Ue(0),this.Ue(255)):255===n?(this.Ue(255),this.Ue(0)):this.Ue(n)}Ne(e){const n=255&e;0===n?(this.Ge(0),this.Ge(255)):255===n?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const n=e+this.position;if(n<=this.buffer.length)return;let i=2*this.buffer.length;i<n&&(i=n);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class YX{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class KX{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Xx{constructor(){this.je=new qX,this.ze=new YX(this.je),this.We=new KX(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Kp{constructor(e,n,i,r){this.indexId=e,this.documentKey=n,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(n);return i.set(this.directionalValue,0),n!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new Kp(this.indexId,this.documentKey,this.arrayValue,i)}}function ch(t,e){let n=t.indexId-e.indexId;return 0!==n?n:(n=z3(t.arrayValue,e.arrayValue),0!==n?n:(n=z3(t.directionalValue,e.directionalValue),0!==n?n:Qe.comparator(t.documentKey,e.documentKey)))}function z3(t,e){for(let n=0;n<t.length&&n<e.length;++n){const i=t[n]-e[n];if(0!==i)return i}return t.length-e.length}class ZX{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const n of e.filters){const i=n;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){yt(e.collectionGroup===this.collectionId);const n=KP(e);if(void 0!==n&&!this.en(n))return!1;const i=Bp(e);let r=new Set,s=0,l=0;for(;s<i.length&&this.en(i[s]);++s)r=r.add(i[s].fieldPath.canonicalString());if(s===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const h=i[s];if(!this.nn(this.Ze,h)||!this.sn(this.Ye[l++],h))return!1}++s}for(;s<i.length;++s)if(l>=this.Ye.length||!this.sn(this.Ye[l++],i[s]))return!1;return!0}en(e){for(const n of this.Xe)if(this.nn(n,e))return!0;return!1}nn(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}function H3(t){var e,n;if(yt(t instanceof an||t instanceof Tn),t instanceof an){if(t instanceof zG){const r=(null===(n=null===(e=t.value.arrayValue)||void 0===e?void 0:e.values)||void 0===n?void 0:n.map(s=>an.create(t.field,"==",s)))||[];return Tn.create(r,"or")}return t}const i=t.filters.map(r=>H3(r));return Tn.create(i,t.op)}function QX(t){if(0===t.getFilters().length)return[];const e=SF(H3(t));return yt($3(e)),CF(e)||IF(e)?[e]:e.getFilters()}function CF(t){return t instanceof an}function IF(t){return t instanceof Tn&&iF(t)}function $3(t){return CF(t)||IF(t)||function(e){if(e instanceof Tn&&nF(e)){for(const n of e.getFilters())if(!CF(n)&&!IF(n))return!1;return!0}return!1}(t)}function SF(t){if(yt(t instanceof an||t instanceof Tn),t instanceof an)return t;if(1===t.filters.length)return SF(t.filters[0]);const e=t.filters.map(i=>SF(i));let n=Tn.create(e,t.op);return n=uT(n),$3(n)?n:(yt(n instanceof Tn),yt(Ey(n)),yt(n.filters.length>1),n.filters.reduce((i,r)=>DF(i,r)))}function DF(t,e){let n;return yt(t instanceof an||t instanceof Tn),yt(e instanceof an||e instanceof Tn),n=t instanceof an?e instanceof an?Tn.create([t,e],"and"):G3(t,e):e instanceof an?G3(e,t):function(i,r){if(yt(i.filters.length>0&&r.filters.length>0),Ey(i)&&Ey(r))return VG(i,r.getFilters());const s=nF(i)?i:r,l=nF(i)?r:i,h=s.filters.map(p=>DF(p,l));return Tn.create(h,"or")}(t,e),uT(n)}function G3(t,e){if(Ey(e))return VG(e,t.getFilters());{const n=e.filters.map(i=>DF(t,i));return Tn.create(n,"or")}}function uT(t){if(yt(t instanceof an||t instanceof Tn),t instanceof an)return t;const e=t.getFilters();if(1===e.length)return uT(e[0]);if(LG(t))return t;const n=e.map(r=>uT(r)),i=[];return n.forEach(r=>{r instanceof an?i.push(r):r instanceof Tn&&(r.op===t.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:Tn.create(i,t.op)}class XX{constructor(){this.rn=new AF}addToCollectionParentIndex(e,n){return this.rn.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(ko.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(ko.min())}updateCollectionGroup(e,n,i){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class AF{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new Xn(un.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Xn(un.comparator)).toArray()}}const dT=new Uint8Array(0);class JX{constructor(e,n){this.user=e,this.databaseId=n,this.on=new AF,this.un=new uu(i=>jp(i),(i,r)=>Lx(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.on.has(n)){const i=n.lastSegment(),r=n.popLast();e.addOnCommittedListener(()=>{this.on.add(n)});const s={collectionId:i,parent:bs(r)};return W3(e).put(s)}return ue.resolve()}getCollectionParents(e,n){const i=[],r=IDBKeyRange.bound([n,""],[uG(n),""],!1,!0);return W3(e).j(r).next(s=>{for(const l of s){if(l.collectionId!==n)break;i.push(Fl(l.parent))}return i})}addFieldIndex(e,n){const i=hT(e),r={indexId:(l=n).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;delete r.indexId;const s=i.add(r);if(n.indexState){const l=eE(e);return s.next(h=>{l.put(B3(h,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const i=hT(e),r=eE(e),s=Jx(e);return i.delete(n.indexId).next(()=>r.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const i=Jx(e);let r=!0;const s=new Map;return ue.forEach(this.cn(n),l=>this.an(e,l).next(h=>{r&&(r=!!h),s.set(l,h)})).next(()=>{if(r){let l=Wt();const h=[];return ue.forEach(s,(p,g)=>{var b;ze("IndexedDbIndexManager",`Using index ${b=p,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Be=>`${Be.fieldPath}:${Be.kind}`).join(",")}`} to execute ${jp(n)}`);const C=function(Be,Ve){const ft=KP(Ve);if(void 0===ft)return null;for(const wt of eT(Be,ft.fieldPath))switch(wt.op){case"array-contains-any":return wt.value.arrayValue.values||[];case"array-contains":return[wt.value]}return null}(g,p),D=function(Be,Ve){const ft=new Map;for(const wt of Bp(Ve))for(const Zt of eT(Be,wt.fieldPath))switch(Zt.op){case"==":case"in":ft.set(wt.fieldPath.canonicalString(),Zt.value);break;case"not-in":case"!=":return ft.set(wt.fieldPath.canonicalString(),Zt.value),Array.from(ft.values())}return null}(g,p),R=function(Be,Ve){const ft=[];let wt=!0;for(const Zt of Bp(Ve)){const ci=0===Zt.kind?HG(Be,Zt.fieldPath,Be.startAt):$G(Be,Zt.fieldPath,Be.startAt);ft.push(ci.value),wt&&(wt=ci.inclusive)}return new ah(ft,wt)}(g,p),B=function(Be,Ve){const ft=[];let wt=!0;for(const Zt of Bp(Ve)){const ci=0===Zt.kind?$G(Be,Zt.fieldPath,Be.endAt):HG(Be,Zt.fieldPath,Be.endAt);ft.push(ci.value),wt&&(wt=ci.inclusive)}return new ah(ft,wt)}(g,p),G=this.hn(p,g,R),q=this.hn(p,g,B),le=this.ln(p,g,D),De=this.fn(p.indexId,C,G,R.inclusive,q,B.inclusive,le);return ue.forEach(De,Be=>i.H(Be,n.limit).next(Ve=>{Ve.forEach(ft=>{const wt=Qe.fromSegments(ft.documentKey);l.has(wt)||(l=l.add(wt),h.push(wt))})}))}).next(()=>h)}return ue.resolve(null)})}cn(e){let n=this.un.get(e);return n||(n=0===e.filters.length?[e]:QX(Tn.create(e.filters,"and")).map(i=>sF(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}fn(e,n,i,r,s,l,h){const p=(null!=n?n.length:1)*Math.max(i.length,s.length),g=p/(null!=n?n.length:1),b=[];for(let C=0;C<p;++C){const D=n?this.dn(n[C/g]):dT,R=this.wn(e,D,i[C%g],r),B=this._n(e,D,s[C%g],l),G=h.map(q=>this.wn(e,D,q,!0));b.push(...this.createRange(R,B,G))}return b}wn(e,n,i,r){const s=new Kp(e,Qe.empty(),n,i);return r?s:s.Je()}_n(e,n,i,r){const s=new Kp(e,Qe.empty(),n,i);return r?s.Je():s}an(e,n){const i=new ZX(n),r=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,r).next(s=>{let l=null;for(const h of s)i.tn(h)&&(!l||h.fields.length>l.fields.length)&&(l=h);return l})}getIndexType(e,n){let i=2;const r=this.cn(n);return ue.forEach(r,s=>this.an(e,s).next(l=>{l?0!==i&&l.fields.length<function(h){let p=new Xn(Ti.comparator),g=!1;for(const b of h.filters)for(const C of b.getFlattenedFilters())C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?g=!0:p=p.add(C.field));for(const b of h.orderBy)b.field.isKeyField()||(p=p.add(b.field));return p.size+(g?1:0)}(s)&&(i=1):i=0})).next(()=>null!==n.limit&&r.length>1&&2===i?1:i)}mn(e,n){const i=new Xx;for(const r of Bp(e)){const s=n.data.field(r.fieldPath);if(null==s)return null;const l=i.He(r.kind);Yp.Ve._e(s,l)}return i.Qe()}dn(e){const n=new Xx;return Yp.Ve._e(e,n.He(0)),n.Qe()}gn(e,n){const i=new Xx;return Yp.Ve._e(Up(this.databaseId,n),i.He(function(r){const s=Bp(r);return 0===s.length?0:s[s.length-1].kind}(e))),i.Qe()}ln(e,n,i){if(null===i)return[];let r=[];r.push(new Xx);let s=0;for(const l of Bp(e)){const h=i[s++];for(const p of r)if(this.yn(n,l.fieldPath)&&Px(h))r=this.pn(r,l,h);else{const g=p.He(l.kind);Yp.Ve._e(h,g)}}return this.In(r)}hn(e,n,i){return this.ln(e,n,i.position)}In(e){const n=[];for(let i=0;i<e.length;++i)n[i]=e[i].Qe();return n}pn(e,n,i){const r=[...e],s=[];for(const l of i.arrayValue.values||[])for(const h of r){const p=new Xx;p.seed(h.Qe()),Yp.Ve._e(l,p.He(n.kind)),s.push(p)}return s}yn(e,n){return!!e.filters.find(i=>i instanceof an&&i.field.isEqual(n)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,n){const i=hT(e),r=eE(e);return(n?i.j("collectionGroupIndex",IDBKeyRange.bound(n,n)):i.j()).next(s=>{const l=[];return ue.forEach(s,h=>r.get([h.indexId,this.uid]).next(p=>{l.push(function(g,b){const C=b?new Tx(b.sequenceNumber,new ko(Wp(b.readTime),new Qe(Fl(b.documentKey)),b.largestBatchId)):Tx.empty(),D=g.fields.map(([R,B])=>new $A(Ti.fromServerFormat(R),B));return new HA(g.indexId,g.collectionGroup,D,C)}(h,p))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Bt(i.collectionGroup,r.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,i){const r=hT(e),s=eE(e);return this.Tn(e).next(l=>r.j("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(h=>ue.forEach(h,p=>s.put(B3(p.indexId,this.user,l,i)))))}updateIndexEntries(e,n){const i=new Map;return ue.forEach(n,(r,s)=>{const l=i.get(r.collectionGroup);return(l?ue.resolve(l):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ue.forEach(h,p=>this.En(e,r,p).next(g=>{const b=this.An(s,p);return g.isEqual(b)?ue.resolve():this.vn(e,s,p,g,b)}))))})}Rn(e,n,i,r){return Jx(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,n.key),documentKey:n.key.path.toArray()})}Pn(e,n,i,r){return Jx(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,n.key),n.key.path.toArray()])}En(e,n,i){const r=Jx(e);let s=new Xn(ch);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,n)])},(l,h)=>{s=s.add(new Kp(i.indexId,n,h.arrayValue,h.directionalValue))}).next(()=>s)}An(e,n){let i=new Xn(ch);const r=this.mn(n,e);if(null==r)return i;const s=KP(n);if(null!=s){const l=e.data.field(s.fieldPath);if(Px(l))for(const h of l.arrayValue.values||[])i=i.add(new Kp(n.indexId,e.key,this.dn(h),r))}else i=i.add(new Kp(n.indexId,e.key,dT,r));return i}vn(e,n,i,r,s){ze("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const l=[];return function(h,p,g,b,C){const D=h.getIterator(),R=p.getIterator();let B=by(D),G=by(R);for(;B||G;){let q=!1,le=!1;if(B&&G){const De=g(B,G);De<0?le=!0:De>0&&(q=!0)}else null!=B?le=!0:q=!0;q?(b(G),G=by(R)):le?(C(B),B=by(D)):(B=by(D),G=by(R))}}(r,s,ch,h=>{l.push(this.Rn(e,n,i,h))},h=>{l.push(this.Pn(e,n,i,h))}),ue.waitFor(l)}Tn(e){let n=1;return eE(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),n=r.sequenceNumber+1}).next(()=>n)}createRange(e,n,i){i=i.sort((l,h)=>ch(l,h)).filter((l,h,p)=>!h||0!==ch(l,p[h-1]));const r=[];r.push(e);for(const l of i){const h=ch(l,e),p=ch(l,n);if(0===h)r[0]=e.Je();else if(h>0&&p<0)r.push(l),r.push(l.Je());else if(p>0)break}r.push(n);const s=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];s.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,dT,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,dT,[]]))}return s}bn(e,n){return ch(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(q3)}getMinOffset(e,n){return ue.mapArray(this.cn(n),i=>this.an(e,i).next(r=>r||lt())).next(q3)}}function W3(t){return Or(t,"collectionParents")}function Jx(t){return Or(t,"indexEntries")}function hT(t){return Or(t,"indexConfiguration")}function eE(t){return Or(t,"indexState")}function q3(t){yt(0!==t.length);let e=t[0].indexState.offset,n=e.largestBatchId;for(let i=1;i<t.length;i++){const r=t[i].indexState.offset;ZP(r,e)<0&&(e=r),n<r.largestBatchId&&(n=r.largestBatchId)}return new ko(e.readTime,e.documentKey,n)}const Y3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ws{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ws(e,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function K3(t,e,n){const i=t.store("mutations"),r=t.store("documentMutations"),s=[],l=IDBKeyRange.only(n.batchId);let h=0;const p=i.X({range:l},(b,C,D)=>(h++,D.delete()));s.push(p.next(()=>{yt(1===h)}));const g=[];for(const b of n.mutations){const C=vG(e,b.key.path,n.batchId);s.push(r.delete(C)),g.push(b.key)}return ue.waitFor(s).next(()=>g)}function fT(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw lt();e=t.noDocument}return JSON.stringify(e).length}ws.DEFAULT_COLLECTION_PERCENTILE=10,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ws.DEFAULT=new ws(41943040,ws.DEFAULT_COLLECTION_PERCENTILE,ws.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ws.DISABLED=new ws(-1,0,0);class pT{constructor(e,n,i,r){this.userId=e,this.serializer=n,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,n,i,r){yt(""!==e.uid);const s=e.isAuthenticated()?e.uid:"";return new pT(s,n,i,r)}checkEmpty(e){let n=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uh(e).X({index:"userMutationsIndex",range:i},(r,s,l)=>{n=!1,l.done()}).next(()=>n)}addMutationBatch(e,n,i,r){const s=Ry(e),l=uh(e);return l.add({}).next(h=>{yt("number"==typeof h);const p=new hF(h,n,i,r),g=function(D,R,B){const G=B.baseMutations.map(le=>Kx(D.fe,le)),q=B.mutations.map(le=>Kx(D.fe,le));return{userId:R,batchId:B.batchId,localWriteTimeMs:B.localWriteTime.toMillis(),baseMutations:G,mutations:q}}(this.serializer,this.userId,p),b=[];let C=new Xn((D,R)=>Bt(D.canonicalString(),R.canonicalString()));for(const D of r){const R=vG(this.userId,D.key.path,h);C=C.add(D.key.path.popLast()),b.push(l.put(g)),b.push(s.put(R,UQ))}return C.forEach(D=>{b.push(this.indexManager.addToCollectionParentIndex(e,D))}),e.addOnCommittedListener(()=>{this.Vn[h]=p.keys()}),ue.waitFor(b).next(()=>p)})}lookupMutationBatch(e,n){return uh(e).get(n).next(i=>i?(yt(i.userId===this.userId),qp(this.serializer,i)):null)}Sn(e,n){return this.Vn[n]?ue.resolve(this.Vn[n]):this.lookupMutationBatch(e,n).next(i=>{if(i){const r=i.keys();return this.Vn[n]=r,r}return null})}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return uh(e).X({index:"userMutationsIndex",range:r},(l,h,p)=>{h.userId===this.userId&&(yt(h.batchId>=i),s=qp(this.serializer,h)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return uh(e).X({index:"userMutationsIndex",range:n,reverse:!0},(r,s,l)=>{i=s.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uh(e).j("userMutationsIndex",n).next(i=>i.map(r=>qp(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,n){const i=WA(this.userId,n.path),r=IDBKeyRange.lowerBound(i),s=[];return Ry(e).X({range:r},(l,h,p)=>{const[g,b,C]=l,D=Fl(b);if(g===this.userId&&n.path.isEqual(D))return uh(e).get(C).next(R=>{if(!R)throw lt();yt(R.userId===this.userId),s.push(qp(this.serializer,R))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xn(Bt);const r=[];return n.forEach(s=>{const l=WA(this.userId,s.path),h=IDBKeyRange.lowerBound(l),p=Ry(e).X({range:h},(g,b,C)=>{const[D,R,B]=g,G=Fl(R);D===this.userId&&s.path.isEqual(G)?i=i.add(B):C.done()});r.push(p)}),ue.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1,s=WA(this.userId,i),l=IDBKeyRange.lowerBound(s);let h=new Xn(Bt);return Ry(e).X({range:l},(p,g,b)=>{const[C,D,R]=p,B=Fl(D);C===this.userId&&i.isPrefixOf(B)?B.length===r&&(h=h.add(R)):b.done()}).next(()=>this.Dn(e,h))}Dn(e,n){const i=[],r=[];return n.forEach(s=>{r.push(uh(e).get(s).next(l=>{if(null===l)throw lt();yt(l.userId===this.userId),i.push(qp(this.serializer,l))}))}),ue.waitFor(r).next(()=>i)}removeMutationBatch(e,n){return K3(e.ht,this.userId,n).next(i=>(e.addOnCommittedListener(()=>{this.Cn(n.batchId)}),ue.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return ue.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Ry(e).X({range:i},(s,l,h)=>{if(s[0]===this.userId){const p=Fl(s[1]);r.push(p)}else h.done()}).next(()=>{yt(0===r.length)})})}containsKey(e,n){return Z3(e,this.userId,n)}xn(e){return Q3(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Z3(t,e,n){const i=WA(e,n.path),r=i[1],s=IDBKeyRange.lowerBound(i);let l=!1;return Ry(t).X({range:s,Y:!0},(h,p,g)=>{const[b,C,D]=h;b===e&&C===r&&(l=!0),g.done()}).next(()=>l)}function uh(t){return Or(t,"mutations")}function Ry(t){return Or(t,"documentMutations")}function Q3(t){return Or(t,"mutationQueues")}class Zp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Zp(0)}static Mn(){return new Zp(-1)}}class eJ{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.$n(e).next(n=>{const i=new Zp(n.highestTargetId);return n.highestTargetId=i.next(),this.On(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(n=>vt.fromTimestamp(new ri(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=n,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),n>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=n),this.On(e,r)))}addTargetData(e,n){return this.Fn(e,n).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(n,i),this.On(e,i))))}updateTargetData(e,n){return this.Fn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ky(e).delete(n.targetId)).next(()=>this.$n(e)).next(i=>(yt(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,n,i){let r=0;const s=[];return ky(e).X((l,h)=>{const p=Zx(h);p.sequenceNumber<=n&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(e,p)))}).next(()=>ue.waitFor(s)).next(()=>r)}forEachTarget(e,n){return ky(e).X((i,r)=>{const s=Zx(r);n(s)})}$n(e){return X3(e).get("targetGlobalKey").next(n=>(yt(null!==n),n))}On(e,n){return X3(e).put("targetGlobalKey",n)}Fn(e,n){return ky(e).put(F3(this.serializer,n))}Bn(e,n){let i=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,i=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(n=>n.targetCount)}getTargetData(e,n){const i=jp(n),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return ky(e).X({range:r,index:"queryTargetsIndex"},(l,h,p)=>{const g=Zx(h);Lx(n,g.target)&&(s=g,p.done())}).next(()=>s)}addMatchingKeys(e,n,i){const r=[],s=dh(e);return n.forEach(l=>{const h=bs(l.path);r.push(s.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,l))}),ue.waitFor(r)}removeMatchingKeys(e,n,i){const r=dh(e);return ue.forEach(n,s=>{const l=bs(s.path);return ue.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(e,i,s)])})}removeMatchingKeysForTargetId(e,n){const i=dh(e),r=IDBKeyRange.bound([n],[n+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,n){const i=IDBKeyRange.bound([n],[n+1],!1,!0),r=dh(e);let s=Wt();return r.X({range:i,Y:!0},(l,h,p)=>{const g=Fl(l[1]),b=new Qe(g);s=s.add(b)}).next(()=>s)}containsKey(e,n){const i=bs(n.path),r=IDBKeyRange.bound([i],[uG(i)],!1,!0);let s=0;return dh(e).X({index:"documentTargetsIndex",Y:!0,range:r},([l,h],p,g)=>{0!==l&&(s++,g.done())}).next(()=>s>0)}le(e,n){return ky(e).get(n).next(i=>i?Zx(i):null)}}function ky(t){return Or(t,"targets")}function X3(t){return Or(t,"targetGlobal")}function dh(t){return Or(t,"targetDocuments")}function J3([t,e],[n,i]){const r=Bt(t,n);return 0===r?Bt(e,i):r}class tJ{constructor(e){this.Ln=e,this.buffer=new Xn(J3),this.qn=0}Un(){return++this.qn}Kn(e){const n=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();J3(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class e4{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var n=this;ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Q.Z)(function*(){n.Gn=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(i){eh(i)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Jd(i)}yield n.Qn(3e5)}))}}class nJ{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.zn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(0===n)return ue.resolve(Oo.ct);const i=new tJ(n);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.jn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(Y3)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y3):this.Hn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,n){let i,r,s,l,h,p,g;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),r=this.params.maximumSequenceNumbersToCollect):r=C,l=Date.now(),this.nthSequenceNumber(e,r))).next(C=>(i=C,h=Date.now(),this.removeTargets(e,i,n))).next(C=>(s=C,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(C=>(g=Date.now(),qP()<=pr.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-b}ms\n\tDetermined least recently used ${r} in `+(h-l)+`ms\n\tRemoved ${s} targets in `+(p-h)+`ms\n\tRemoved ${C} documents in `+(g-p)+`ms\nTotal Duration: ${g-b}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:C})))}}class iJ{constructor(e,n){this.db=e,this.garbageCollector=function t4(t,e){return new nJ(t,e)}(this,n)}zn(e){const n=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}Jn(e){let n=0;return this.Wn(e,i=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Wn(e,n){return this.Yn(e,(i,r)=>n(r))}addReference(e,n,i){return mT(e,i)}removeReference(e,n,i){return mT(e,i)}removeTargets(e,n,i){return this.db.getTargetCache().removeTargets(e,n,i)}markPotentiallyOrphaned(e,n){return mT(e,n)}Xn(e,n){return function(i,r){let s=!1;return Q3(i).Z(l=>Z3(i,l,r).next(h=>(h&&(s=!0),ue.resolve(!h)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Yn(e,(l,h)=>{if(h<=n){const p=this.Xn(e,l).next(g=>{if(!g)return s++,i.getEntry(e,l).next(()=>(i.removeEntry(l,vt.min()),dh(e).delete([0,bs(l.path)])))});r.push(p)}}).next(()=>ue.waitFor(r)).next(()=>i.apply(e)).next(()=>s)}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,n){return mT(e,n)}Yn(e,n){const i=dh(e);let r,s=Oo.ct;return i.X({index:"documentTargetsIndex"},([l,h],{path:p,sequenceNumber:g})=>{0===l?(s!==Oo.ct&&n(new Qe(Fl(r)),s),s=g,r=p):s=Oo.ct}).next(()=>{s!==Oo.ct&&n(new Qe(Fl(r)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mT(t,e){return dh(t).put((i=t.currentSequenceNumber,{targetId:0,path:bs(e.path),sequenceNumber:i}));var i}class n4{constructor(){this.changes=new uu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return void 0!==i?ue.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class rJ{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,i){return Qp(e).put(i)}removeEntry(e,n,i){return Qp(e).delete(function(r,s){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],lT(s),l[l.length-1]]}(n,i))}updateMetadata(e,n){return this.getMetadata(e).next(i=>(i.byteSize+=n,this.Zn(e,i)))}getEntry(e,n){let i=Jn.newInvalidDocument(n);return Qp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(tE(n))},(r,s)=>{i=this.ts(n,s)}).next(()=>i)}es(e,n){let i={size:0,document:Jn.newInvalidDocument(n)};return Qp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(tE(n))},(r,s)=>{i={document:this.ts(n,s),size:fT(s)}}).next(()=>i)}getEntries(e,n){let i=Js();return this.ns(e,n,(r,s)=>{const l=this.ts(r,s);i=i.insert(r,l)}).next(()=>i)}ss(e,n){let i=Js(),r=new Un(Qe.comparator);return this.ns(e,n,(s,l)=>{const h=this.ts(s,l);i=i.insert(s,h),r=r.insert(s,fT(l))}).next(()=>({documents:i,rs:r}))}ns(e,n,i){if(n.isEmpty())return ue.resolve();let r=new Xn(o4);n.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(tE(r.first()),tE(r.last())),l=r.getIterator();let h=l.getNext();return Qp(e).X({index:"documentKeyIndex",range:s},(p,g,b)=>{const C=Qe.fromSegments([...g.prefixPath,g.collectionGroup,g.documentId]);for(;h&&o4(h,C)<0;)i(h,null),h=l.getNext();h&&h.isEqual(C)&&(i(h,g),h=l.hasNext()?l.getNext():null),h?b.G(tE(h)):b.done()}).next(()=>{for(;h;)i(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,n,i,r){const s=n.path,l=[s.popLast().toArray(),s.lastSegment(),lT(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qp(e).j(IDBKeyRange.bound(l,h,!0)).next(p=>{let g=Js();for(const b of p){const C=this.ts(Qe.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);C.isFoundDocument()&&(Vx(n,C)||r.has(C.key))&&(g=g.insert(C.key,C))}return g})}getAllFromCollectionGroup(e,n,i,r){let s=Js();const l=s4(n,i),h=s4(n,ko.max());return Qp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,h,!0)},(p,g,b)=>{const C=this.ts(Qe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);s=s.insert(C.key,C),s.size===r&&b.done()}).next(()=>s)}newChangeBuffer(e){return new sJ(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return r4(e).get("remoteDocumentGlobalKey").next(n=>(yt(!!n),n))}Zn(e,n){return r4(e).put("remoteDocumentGlobalKey",n)}ts(e,n){if(n){const i=function $X(t,e){let n;if(e.document)n=A3(t.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Qe.fromSegments(e.noDocument.path),r=Wp(e.noDocument.readTime);n=Jn.newNoDocument(i,r),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return lt();{const i=Qe.fromSegments(e.unknownDocument.path),r=Wp(e.unknownDocument.version);n=Jn.newUnknownDocument(i,r)}}return e.readTime&&n.setReadTime(function(i){const r=new ri(i[0],i[1]);return vt.fromTimestamp(r)}(e.readTime)),n}(this.serializer,n);if(!i.isNoDocument()||!i.version.isEqual(vt.min()))return i}return Jn.newInvalidDocument(e)}}function i4(t){return new rJ(t)}class sJ extends n4{constructor(e,n){super(),this.os=e,this.trackRemovals=n,this.us=new uu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const n=[];let i=0,r=new Xn((s,l)=>Bt(s.canonicalString(),l.canonicalString()));return this.changes.forEach((s,l)=>{const h=this.us.get(s);if(n.push(this.os.removeEntry(e,s,h.readTime)),l.isValidDocument()){const p=P3(this.os.serializer,l);r=r.add(s.path.popLast());const g=fT(p);i+=g-h.size,n.push(this.os.addEntry(e,s,p))}else if(i-=h.size,this.trackRemovals){const p=P3(this.os.serializer,l.convertToNoDocument(vt.min()));n.push(this.os.addEntry(e,s,p))}}),r.forEach(s=>{n.push(this.os.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.os.updateMetadata(e,i)),ue.waitFor(n)}getFromCache(e,n){return this.os.es(e,n).next(i=>(this.us.set(n,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,n){return this.os.ss(e,n).next(({documents:i,rs:r})=>(r.forEach((s,l)=>{this.us.set(s,{size:l,readTime:i.get(s).readTime})}),i))}}function r4(t){return Or(t,"remoteDocumentGlobal")}function Qp(t){return Or(t,"remoteDocumentsV14")}function tE(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function s4(t,e){const n=e.documentKey.path.toArray();return[t,lT(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function o4(t,e){const n=t.path.toArray(),i=e.path.toArray();let r=0;for(let s=0;s<n.length-2&&s<i.length-2;++s)if(r=Bt(n[s],i[s]),r)return r;return r=Bt(n.length,i.length),r||(r=Bt(n[n.length-2],i[i.length-2]),r||Bt(n[n.length-1],i[i.length-1]))}class oJ{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class a4{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(null!==i&&Hx(i.mutation,r,Xs.empty(),ri.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Wt()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Wt()){const r=Bl();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let l=Ux();return s.forEach((h,p)=>{l=l.insert(h,p.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const i=Bl();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Wt()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,i,r){let s=Js();const l=jx(),h=jx();return n.forEach((p,g)=>{const b=i.get(g.key);r.has(g.key)&&(void 0===b||b.mutation instanceof du)?s=s.insert(g.key,g):void 0!==b?(l.set(g.key,b.mutation.getFieldMask()),Hx(b.mutation,g,b.mutation.getFieldMask(),ri.now())):l.set(g.key,Xs.empty())}),this.recalculateAndSaveOverlays(e,s).next(p=>(p.forEach((g,b)=>l.set(g,b)),n.forEach((g,b)=>{var C;return h.set(g,new oJ(b,null!==(C=l.get(g))&&void 0!==C?C:null))}),h))}recalculateAndSaveOverlays(e,n){const i=jx();let r=new Un((l,h)=>l-h),s=Wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(p=>{const g=n.get(p);if(null===g)return;let b=i.get(p)||Xs.empty();b=h.applyToLocalView(g,b),i.set(p,b);const C=(r.get(h.batchId)||Wt()).add(p);r=r.insert(h.batchId,C)})}).next(()=>{const l=[],h=r.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),g=p.key,b=p.value,C=XG();b.forEach(D=>{if(!s.has(D)){const R=l3(n.get(D),i.get(D));null!==R&&C.set(D,R),s=s.add(D)}}),l.push(this.documentOverlayCache.saveOverlays(e,g,C))}return ue.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i){return Qe.isDocumentKey((r=n).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):aF(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i):this.getDocumentsMatchingCollectionQuery(e,n,i);var r}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const l=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):ue.resolve(Bl());let h=-1,p=s;return l.next(g=>ue.forEach(g,(b,C)=>(h<C.largestBatchId&&(h=C.largestBatchId),s.get(b)?ue.resolve():this.remoteDocumentCache.getEntry(e,b).next(D=>{p=p.insert(b,D)}))).next(()=>this.populateOverlays(e,g,s)).next(()=>this.computeViews(e,p,g,Wt())).next(b=>({batchId:h,changes:QG(b)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Qe(n)).next(i=>{let r=Ux();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i){const r=n.collectionGroup;let s=Ux();return this.indexManager.getCollectionParents(e,r).next(l=>ue.forEach(l,h=>{const p=(g=n,b=h.child(r),new cu(b,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt));var g,b;return this.getDocumentsMatchingCollectionQuery(e,p,i).next(g=>{g.forEach((b,C)=>{s=s.insert(b,C)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(s=>(r=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,r))).next(s=>{r.forEach((h,p)=>{const g=p.getKey();null===s.get(g)&&(s=s.insert(g,Jn.newInvalidDocument(g)))});let l=Ux();return s.forEach((h,p)=>{const g=r.get(h);void 0!==g&&Hx(g.mutation,p,Xs.empty(),ri.now()),Vx(n,p)&&(l=l.insert(h,p))}),l})}}class aJ{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return ue.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var i;return this.cs.set(n.id,{id:(i=n).id,version:i.version,createTime:Ui(i.createTime)}),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(i=n).name,query:xF(i.bundledQuery),readTime:Ui(i.readTime)}),ue.resolve();var i}}class lJ{constructor(){this.overlays=new Un(Qe.comparator),this.ls=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Bl();return ue.forEach(n,r=>this.getOverlay(e,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.we(e,n,s)}),ue.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(i)),ue.resolve()}getOverlaysForCollection(e,n,i){const r=Bl(),s=n.length+1,l=new Qe(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const p=h.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return ue.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new Un((g,b)=>g-b);const l=this.overlays.getIterator();for(;l.hasNext();){const g=l.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>i){let b=s.get(g.largestBatchId);null===b&&(b=Bl(),s=s.insert(g.largestBatchId,b)),b.set(g.getKey(),g)}}const h=Bl(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,b)=>h.set(g,b)),!(h.size()>=r)););return ue.resolve(h)}we(e,n,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new pF(n,i));let s=this.ls.get(n);void 0===s&&(s=Wt(),this.ls.set(n,s)),this.ls.set(n,s.add(i.key))}}class TF{constructor(){this.fs=new Xn(Nr.ds),this.ws=new Xn(Nr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const i=new Nr(e,n);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.ys(new Nr(e,n))}ps(e,n){e.forEach(i=>this.removeReference(i,n))}Is(e){const n=new Qe(new un([])),i=new Nr(n,e),r=new Nr(n,e+1),s=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),s.push(l.key)}),s}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Qe(new un([])),i=new Nr(n,e),r=new Nr(n,e+1);let s=Wt();return this.ws.forEachInRange([i,r],l=>{s=s.add(l.key)}),s}containsKey(e){const n=new Nr(e,0),i=this.fs.firstAfterOrEqual(n);return null!==i&&e.isEqual(i.key)}}class Nr{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Qe.comparator(e.key,n.key)||Bt(e.As,n.As)}static _s(e,n){return Bt(e.As,n.As)||Qe.comparator(e.key,n.key)}}class cJ{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Xn(Nr.ds)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,i,r){const s=this.vs;this.vs++;const l=new hF(s,n,i,r);this.mutationQueue.push(l);for(const h of r)this.Rs=this.Rs.add(new Nr(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ue.resolve(l)}lookupMutationBatch(e,n){return ue.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=this.bs(n+1),s=r<0?0:r;return ue.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Nr(n,0),r=new Nr(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([i,r],l=>{const h=this.Ps(l.As);s.push(h)}),ue.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Xn(Bt);return n.forEach(r=>{const s=new Nr(r,0),l=new Nr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,l],h=>{i=i.add(h.As)})}),ue.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;Qe.isDocumentKey(s)||(s=s.child(""));const l=new Nr(new Qe(s),0);let h=new Xn(Bt);return this.Rs.forEachWhile(p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===r&&(h=h.add(p.As)),!0)},l),ue.resolve(this.Vs(h))}Vs(e){const n=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&n.push(r)}),n}removeMutationBatch(e,n){yt(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ue.forEach(n.mutations,r=>{const s=new Nr(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,n){const i=new Nr(n,0),r=this.Rs.firstAfterOrEqual(i);return ue.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return ue.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class uJ{constructor(e){this.Ds=e,this.docs=new Un(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,l=this.Ds(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ue.resolve(i?i.document.mutableCopy():Jn.newInvalidDocument(n))}getEntries(e,n){let i=Js();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Jn.newInvalidDocument(r))}),ue.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=Js();const l=n.path,h=new Qe(l.child("")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:g,value:{document:b}}=p.getNext();if(!l.isPrefixOf(g.path))break;g.path.length>l.length+1||ZP(hG(b),i)<=0||(r.has(b.key)||Vx(n,b))&&(s=s.insert(b.key,b.mutableCopy()))}return ue.resolve(s)}getAllFromCollectionGroup(e,n,i,r){lt()}Cs(e,n){return ue.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new dJ(this)}getSize(e){return ue.resolve(this.size)}}class dJ extends n4{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),ue.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class hJ{constructor(e){this.persistence=e,this.xs=new uu(n=>jp(n),Lx),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new TF,this.targetCount=0,this.Ms=Zp.kn()}forEachTarget(e,n){return this.xs.forEach((i,r)=>n(r)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Ns&&(this.Ns=n),ue.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new Zp(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Fn(n),ue.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.xs.forEach((l,h)=>{h.sequenceNumber<=n&&null===i.get(h.targetId)&&(this.xs.delete(l),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),ue.waitFor(s).next(()=>r)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const i=this.xs.get(n)||null;return ue.resolve(i)}addMatchingKeys(e,n,i){return this.ks.gs(n,i),ue.resolve()}removeMatchingKeys(e,n,i){this.ks.ps(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(l=>{s.push(r.markPotentiallyOrphaned(e,l))}),ue.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ks.Es(n);return ue.resolve(i)}containsKey(e,n){return ue.resolve(this.ks.containsKey(n))}}class MF{constructor(e,n){this.$s={},this.overlays={},this.Os=new Oo(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new hJ(this),this.indexManager=new XX,this.remoteDocumentCache=new uJ(i=>this.referenceDelegate.Ls(i)),this.serializer=new N3(n),this.qs=new aJ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new lJ,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.$s[e.toKey()];return i||(i=new cJ(n,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,i){ze("MemoryPersistence","Starting transaction:",e);const r=new fJ(this.Os.next());return this.referenceDelegate.Us(),i(r).next(s=>this.referenceDelegate.Ks(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Gs(e,n){return ue.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,n)))}}class fJ extends pG{constructor(e){super(),this.currentSequenceNumber=e}}class gT{constructor(e){this.persistence=e,this.Qs=new TF,this.js=null}static zs(e){return new gT(e)}get Ws(){if(this.js)return this.js;throw lt()}addReference(e,n,i){return this.Qs.addReference(i,n),this.Ws.delete(i.toString()),ue.resolve()}removeReference(e,n,i){return this.Qs.removeReference(i,n),this.Ws.add(i.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Ws.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ws,i=>{const r=Qe.fromPath(i);return this.Hs(e,r).next(s=>{s||n.removeEntry(r,vt.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(i=>{i?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return ue.or([()=>ue.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class pJ{constructor(e){this.serializer=e}O(e,n,i,r){const s=new GA("createOrUpgrade",n);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yG,{unique:!0}),h.createObjectStore("documentMutations"),l4(e),function(h){h.createObjectStore("remoteDocuments")}(e));let l=ue.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),l4(e)),l=l.next(()=>function(h){const p=h.store("targetGlobal"),g={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:vt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",g)}(s))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(h,p){return p.store("mutations").j().next(g=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",yG,{unique:!0});const b=p.store("mutations"),C=g.map(D=>b.put(D));return ue.waitFor(C)})}(e,s))),l=l.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(l=l.next(()=>this.Ys(s))),i<6&&r>=6&&(l=l.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(s)))),i<7&&r>=7&&(l=l.next(()=>this.Zs(s))),i<8&&r>=8&&(l=l.next(()=>this.ti(e,s))),i<9&&r>=9&&(l=l.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(l=l.next(()=>this.ei(s))),i<11&&r>=11&&(l=l.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(l=l.next(()=>{!function(h){const p=h.createObjectStore("documentOverlays",{keyPath:XQ});p.createIndex("collectionPathOverlayIndex",JQ,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",eX,{unique:!1})}(e)})),i<13&&r>=13&&(l=l.next(()=>function(h){const p=h.createObjectStore("remoteDocumentsV14",{keyPath:jQ});p.createIndex("documentKeyIndex",zQ),p.createIndex("collectionGroupIndex",HQ)}(e)).next(()=>this.ni(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.si(e,s))),i<15&&r>=15&&(l=l.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:YQ}).createIndex("sequenceNumberIndex",KQ,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:ZQ}).createIndex("documentKeyIndex",QQ,{unique:!1})}(e))),l}Xs(e){let n=0;return e.store("remoteDocuments").X((i,r)=>{n+=fT(r)}).next(()=>{const i={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const n=e.store("mutationQueues"),i=e.store("mutations");return n.j().next(r=>ue.forEach(r,s=>{const l=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",l).next(h=>ue.forEach(h,p=>{yt(p.userId===s.userId);const g=qp(this.serializer,p);return K3(e,s.userId,g).next(()=>{})}))}))}Zs(e){const n=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.X((l,h)=>{const p=new un(l),g=[0,bs(p)];s.push(n.get(g).next(b=>b?ue.resolve():n.put({targetId:0,path:bs(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ue.waitFor(s))})}ti(e,n){e.createObjectStore("collectionParents",{keyPath:qQ});const i=n.store("collectionParents"),r=new AF,s=l=>{if(r.add(l)){const h=l.lastSegment(),p=l.popLast();return i.put({collectionId:h,parent:bs(p)})}};return n.store("remoteDocuments").X({Y:!0},(l,h)=>{const p=new un(l);return s(p.popLast())}).next(()=>n.store("documentMutations").X({Y:!0},([l,h,p],g)=>{const b=Fl(h);return s(b.popLast())}))}ei(e){const n=e.store("targets");return n.X((i,r)=>{const s=Zx(r),l=F3(this.serializer,s);return n.put(l)})}ni(e,n){const i=n.store("remoteDocuments"),r=[];return i.X((s,l)=>{const h=n.store("remoteDocumentsV14"),p=(g=l,g.document?new Qe(un.fromString(g.document.name).popFirst(5)):g.noDocument?Qe.fromSegments(g.noDocument.path):g.unknownDocument?Qe.fromSegments(g.unknownDocument.path):lt()).path.toArray();var g;const b={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(h.put(b))}).next(()=>ue.waitFor(r))}si(e,n){const i=n.store("mutations"),r=i4(this.serializer),s=new MF(gT.zs,this.serializer.fe);return i.j().next(l=>{const h=new Map;return l.forEach(p=>{var g;let b=null!==(g=h.get(p.userId))&&void 0!==g?g:Wt();qp(this.serializer,p).keys().forEach(C=>b=b.add(C)),h.set(p.userId,b)}),ue.forEach(h,(p,g)=>{const b=new kr(g),C=cT.de(this.serializer,b),D=s.getIndexManager(b),R=pT.de(b,this.serializer,D,s.referenceDelegate);return new a4(r,R,C,D).recalculateAndSaveOverlaysForDocumentKeys(new JP(n,Oo.ct),p).next()})})}}function l4(t){t.createObjectStore("targetDocuments",{keyPath:GQ}).createIndex("documentTargetsIndex",WQ,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$Q,{unique:!0}),t.createObjectStore("targetGlobal")}const RF="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class kF{constructor(e,n,i,r,s,l,h,p,g,b,C=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=i,this.ii=s,this.window=l,this.document=h,this.ri=g,this.oi=b,this.ui=C,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=D=>Promise.resolve(),!kF.D())throw new Oe(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new iJ(this,r),this.di=n+"main",this.serializer=new N3(p),this.wi=new Ka(this.di,this.ui,new pJ(this.serializer)),this.Bs=new eJ(this.referenceDelegate,this.serializer),this.remoteDocumentCache=i4(this.serializer),this.qs=new GX,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===b&&Vi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,RF);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Oo(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var n=this;return this.fi=function(){var i=(0,Q.Z)(function*(r){if(n.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var n=(0,Q.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Q.Z)(function*(){n.started&&(yield n.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yT(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(n=>{n||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(n=>this.isPrimary&&!n?this.Ai(e).next(()=>!1):!!n&&this.vi(e).next(()=>!0))).catch(e=>{if(eh(e))return ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return nE(e).get("owner").next(n=>ue.resolve(this.Ri(n)))}Pi(e){return yT(e).delete(this.clientId)}bi(){var e=this;return(0,Q.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Or(i,"clientMetadata");return r.j().next(s=>{const l=e.Si(s,18e5),h=s.filter(p=>-1===l.indexOf(p));return ue.forEach(h,p=>r.delete(p.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const i of n)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ue.resolve(!0):nE(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)){if(this.Ri(n)&&this.networkEnabled)return!0;if(!this.Ri(n)){if(!n.allowTabSynchronization)throw new Oe(me.FAILED_PRECONDITION,RF);return!1}}return!(!this.networkEnabled||!this.inForeground)||yT(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(n=>(this.isPrimary!==n&&ze("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,Q.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const i=new JP(n,Oo.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,n){return e.filter(i=>this.Vi(i.updateTimeMs,n)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>yT(e).j().next(n=>this.Si(n,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,n){return pT.de(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new JX(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return cT.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,n,i){ze("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===n?"readonly":"readwrite",s=15===(l=this.ui)?nX:14===l?xG:13===l?wG:12===l?tX:11===l?bG:void lt();var l;let h;return this.wi.runTransaction(e,r,s,p=>(h=new JP(p,this.Os?this.Os.next():Oo.ct),"readwrite-primary"===n?this.Ti(h).next(g=>!!g||this.Ei(h)).next(g=>{if(!g)throw Vi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Oe(me.FAILED_PRECONDITION,fG);return i(h)}).next(g=>this.vi(h).next(()=>g)):this.Oi(h).next(()=>i(h)))).then(p=>(h.raiseOnCommittedEvent(),p))}Oi(e){return nE(e).get("owner").next(n=>{if(null!==n&&this.Vi(n.leaseTimestampMs,5e3)&&!this.Ci(n.ownerId)&&!this.Ri(n)&&!(this.oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Oe(me.FAILED_PRECONDITION,RF)})}vi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nE(e).put("owner",n)}static D(){return Ka.D()}Ai(e){const n=nE(e);return n.get("owner").next(i=>this.Ri(i)?(ze("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ue.resolve())}Vi(e,n){const i=Date.now();return!(e<i-n||e>i&&(Vi(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;(0,$.G6)()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var n;try{const i=null!==(null===(n=this._i)||void 0===n?void 0:n.getItem(this.Di(e)));return ze("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Vi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){Vi("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nE(t){return Or(t,"owner")}function yT(t){return Or(t,"clientMetadata")}function OF(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class NF{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.Fi=i,this.Bi=r}static Li(e,n){let i=Wt(),r=Wt();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new NF(e,n.fromCache,i,r)}}class c4{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,i,r){return this.Ki(e,n).next(s=>s||this.Gi(e,n,r,i)).next(s=>s||this.Qi(e,n))}Ki(e,n){if(WG(n))return ue.resolve(null);let i=Ns(n);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==n.limit&&1===r&&(n=nT(n,null,"F"),i=Ns(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const l=Wt(...s);return this.Ui.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const g=this.ji(n,h);return this.zi(n,g,l,p.readTime)?this.Ki(e,nT(n,null,"F")):this.Wi(e,g,n,p)}))})))}Gi(e,n,i,r){return WG(n)||r.isEqual(vt.min())?this.Qi(e,n):this.Ui.getDocuments(e,i).next(s=>{const l=this.ji(n,s);return this.zi(n,l,i,r)?this.Qi(e,n):(qP()<=pr.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),cF(n)),this.Wi(e,l,n,dG(r,-1)))})}ji(e,n){let i=new Xn(KG(e));return n.forEach((r,s)=>{Vx(e,s)&&(i=i.add(s))}),i}zi(e,n,i,r){if(null===e.limit)return!1;if(i.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Qi(e,n){return qP()<=pr.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",cF(n)),this.Ui.getDocumentsMatchingQuery(e,n,ko.min())}Wi(e,n,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(l=>{s=s.insert(l.key,l)}),s))}}class mJ{constructor(e,n,i,r){this.persistence=e,this.Hi=n,this.serializer=r,this.Ji=new Un(Bt),this.Yi=new uu(s=>jp(s),Lx),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a4(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function u4(t,e,n,i){return new mJ(t,e,n,i)}function d4(t,e){return PF.apply(this,arguments)}function PF(){return PF=(0,Q.Z)(function*(t,e){const n=nt(t);return yield n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.tr(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const l=[],h=[];let p=Wt();for(const g of r){l.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}for(const g of s){h.push(g.batchId);for(const b of g.mutations)p=p.add(b.key)}return n.localDocuments.getDocuments(i,p).next(g=>({er:g,removedBatchIds:l,addedBatchIds:h}))})})}),PF.apply(this,arguments)}function h4(t){const e=nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function f4(t,e,n){let i=Wt(),r=Wt();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let l=Js();return n.forEach((h,p)=>{const g=s.get(h);p.isFoundDocument()!==g.isFoundDocument()&&(r=r.add(h)),p.isNoDocument()&&p.version.isEqual(vt.min())?(e.removeEntry(h,p.readTime),l=l.insert(h,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||0===p.version.compareTo(g.version)&&g.hasPendingWrites?(e.addEntry(p),l=l.insert(h,p)):ze("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",p.version)}),{nr:l,sr:r}})}function yJ(t,e){const n=nt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Oy(t,e){const n=nt(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Bs.getTargetData(i,e).next(s=>s?(r=s,ue.resolve(r)):n.Bs.allocateTargetId(i).next(l=>(r=new hu(e,l,"TargetPurposeListen",i.currentSequenceNumber),n.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(i.targetId,i),n.Yi.set(e,i.targetId)),i})}function Ny(t,e,n){return FF.apply(this,arguments)}function FF(){return FF=(0,Q.Z)(function*(t,e,n){const i=nt(t),r=i.Ji.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield i.persistence.runTransaction("Release target",s,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!eh(l))throw l;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),FF.apply(this,arguments)}function vT(t,e,n){const i=nt(t);let r=vt.min(),s=Wt();return i.persistence.runTransaction("Execute query","readonly",l=>function(h,p,g){const b=nt(h),C=b.Yi.get(g);return void 0!==C?ue.resolve(b.Ji.get(C)):b.Bs.getTargetData(p,g)}(i,l,Ns(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,h.targetId).next(p=>{s=p})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,e,n?r:vt.min(),n?s:Wt())).next(h=>(g4(i,YG(e),h),{documents:h,ir:s})))}function p4(t,e){const n=nt(t),i=nt(n.Bs),r=n.Ji.get(e);return r?Promise.resolve(r.target):n.persistence.runTransaction("Get target data","readonly",s=>i.le(s,e).next(l=>l?l.target:null))}function m4(t,e){const n=nt(t),i=n.Xi.get(e)||vt.min();return n.persistence.runTransaction("Get new document changes","readonly",r=>n.Zi.getAllFromCollectionGroup(r,e,dG(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(g4(n,e,r),r))}function g4(t,e,n){let i=t.Xi.get(e)||vt.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.Xi.set(e,i)}function LF(){return LF=(0,Q.Z)(function*(t,e,n,i){const r=nt(t);let s=Wt(),l=Js();for(const g of n){const b=e.rr(g.metadata.name);g.document&&(s=s.add(b));const C=e.ur(g);C.setReadTime(e.cr(g.metadata.readTime)),l=l.insert(b,C)}const h=r.Zi.newChangeBuffer({trackRemovals:!0}),p=yield Oy(r,(g=i,Ns(Cy(un.fromString(`__bundle__/docs/${g}`)))));var g;return r.persistence.runTransaction("Apply bundle documents","readwrite",g=>f4(g,h,l).next(b=>(h.apply(g),b)).next(b=>r.Bs.removeMatchingKeysForTargetId(g,p.targetId).next(()=>r.Bs.addMatchingKeys(g,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(g,b.nr,b.sr)).next(()=>b.nr)))}),LF.apply(this,arguments)}function bJ(t,e){return BF.apply(this,arguments)}function BF(){return BF=(0,Q.Z)(function*(t,e,n=Wt()){const i=yield Oy(t,Ns(xF(e.bundledQuery))),r=nt(t);return r.persistence.runTransaction("Save named query","readwrite",s=>{const l=Ui(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.qs.saveNamedQuery(s,e);const h=i.withResumeToken(vr.EMPTY_BYTE_STRING,l);return r.Ji=r.Ji.insert(h.targetId,h),r.Bs.updateTargetData(s,h).next(()=>r.Bs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Bs.addMatchingKeys(s,n,i.targetId)).next(()=>r.qs.saveNamedQuery(s,e))})}),BF.apply(this,arguments)}function _4(t,e){return`firestore_clients_${t}_${e}`}function y4(t,e,n){let i=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function VF(t,e){return`firestore_targets_${t}_${e}`}class bT{constructor(e,n,i,r){this.user=e,this.batchId=n,this.state=i,this.error=r}static ar(e,n,i){const r=JSON.parse(i);let s,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(s=new Oe(r.error.code,r.error.message))),l?new bT(e,n,r.state,s):(Vi("SharedClientState",`Failed to parse mutation state for ID '${n}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class iE{constructor(e,n,i){this.targetId=e,this.state=n,this.error=i}static ar(e,n){const i=JSON.parse(n);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Oe(i.error.code,i.error.message))),s?new iE(e,i.state,r):(Vi("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wT{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static ar(e,n){const i=JSON.parse(n);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=uF();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=gG(i.activeTargetIds[l]),s=s.add(i.activeTargetIds[l]);return r?new wT(e,s):(Vi("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class UF{constructor(e,n){this.clientId=e,this.onlineState=n}static ar(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new UF(n.clientId,n.onlineState):(Vi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class jF{constructor(){this.activeTargetIds=uF()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zF{constructor(e,n,i,r,s){this.window=e,this.ii=n,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Un(Bt),this.started=!1,this.yr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.pr=_4(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new jF),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Q.Z)(function*(){const n=yield e.syncEngine.$i();for(const r of n){if(r===e.wr)continue;const s=e.getItem(_4(e.persistenceKey,r));if(s){const l=wT.ar(r,s);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let n=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,n,i){this.Dr(e,n,i),this.Cr(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(VF(this.persistenceKey,e));if(i){const r=iE.ar(e,i);r&&(n=r.state)}}return this.Nr.lr(e),this.Pr(),n}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(VF(this.persistenceKey,e))}updateQueryState(e,n,i){this.kr(e,n,i)}handleUserChange(e,n,i){n.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return ze("SharedClientState","READ",e,n),n}setItem(e,n){ze("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var n=this;const i=e;if(i.storageArea===this.storage){if(ze("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void Vi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Q.Z)(function*(){if(n.started){if(null!==i.key)if(n.Tr.test(i.key)){if(null==i.newValue){const r=n.Or(i.key);return n.Fr(r,null)}{const r=n.Br(i.key,i.newValue);if(r)return n.Fr(r.clientId,r)}}else if(n.Er.test(i.key)){if(null!==i.newValue){const r=n.Lr(i.key,i.newValue);if(r)return n.qr(r)}}else if(n.Ar.test(i.key)){if(null!==i.newValue){const r=n.Ur(i.key,i.newValue);if(r)return n.Kr(r)}}else if(i.key===n.vr){if(null!==i.newValue){const r=n.br(i.newValue);if(r)return n.Vr(r)}}else if(i.key===n.Ir){const r=function(s){let l=Oo.ct;if(null!=s)try{const h=JSON.parse(s);yt("number"==typeof h),l=h}catch(h){Vi("SharedClientState","Failed to read sequence number from WebStorage",h)}return l}(i.newValue);r!==Oo.ct&&n.sequenceNumberHandler(r)}else if(i.key===n.Rr){const r=n.Gr(i.newValue);yield Promise.all(r.map(s=>n.syncEngine.Qr(s)))}}else n.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,n,i){const r=new bT(this.currentUser,e,n,i),s=y4(this.persistenceKey,this.currentUser,e);this.setItem(s,r.hr())}Cr(e){const n=y4(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,n,i){const r=VF(this.persistenceKey,e),s=new iE(e,n,i);this.setItem(r,s.hr())}$r(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Rr,n)}Or(e){const n=this.Tr.exec(e);return n?n[1]:null}Br(e,n){const i=this.Or(e);return wT.ar(i,n)}Lr(e,n){const i=this.Er.exec(e),r=Number(i[1]);return bT.ar(new kr(void 0!==i[2]?i[2]:null),r,n)}Ur(e,n){const i=this.Ar.exec(e),r=Number(i[1]);return iE.ar(r,n)}br(e){return UF.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var n=this;return(0,Q.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.jr(e.batchId,e.state,e.error);ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,n){const i=n?this.gr.insert(e,n):this.gr.remove(e),r=this.Sr(this.gr),s=this.Sr(i),l=[],h=[];return s.forEach(p=>{r.has(p)||l.push(p)}),r.forEach(p=>{s.has(p)||h.push(p)}),this.syncEngine.Wr(l,h).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let n=uF();return e.forEach((i,r)=>{n=n.unionWith(r.activeTargetIds)}),n}}class v4{constructor(){this.Hr=new jF,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,i){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new jF,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wJ{Yr(e){}shutdown(){}}class b4{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let xT=null;function HF(){return null===xT?xT=268435456+Math.round(2147483648*Math.random()):xT++,"0x"+xT.toString(16)}const xJ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class EJ{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const xs="WebChannelConnection";class CJ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,i,r,s){const l=HF(),h=this.To(e,n);ze("RestConnection",`Sending RPC '${e}' ${l}:`,h,i);const p={};return this.Eo(p,r,s),this.Ao(e,h,p,i).then(g=>(ze("RestConnection",`Received RPC '${e}' ${l}: `,g),g),g=>{throw pa("RestConnection",`RPC '${e}' ${l} failed with error: `,g,"url: ",h,"request:",i),g})}vo(e,n,i,r,s,l){return this.Io(e,n,i,r,s)}Eo(e,n,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+yy,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,s)=>e[s]=r),i&&i.headers.forEach((r,s)=>e[s]=r)}To(e,n){return`${this.mo}/v1/${n}:${xJ[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,i,r){const s=HF();return new Promise((l,h)=>{const p=new wQ;p.setWithCredentials(!0),p.listenOnce(yQ.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case WP.NO_ERROR:const b=p.getResponseJson();ze(xs,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(b)),l(b);break;case WP.TIMEOUT:ze(xs,`RPC '${e}' ${s} timed out`),h(new Oe(me.DEADLINE_EXCEEDED,"Request time out"));break;case WP.HTTP_ERROR:const C=p.getStatus();if(ze(xs,`RPC '${e}' ${s} failed with status:`,C,"response text:",p.getResponseText()),C>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const R=D?.error;if(R&&R.status&&R.message){const B=function(G){const q=G.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(q)>=0?q:me.UNKNOWN}(R.status);h(new Oe(B,R.message))}else h(new Oe(me.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Oe(me.UNAVAILABLE,"Connection failed."));break;default:lt()}}finally{ze(xs,`RPC '${e}' ${s} completed.`)}});const g=JSON.stringify(r);ze(xs,`RPC '${e}' ${s} sending request:`,r),p.send(n,"POST",g,i,15)})}Ro(e,n,i){const r=HF(),s=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=gQ(),h=_Q(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;void 0!==g&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.xmlHttpFactory=new bQ({})),this.Eo(p.initMessageHeaders,n,i),p.encodeInitMessageHeaders=!0;const b=s.join("");ze(xs,`Creating RPC '${e}' stream ${r}: ${b}`,p);const C=l.createWebChannel(b,p);let D=!1,R=!1;const B=new EJ({ro:q=>{R?ze(xs,`Not sending because RPC '${e}' stream ${r} is closed:`,q):(D||(ze(xs,`Opening RPC '${e}' stream ${r} transport.`),C.open(),D=!0),ze(xs,`RPC '${e}' stream ${r} sending:`,q),C.send(q))},oo:()=>C.close()}),G=(q,le,De)=>{q.listen(le,Be=>{try{De(Be)}catch(Ve){setTimeout(()=>{throw Ve},0)}})};return G(C,zA.EventType.OPEN,()=>{R||ze(xs,`RPC '${e}' stream ${r} transport opened.`)}),G(C,zA.EventType.CLOSE,()=>{R||(R=!0,ze(xs,`RPC '${e}' stream ${r} transport closed`),B.wo())}),G(C,zA.EventType.ERROR,q=>{R||(R=!0,pa(xs,`RPC '${e}' stream ${r} transport errored:`,q),B.wo(new Oe(me.UNAVAILABLE,"The operation could not be completed")))}),G(C,zA.EventType.MESSAGE,q=>{var le;if(!R){const De=q.data[0];yt(!!De);const Ve=De.error||(null===(le=De[0])||void 0===le?void 0:le.error);if(Ve){ze(xs,`RPC '${e}' stream ${r} received error:`,Ve);const ft=Ve.status;let wt=function(ci){const is=Ji[ci];if(void 0!==is)return p3(is)}(ft),Zt=Ve.message;void 0===wt&&(wt=me.INTERNAL,Zt="Unknown error status: "+ft+" with message "+Ve.message),R=!0,B.wo(new Oe(wt,Zt)),C.close()}else ze(xs,`RPC '${e}' stream ${r} received:`,De),B._o(De)}}),G(h,vQ.STAT_EVENT,q=>{q.stat===sG.PROXY?ze(xs,`RPC '${e}' stream ${r} detected buffering proxy`):q.stat===sG.NOPROXY&&ze(xs,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{B.fo()},0),B}}function w4(){return typeof window<"u"?window:null}function ET(){return typeof document<"u"?document:null}function rE(t){return new NX(t,!0)}class $F{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=i,this.bo=r,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,n-i);r>0&&ze("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class x4{constructor(e,n,i,r,s,l,h,p){this.ii=e,this.$o=i,this.Oo=r,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new $F(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Q.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Q.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var i=this;return(0,Q.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():n&&n.code===me.RESOURCE_EXHAUSTED?(Vi(n.toString()),Vi("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):n&&n.code===me.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===n&&this.Zo(i,r)},i=>{e(()=>{const r=new Oe(me.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,n){const i=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,Q.Z)(function*(){e.state=0,e.start()}))}tu(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IJ extends x4{constructor(e,n,i,r,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,l),this.serializer=s}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function LX(t,e){let n;if("targetChange"in e){const i="NO_CHANGE"===(p=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:lt(),r=e.targetChange.targetIds||[],s=function(p,g){return p.useProto3Json?(yt(void 0===g||"string"==typeof g),vr.fromBase64String(g||"")):(yt(void 0===g||g instanceof Uint8Array),vr.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(p){const g=void 0===p.code?me.UNKNOWN:p3(p.code);return new Oe(g,p.message||"")}(l);n=new v3(i,r,s,h||null)}else if("documentChange"in e){const i=e.documentChange,r=Vl(t,i.document.name),s=Ui(i.document.updateTime),l=i.document.createTime?Ui(i.document.createTime):vt.min(),h=new es({mapValue:{fields:i.document.fields}}),p=Jn.newFoundDocument(r,s,l,h);n=new aT(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in e){const i=e.documentDelete,r=Vl(t,i.document),s=i.readTime?Ui(i.readTime):vt.min(),l=Jn.newNoDocument(r,s);n=new aT([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=Vl(t,i.document);n=new aT([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return lt();{const i=e.filter,{count:r=0,unchangedNames:s}=i,l=new AX(r,s);n=new y3(i.targetId,l)}}var p;return n}(this.serializer,e),i=function(r){if(!("targetChange"in r))return vt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?vt.min():s.readTime?Ui(s.readTime):vt.min()}(e);return this.listener.nu(n,i)}su(e){const n={};n.database=Yx(this.serializer),n.addTarget=function(r,s){let l;const h=s.target;if(l=JA(h)?{documents:T3(r,h)}:{query:wF(r,h)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=E3(r,s.resumeToken);const p=_F(r,s.expectedCount);null!==p&&(l.expectedCount=p)}else if(s.snapshotVersion.compareTo(vt.min())>0){l.readTime=Ty(r,s.snapshotVersion.toTimestamp());const p=_F(r,s.expectedCount);null!==p&&(l.expectedCount=p)}return l}(this.serializer,e);const i=function VX(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return lt()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);i&&(n.labels=i),this.Wo(n)}iu(e){const n={};n.database=Yx(this.serializer),n.removeTarget=e,this.Wo(n)}}class SJ extends x4{constructor(e,n,i,r,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,l),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function BX(t,e){return t&&t.length>0?(yt(void 0!==e),t.map(n=>function(i,r){let s=Ui(i.updateTime?i.updateTime:r);return s.isEqual(vt.min())&&(s=Ui(r)),new CX(s,i.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),i=Ui(e.commitTime);return this.listener.cu(i,n)}return yt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Yx(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>Kx(this.serializer,i))};this.Wo(n)}}class DJ extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.connection.Io(e,n,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Oe(me.UNKNOWN,r.toString())})}vo(e,n,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.vo(e,n,i,s,l,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===me.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Oe(me.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class TJ{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(Vi(n),this.mu=!1):ze("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class MJ{constructor(e,n,i,r,s){var l=this;this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(h=>{i.enqueueAndForget((0,Q.Z)(function*(){var p;hh(l)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,Q.Z)(function*(g){const b=nt(g);b.vu.add(4),yield Py(b),b.bu.set("Unknown"),b.vu.delete(4),yield sE(b)}),function(g){return p.apply(this,arguments)})(l))}))}),this.bu=new TJ(i,r)}}function sE(t){return WF.apply(this,arguments)}function WF(){return WF=(0,Q.Z)(function*(t){if(hh(t))for(const e of t.Ru)yield e(!0)}),WF.apply(this,arguments)}function Py(t){return qF.apply(this,arguments)}function qF(){return qF=(0,Q.Z)(function*(t){for(const e of t.Ru)yield e(!1)}),qF.apply(this,arguments)}function CT(t,e){const n=nt(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),ZF(n)?KF(n):Ly(n).Ko()&&YF(n,e))}function oE(t,e){const n=nt(t),i=Ly(n);n.Au.delete(e),i.Ko()&&E4(n,e),0===n.Au.size&&(i.Ko()?i.jo():hh(n)&&n.bu.set("Unknown"))}function YF(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(vt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ly(t).su(e)}function E4(t,e){t.Vu.qt(e),Ly(t).iu(e)}function KF(t){t.Vu=new MX({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ly(t).start(),t.bu.gu()}function ZF(t){return hh(t)&&!Ly(t).Uo()&&t.Au.size>0}function hh(t){return 0===nt(t).vu.size}function C4(t){t.Vu=void 0}function RJ(t){return QF.apply(this,arguments)}function QF(){return QF=(0,Q.Z)(function*(t){t.Au.forEach((e,n)=>{YF(t,e)})}),QF.apply(this,arguments)}function kJ(t,e){return XF.apply(this,arguments)}function XF(){return XF=(0,Q.Z)(function*(t,e){C4(t),ZF(t)?(t.bu.Iu(e),KF(t)):t.bu.set("Unknown")}),XF.apply(this,arguments)}function OJ(t,e,n){return JF.apply(this,arguments)}function JF(){return JF=(0,Q.Z)(function*(t,e,n){if(t.bu.set("Online"),e instanceof v3&&2===e.state&&e.cause)try{yield(i=(0,Q.Z)(function*(r,s){const l=s.cause;for(const h of s.targetIds)r.Au.has(h)&&(yield r.remoteSyncer.rejectListen(h,l),r.Au.delete(h),r.Vu.removeTarget(h))}),function(r,s){return i.apply(this,arguments)})(t,e)}catch(i){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield IT(t,i)}else if(e instanceof aT?t.Vu.Ht(e):e instanceof y3?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(vt.min()))try{const i=yield h4(t.localStore);n.compareTo(i)>=0&&(yield function(r,s){const l=r.Vu.ce(s);return l.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=r.Au.get(p);g&&r.Au.set(p,g.withResumeToken(h.resumeToken,s))}}),l.targetMismatches.forEach((h,p)=>{const g=r.Au.get(h);if(!g)return;r.Au.set(h,g.withResumeToken(vr.EMPTY_BYTE_STRING,g.snapshotVersion)),E4(r,h);const b=new hu(g.target,h,p,g.sequenceNumber);YF(r,b)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n))}catch(i){ze("RemoteStore","Failed to raise snapshot:",i),yield IT(t,i)}var i}),JF.apply(this,arguments)}function IT(t,e,n){return eL.apply(this,arguments)}function eL(){return eL=(0,Q.Z)(function*(t,e,n){if(!eh(e))throw e;t.vu.add(1),yield Py(t),t.bu.set("Offline"),n||(n=()=>h4(t.localStore)),t.asyncQueue.enqueueRetryable((0,Q.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield sE(t)}))}),eL.apply(this,arguments)}function I4(t,e){return e().catch(n=>IT(t,n,e))}function Fy(t){return tL.apply(this,arguments)}function tL(){return tL=(0,Q.Z)(function*(t){const e=nt(t),n=fh(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;NJ(e);)try{const r=yield yJ(e.localStore,i);if(null===r){0===e.Eu.length&&n.jo();break}i=r.batchId,PJ(e,r)}catch(r){yield IT(e,r)}S4(e)&&D4(e)}),tL.apply(this,arguments)}function NJ(t){return hh(t)&&t.Eu.length<10}function PJ(t,e){t.Eu.push(e);const n=fh(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function S4(t){return hh(t)&&!fh(t).Uo()&&t.Eu.length>0}function D4(t){fh(t).start()}function FJ(t){return nL.apply(this,arguments)}function nL(){return nL=(0,Q.Z)(function*(t){fh(t).hu()}),nL.apply(this,arguments)}function LJ(t){return iL.apply(this,arguments)}function iL(){return iL=(0,Q.Z)(function*(t){const e=fh(t);for(const n of t.Eu)e.uu(n.mutations)}),iL.apply(this,arguments)}function BJ(t,e,n){return rL.apply(this,arguments)}function rL(){return rL=(0,Q.Z)(function*(t,e,n){const i=t.Eu.shift(),r=fF.from(i,e,n);yield I4(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),yield Fy(t)}),rL.apply(this,arguments)}function VJ(t,e){return sL.apply(this,arguments)}function sL(){return sL=(0,Q.Z)(function*(t,e){var n;e&&fh(t).ou&&(yield(n=(0,Q.Z)(function*(i,r){if(f3(s=r.code)&&s!==me.ABORTED){const l=i.Eu.shift();fh(i).Qo(),yield I4(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield Fy(i)}var s}),function(i,r){return n.apply(this,arguments)})(t,e)),S4(t)&&D4(t)}),sL.apply(this,arguments)}function A4(t,e){return oL.apply(this,arguments)}function oL(){return oL=(0,Q.Z)(function*(t,e){const n=nt(t);n.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const i=hh(n);n.vu.add(3),yield Py(n),i&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield sE(n)}),oL.apply(this,arguments)}function aL(t,e){return lL.apply(this,arguments)}function lL(){return lL=(0,Q.Z)(function*(t,e){const n=nt(t);e?(n.vu.delete(2),yield sE(n)):e||(n.vu.add(2),yield Py(n),n.bu.set("Unknown"))}),lL.apply(this,arguments)}function Ly(t){return t.Su||(t.Su=function(e,n,i){const r=nt(e);return r.fu(),new IJ(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{uo:RJ.bind(null,t),ao:kJ.bind(null,t),nu:OJ.bind(null,t)}),t.Ru.push(function(){var e=(0,Q.Z)(function*(n){n?(t.Su.Qo(),ZF(t)?KF(t):t.bu.set("Unknown")):(yield t.Su.stop(),C4(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function fh(t){return t.Du||(t.Du=function(e,n,i){const r=nt(e);return r.fu(),new SJ(n,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{uo:FJ.bind(null,t),ao:VJ.bind(null,t),au:LJ.bind(null,t),cu:BJ.bind(null,t)}),t.Ru.push(function(){var e=(0,Q.Z)(function*(n){n?(t.Du.Qo(),yield Fy(t)):(yield t.Du.stop(),t.Eu.length>0&&(ze("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class cL{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new yr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,n,i,r,s){const l=Date.now()+i,h=new cL(e,n,l,r,s);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oe(me.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function By(t,e){if(Vi("AsyncQueue",`${e}: ${t}`),eh(t))return new Oe(me.UNAVAILABLE,`${e}: ${t}`);throw t}class Vy{constructor(e){this.comparator=e?(n,i)=>e(n,i)||Qe.comparator(n.key,i.key):(n,i)=>Qe.comparator(n.key,i.key),this.keyedMap=Ux(),this.sortedSet=new Un(this.comparator)}static emptySet(e){return new Vy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vy)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const i=new Vy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}class T4{constructor(){this.Cu=new Un(Qe.comparator)}track(e){const n=e.doc.key,i=this.Cu.get(n);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(n,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(n):1===e.type&&2===i.type?this.Cu=this.Cu.insert(n,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):lt():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,i)=>{e.push(i)}),e}}class Uy{constructor(e,n,i,r,s,l,h,p,g){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,i,r,s){const l=[];return n.forEach(h=>{l.push({type:0,doc:h})}),new Uy(e,n,Vy.emptySet(n),l,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bx(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}class UJ{constructor(){this.Nu=void 0,this.listeners=[]}}class jJ{constructor(){this.queries=new uu(e=>qG(e),Bx),this.onlineState="Unknown",this.ku=new Set}}function uL(t,e){return dL.apply(this,arguments)}function dL(){return dL=(0,Q.Z)(function*(t,e){const n=nt(t),i=e.query;let r=!1,s=n.queries.get(i);if(s||(r=!0,s=new UJ),r)try{s.Nu=yield n.onListen(i)}catch(l){const h=By(l,`Initialization of query '${cF(e.query)}' failed`);return void e.onError(h)}n.queries.set(i,s),s.listeners.push(e),e.Mu(n.onlineState),s.Nu&&e.$u(s.Nu)&&pL(n)}),dL.apply(this,arguments)}function hL(t,e){return fL.apply(this,arguments)}function fL(){return fL=(0,Q.Z)(function*(t,e){const n=nt(t),i=e.query;let r=!1;const s=n.queries.get(i);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),r=0===s.listeners.length)}if(r)return n.queries.delete(i),n.onUnlisten(i)}),fL.apply(this,arguments)}function zJ(t,e){const n=nt(t);let i=!1;for(const r of e){const l=n.queries.get(r.query);if(l){for(const h of l.listeners)h.$u(r)&&(i=!0);l.Nu=r}}i&&pL(n)}function HJ(t,e,n){const i=nt(t),r=i.queries.get(e);if(r)for(const s of r.listeners)s.onError(n);i.queries.delete(e)}function pL(t){t.ku.forEach(e=>{e.next()})}class mL{constructor(e,n,i){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Uy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Uy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class $J{constructor(e,n){this.Gu=e,this.byteLength=n}Qu(){return"metadata"in this.Gu}}class M4{constructor(e){this.serializer=e}rr(e){return Vl(this.serializer,e)}ur(e){return e.metadata.exists?A3(this.serializer,e.document,!1):Jn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return Ui(e)}}class GJ{constructor(e,n,i){this.ju=e,this.localStore=n,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=R4(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++n;const i=un.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Wu(e){const n=new Map,i=new M4(this.serializer);for(const r of e)if(r.metadata.queries){const s=i.rr(r.metadata.name);for(const l of r.metadata.queries){const h=(n.get(l)||Wt()).add(s);n.set(l,h)}}return n}complete(){var e=this;return(0,Q.Z)(function*(){const n=yield function vJ(t,e,n,i){return LF.apply(this,arguments)}(e.localStore,new M4(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield bJ(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:n}})()}}function R4(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class k4{constructor(e){this.key=e}}class O4{constructor(e){this.key=e}}class N4{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Wt(),this.mutatedKeys=Wt(),this.tc=KG(e),this.ec=new Vy(this.tc)}get nc(){return this.Yu}sc(e,n){const i=n?n.ic:new T4,r=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,l=r,h=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,g="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((b,C)=>{const D=r.get(b),R=Vx(this.query,C)?C:null,B=!!D&&this.mutatedKeys.has(D.key),G=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let q=!1;D&&R?D.data.isEqual(R.data)?B!==G&&(i.track({type:3,doc:R}),q=!0):this.rc(D,R)||(i.track({type:2,doc:R}),q=!0,(p&&this.tc(R,p)>0||g&&this.tc(R,g)<0)&&(h=!0)):!D&&R?(i.track({type:0,doc:R}),q=!0):D&&!R&&(i.track({type:1,doc:D}),q=!0,(p||g)&&(h=!0)),q&&(R?(l=l.add(R),s=G?s.add(b):s.delete(b)):(l=l.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const b="F"===this.query.limitType?l.last():l.first();l=l.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{ec:l,ic:i,zi:h,mutatedKeys:s}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const s=e.ic.xu();s.sort((g,b)=>function(C,D){const R=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return lt()}};return R(C)-R(D)}(g.type,b.type)||this.tc(g.doc,b.doc)),this.oc(i);const l=n?this.uc():[],h=0===this.Zu.size&&this.current?1:0,p=h!==this.Xu;return this.Xu=h,0!==s.length||p?{snapshot:new Uy(this.query,e.ec,r,s,e.mutatedKeys,0===h,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new T4,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Wt(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const n=[];return e.forEach(i=>{this.Zu.has(i)||n.push(new O4(i))}),this.Zu.forEach(i=>{e.has(i)||n.push(new k4(i))}),n}hc(e){this.Yu=e.ir,this.Zu=Wt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return Uy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class WJ{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class qJ{constructor(e){this.key=e,this.fc=!1}}class YJ{constructor(e,n,i,r,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new uu(h=>qG(h),Bx),this._c=new Map,this.mc=new Set,this.gc=new Un(Qe.comparator),this.yc=new Map,this.Ic=new TF,this.Tc={},this.Ec=new Map,this.Ac=Zp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function KJ(t,e){return gL.apply(this,arguments)}function gL(){return gL=(0,Q.Z)(function*(t,e){const n=VL(t);let i,r;const s=n.wc.get(e);if(s)i=s.targetId,n.sharedClientState.addLocalQueryTarget(i),r=s.view.lc();else{const l=yield Oy(n.localStore,Ns(e)),h=n.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield _L(n,e,i,"current"===h,l.resumeToken),n.isPrimaryClient&&CT(n.remoteStore,l)}return r}),gL.apply(this,arguments)}function _L(t,e,n,i,r){return yL.apply(this,arguments)}function yL(){return yL=(0,Q.Z)(function*(t,e,n,i,r){t.Rc=(C,D,R)=>{return(B=(0,Q.Z)(function*(G,q,le,De){let Be=q.view.sc(le);Be.zi&&(Be=yield vT(G.localStore,q.query,!1).then(({documents:wt})=>q.view.sc(wt,Be)));const Ve=De&&De.targetChanges.get(q.targetId),ft=q.view.applyChanges(Be,G.isPrimaryClient,Ve);return AL(G,q.targetId,ft.cc),ft.snapshot}),function(G,q,le,De){return B.apply(this,arguments)})(t,C,D,R);var B};const s=yield vT(t.localStore,e,!0),l=new N4(e,s.ir),h=l.sc(s.documents),p=Wx.createSynthesizedTargetChangeForCurrentChange(n,i&&"Offline"!==t.onlineState,r),g=l.applyChanges(h,t.isPrimaryClient,p);AL(t,n,g.cc);const b=new WJ(e,n,l);return t.wc.set(e,b),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),g.snapshot}),yL.apply(this,arguments)}function ZJ(t,e){return vL.apply(this,arguments)}function vL(){return vL=(0,Q.Z)(function*(t,e){const n=nt(t),i=n.wc.get(e),r=n._c.get(i.targetId);if(r.length>1)return n._c.set(i.targetId,r.filter(s=>!Bx(s,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ny(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),oE(n.remoteStore,i.targetId),jy(n,i.targetId)}).catch(Jd))):(jy(n,i.targetId),yield Ny(n.localStore,i.targetId,!0))}),vL.apply(this,arguments)}function bL(){return bL=(0,Q.Z)(function*(t,e,n){const i=UL(t);try{const r=yield function(s,l){const h=nt(s),p=ri.now(),g=l.reduce((D,R)=>D.add(R.key),Wt());let b,C;return h.persistence.runTransaction("Locally write mutations","readwrite",D=>{let R=Js(),B=Wt();return h.Zi.getEntries(D,g).next(G=>{R=G,R.forEach((q,le)=>{le.isValidDocument()||(B=B.add(q))})}).next(()=>h.localDocuments.getOverlayedDocuments(D,R)).next(G=>{b=G;const q=[];for(const le of l){const De=SX(le,b.get(le.key).overlayedDocument);null!=De&&q.push(new du(le.key,De,OG(De.value.mapValue),si.exists(!0)))}return h.mutationQueue.addMutationBatch(D,p,q,l)}).next(G=>{C=G;const q=G.applyToLocalDocumentSet(b,B);return h.documentOverlayCache.saveOverlays(D,G.batchId,q)})}).then(()=>({batchId:C.batchId,changes:QG(b)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,l,h){let p=s.Tc[s.currentUser.toKey()];p||(p=new Un(Bt)),p=p.insert(l,h),s.Tc[s.currentUser.toKey()]=p}(i,r.batchId,n),yield fu(i,r.changes),yield Fy(i.remoteStore)}catch(r){const s=By(r,"Failed to persist write");n.reject(s)}}),bL.apply(this,arguments)}function P4(t,e){return wL.apply(this,arguments)}function wL(){return wL=(0,Q.Z)(function*(t,e){const n=nt(t);try{const i=yield function _J(t,e){const n=nt(t),i=e.snapshotVersion;let r=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=n.Zi.newChangeBuffer({trackRemovals:!0});r=n.Ji;const h=[];e.targetChanges.forEach((b,C)=>{const D=r.get(C);if(!D)return;h.push(n.Bs.removeMatchingKeys(s,b.removedDocuments,C).next(()=>n.Bs.addMatchingKeys(s,b.addedDocuments,C)));let R=D.withSequenceNumber(s.currentSequenceNumber);var B,G,q;null!==e.targetMismatches.get(C)?R=R.withResumeToken(vr.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(b.resumeToken,i)),r=r.insert(C,R),G=R,q=b,(0===(B=D).resumeToken.approximateByteSize()||G.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8||q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0)&&h.push(n.Bs.updateTargetData(s,R))});let p=Js(),g=Wt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(s,b))}),h.push(f4(s,l,e.documentUpdates).next(b=>{p=b.nr,g=b.sr})),!i.isEqual(vt.min())){const b=n.Bs.getLastRemoteSnapshotVersion(s).next(C=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,i));h.push(b)}return ue.waitFor(h).next(()=>l.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,p,g)).next(()=>p)}).then(s=>(n.Ji=r,s))}(n.localStore,e);e.targetChanges.forEach((r,s)=>{const l=n.yc.get(s);l&&(yt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?yt(l.fc):r.removedDocuments.size>0&&(yt(l.fc),l.fc=!1))}),yield fu(n,i,e)}catch(i){yield Jd(i)}}),wL.apply(this,arguments)}function F4(t,e,n){const i=nt(t);if(i.isPrimaryClient&&0===n||!i.isPrimaryClient&&1===n){const r=[];i.wc.forEach((s,l)=>{const h=l.view.Mu(e);h.snapshot&&r.push(h.snapshot)}),function(s,l){const h=nt(s);h.onlineState=l;let p=!1;h.queries.forEach((g,b)=>{for(const C of b.listeners)C.Mu(l)&&(p=!0)}),p&&pL(h)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function XJ(t,e,n){return xL.apply(this,arguments)}function xL(){return xL=(0,Q.Z)(function*(t,e,n){const i=nt(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.yc.get(e),s=r&&r.key;if(s){let l=new Un(Qe.comparator);l=l.insert(s,Jn.newNoDocument(s,vt.min()));const h=Wt().add(s),p=new Gx(vt.min(),new Map,new Un(Bt),l,h);yield P4(i,p),i.gc=i.gc.remove(s),i.yc.delete(e),TL(i)}else yield Ny(i.localStore,e,!1).then(()=>jy(i,e,n)).catch(Jd)}),xL.apply(this,arguments)}function JJ(t,e){return EL.apply(this,arguments)}function EL(){return EL=(0,Q.Z)(function*(t,e){const n=nt(t),i=e.batch.batchId;try{const r=yield function gJ(t,e){const n=nt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(l,h,p,g){const b=p.batch,C=b.keys();let D=ue.resolve();return C.forEach(R=>{D=D.next(()=>g.getEntry(h,R)).next(B=>{const G=p.docVersions.get(R);yt(null!==G),B.version.compareTo(G)<0&&(b.applyToRemoteDocument(B,p),B.isValidDocument()&&(B.setReadTime(p.commitVersion),g.addEntry(B)))})}),D.next(()=>l.mutationQueue.removeMutationBatch(h,b))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let h=Wt();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(h=h.add(l.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}(n.localStore,e);DL(n,i,null),SL(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),yield fu(n,r)}catch(r){yield Jd(r)}}),EL.apply(this,arguments)}function eee(t,e,n){return CL.apply(this,arguments)}function CL(){return CL=(0,Q.Z)(function*(t,e,n){const i=nt(t);try{const r=yield function(s,l){const h=nt(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,l).next(b=>(yt(null!==b),g=b.keys(),h.mutationQueue.removeMutationBatch(p,b))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(i.localStore,e);DL(i,e,n),SL(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),yield fu(i,r)}catch(r){yield Jd(r)}}),CL.apply(this,arguments)}function IL(){return IL=(0,Q.Z)(function*(t,e){const n=nt(t);hh(n.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const l=nt(s);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>l.mutationQueue.getHighestUnacknowledgedBatchId(h))}(n.localStore);if(-1===i)return void e.resolve();const r=n.Ec.get(i)||[];r.push(e),n.Ec.set(i,r)}catch(i){const r=By(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),IL.apply(this,arguments)}function SL(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function DL(t,e,n){const i=nt(t);let r=i.Tc[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function jy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t._c.get(e))t.wc.delete(i),n&&t.dc.Pc(i,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(i=>{t.Ic.containsKey(i)||L4(t,i)})}function L4(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(oE(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),TL(t))}function AL(t,e,n){for(const i of n)i instanceof k4?(t.Ic.addReference(i.key,e),nee(t,i)):i instanceof O4?(ze("SyncEngine","Document no longer in limbo: "+i.key),t.Ic.removeReference(i.key,e),t.Ic.containsKey(i.key)||L4(t,i.key)):lt()}function nee(t,e){const n=e.key,i=n.path.canonicalString();t.gc.get(n)||t.mc.has(i)||(ze("SyncEngine","New document in limbo: "+n),t.mc.add(i),TL(t))}function TL(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Qe(un.fromString(e)),i=t.Ac.next();t.yc.set(i,new qJ(n)),t.gc=t.gc.insert(n,i),CT(t.remoteStore,new hu(Ns(Cy(n.path)),i,"TargetPurposeLimboResolution",Oo.ct))}}function fu(t,e,n){return ML.apply(this,arguments)}function ML(){return ML=(0,Q.Z)(function*(t,e,n){const i=nt(t),r=[],s=[],l=[];var h;i.wc.isEmpty()||(i.wc.forEach((h,p)=>{l.push(i.Rc(p,e,n).then(g=>{if((g||n)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,g?.fromCache?"not-current":"current"),g){r.push(g);const b=NF.Li(p.targetId,g);s.push(b)}}))}),yield Promise.all(l),i.dc.nu(r),yield(h=(0,Q.Z)(function*(p,g){const b=nt(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>ue.forEach(g,D=>ue.forEach(D.Fi,R=>b.persistence.referenceDelegate.addReference(C,D.targetId,R)).next(()=>ue.forEach(D.Bi,R=>b.persistence.referenceDelegate.removeReference(C,D.targetId,R)))))}catch(C){if(!eh(C))throw C;ze("LocalStore","Failed to update sequence numbers: "+C)}for(const C of g){const D=C.targetId;if(!C.fromCache){const R=b.Ji.get(D),G=R.withLastLimboFreeSnapshotVersion(R.snapshotVersion);b.Ji=b.Ji.insert(D,G)}}}),function(p,g){return h.apply(this,arguments)})(i.localStore,s))}),ML.apply(this,arguments)}function iee(t,e){return RL.apply(this,arguments)}function RL(){return RL=(0,Q.Z)(function*(t,e){const n=nt(t);if(!n.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const i=yield d4(n.localStore,e);n.currentUser=e,(r=n).Ec.forEach(l=>{l.forEach(h=>{h.reject(new Oe(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield fu(n,i.er)}var r}),RL.apply(this,arguments)}function ree(t,e){const n=nt(t),i=n.yc.get(e);if(i&&i.fc)return Wt().add(i.key);{let r=Wt();const s=n._c.get(e);if(!s)return r;for(const l of s){const h=n.wc.get(l);r=r.unionWith(h.view.nc)}return r}}function see(t,e){return kL.apply(this,arguments)}function kL(){return kL=(0,Q.Z)(function*(t,e){const n=nt(t),i=yield vT(n.localStore,e.query,!0),r=e.view.hc(i);return n.isPrimaryClient&&AL(n,e.targetId,r.cc),r}),kL.apply(this,arguments)}function oee(t,e){return OL.apply(this,arguments)}function OL(){return OL=(0,Q.Z)(function*(t,e){const n=nt(t);return m4(n.localStore,e).then(i=>fu(n,i))}),OL.apply(this,arguments)}function aee(t,e,n,i){return NL.apply(this,arguments)}function NL(){return NL=(0,Q.Z)(function*(t,e,n,i){const r=nt(t),s=yield function(l,h){const p=nt(l),g=nt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",b=>g.Sn(b,h).next(C=>C?p.localDocuments.getDocuments(b,C):ue.resolve(null)))}(r.localStore,e);var h;null!==s?("pending"===n?yield Fy(r.remoteStore):"acknowledged"===n||"rejected"===n?(DL(r,e,i||null),SL(r,e),h=e,nt(nt(r.localStore).mutationQueue).Cn(h)):lt(),yield fu(r,s)):ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),NL.apply(this,arguments)}function PL(){return PL=(0,Q.Z)(function*(t,e){const n=nt(t);if(VL(n),UL(n),!0===e&&!0!==n.vc){const i=n.sharedClientState.getAllActiveQueryTargets(),r=yield B4(n,i.toArray());n.vc=!0,yield aL(n.remoteStore,!0);for(const s of r)CT(n.remoteStore,s)}else if(!1===e&&!1!==n.vc){const i=[];let r=Promise.resolve();n._c.forEach((s,l)=>{n.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(jy(n,l),Ny(n.localStore,l,!0))),oE(n.remoteStore,l)}),yield r,yield B4(n,i),function(s){const l=nt(s);l.yc.forEach((h,p)=>{oE(l.remoteStore,p)}),l.Ic.Ts(),l.yc=new Map,l.gc=new Un(Qe.comparator)}(n),n.vc=!1,yield aL(n.remoteStore,!1)}}),PL.apply(this,arguments)}function B4(t,e,n){return FL.apply(this,arguments)}function FL(){return FL=(0,Q.Z)(function*(t,e,n){const i=nt(t),r=[],s=[];for(const l of e){let h;const p=i._c.get(l);if(p&&0!==p.length){h=yield Oy(i.localStore,Ns(p[0]));for(const g of p){const b=i.wc.get(g),C=yield see(i,b);C.snapshot&&s.push(C.snapshot)}}else{const g=yield p4(i.localStore,l);h=yield Oy(i.localStore,g),yield _L(i,V4(g),l,!1,h.resumeToken)}r.push(h)}return i.dc.nu(s),r}),FL.apply(this,arguments)}function V4(t){return GG(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function cee(t){const e=nt(t);return nt(nt(e.localStore).persistence).$i()}function uee(t,e,n,i){return LL.apply(this,arguments)}function LL(){return LL=(0,Q.Z)(function*(t,e,n,i){const r=nt(t);if(r.vc)return void ze("SyncEngine","Ignoring unexpected query state notification.");const s=r._c.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const l=yield m4(r.localStore,YG(s[0])),h=Gx.createSynthesizedRemoteEventForCurrentChange(e,"current"===n,vr.EMPTY_BYTE_STRING);yield fu(r,l,h);break}case"rejected":yield Ny(r.localStore,e,!0),jy(r,e,i);break;default:lt()}}),LL.apply(this,arguments)}function dee(t,e,n){return BL.apply(this,arguments)}function BL(){return BL=(0,Q.Z)(function*(t,e,n){const i=VL(t);if(i.vc){for(const r of e){if(i._c.has(r)){ze("SyncEngine","Adding an already active target "+r);continue}const s=yield p4(i.localStore,r),l=yield Oy(i.localStore,s);yield _L(i,V4(s),l.targetId,!1,l.resumeToken),CT(i.remoteStore,l)}for(const r of n)i._c.has(r)&&(yield Ny(i.localStore,r,!1).then(()=>{oE(i.remoteStore,r),jy(i,r)}).catch(Jd))}}),BL.apply(this,arguments)}function VL(t){const e=nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=P4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ree.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XJ.bind(null,e),e.dc.nu=zJ.bind(null,e.eventManager),e.dc.Pc=HJ.bind(null,e.eventManager),e}function UL(t){const e=nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=eee.bind(null,e),e}class aE{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Q.Z)(function*(){n.serializer=rE(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return u4(this.persistence,new c4,e.initialUser,this.serializer)}createPersistence(e){return new MF(gT.zs,this.serializer)}createSharedClientState(e){return new v4}terminate(){var e=this;return(0,Q.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jL extends aE{constructor(e,n,i){super(),this.Vc=e,this.cacheSizeBytes=n,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,i=this;return(0,Q.Z)(function*(){yield n().call(i,e),yield i.Vc.initialize(i,e),yield UL(i.Vc.syncEngine),yield Fy(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return u4(this.persistence,new c4,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){return new e4(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const i=new BQ(n,this.persistence);return new LQ(e.asyncQueue,i)}createPersistence(e){const n=OF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ws.withCacheSize(this.cacheSizeBytes):ws.DEFAULT;return new kF(this.synchronizeTabs,n,e.clientId,i,e.asyncQueue,w4(),ET(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new v4}}class U4 extends jL{constructor(e,n){super(e,n,!1),this.Vc=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,i=this;return(0,Q.Z)(function*(){yield n().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof zF&&(i.sharedClientState.syncEngine={jr:aee.bind(null,r),zr:uee.bind(null,r),Wr:dee.bind(null,r),$i:cee.bind(null,r),Qr:oee.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var s=(0,Q.Z)(function*(l){yield function lee(t,e){return PL.apply(this,arguments)}(i.Vc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return s.apply(this,arguments)}}())})()}createSharedClientState(e){const n=w4();if(!zF.D(n))throw new Oe(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=OF(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new zF(n,e.asyncQueue,i,e.clientId,e.initialUser)}}class zy{initialize(e,n){var i=this;return(0,Q.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(n),i.remoteStore=i.createRemoteStore(n),i.eventManager=i.createEventManager(n),i.syncEngine=i.createSyncEngine(n,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>F4(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=iee.bind(null,i.syncEngine),yield aL(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new jJ}createDatastore(e){const n=rE(e.databaseInfo.databaseId),i=new CJ(e.databaseInfo);return new DJ(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return n=this.localStore,i=this.datastore,r=e.asyncQueue,s=h=>F4(this.syncEngine,h,0),l=b4.D()?new b4:new wJ,new MJ(n,i,r,s,l);var n,i,r,s,l}createSyncEngine(e,n){return function(i,r,s,l,h,p,g){const b=new YJ(i,r,s,l,h,p);return g&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Q.Z)(function*(n){const i=nt(n);ze("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield Py(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function j4(t,e=10240){let n=0;return{read:()=>(0,Q.Z)(function*(){if(n<t.byteLength){const i={value:t.slice(n,n+e),done:!1};return n+=e,i}return{done:!0}})(),cancel:()=>(0,Q.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class ST{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Vi("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class pee{constructor(e,n){this.Cc=e,this.serializer=n,this.metadata=new yr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Q.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Q.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Q.Z)(function*(){const n=yield e.kc();if(null===n)return null;const i=e.xc.decode(n),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const s=yield e.$c(r);return new $J(JSON.parse(s),n.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Q.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const n=e.Oc();n<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),i})()}$c(e){var n=this;return(0,Q.Z)(function*(){for(;n.buffer.length<e;)(yield n.Fc())&&n.Mc("Reached the end of bundle when more is expected.");const i=n.xc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Q.Z)(function*(){const n=yield e.Cc.read();if(!n.done){const i=new Uint8Array(e.buffer.length+n.value.length);i.set(e.buffer),i.set(n.value,e.buffer.length),e.buffer=i}return n.done})()}}class mee{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,Q.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Oe(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Q.Z)(function*(s,l){const h=nt(s),p=Yx(h.serializer)+"/documents",g={documents:l.map(R=>qx(h.serializer,R))},b=yield h.vo("BatchGetDocuments",p,g,l.length),C=new Map;b.forEach(R=>{const B=function FX(t,e){return"found"in e?function(n,i){yt(!!i.found);const r=Vl(n,i.found.name),s=Ui(i.found.updateTime),l=i.found.createTime?Ui(i.found.createTime):vt.min(),h=new es({mapValue:{fields:i.found.fields}});return Jn.newFoundDocument(r,s,l,h)}(t,e):"missing"in e?function(n,i){yt(!!i.missing),yt(!!i.readTime);const r=Vl(n,i.missing),s=Ui(i.readTime);return Jn.newNoDocument(r,s)}(t,e):lt()}(h.serializer,R);C.set(B.key.toString(),B)});const D=[];return l.forEach(R=>{const B=C.get(R.toString());yt(!!B),D.push(B)}),D}),function(s,l){return r.apply(this,arguments)})(n.datastore,e);var r;return i.forEach(r=>n.recordVersion(r)),i})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ay(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Q.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var i;e.mutations.forEach(i=>{n.delete(i.key.toString())}),n.forEach((i,r)=>{const s=Qe.fromPath(r);e.mutations.push(new dF(s,e.precondition(s)))}),yield(i=(0,Q.Z)(function*(r,s){const l=nt(r),h=Yx(l.serializer)+"/documents",p={writes:s.map(g=>Kx(l.serializer,g))};yield l.Io("Commit",h,p)}),function(r,s){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw lt();n=vt.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!n.isEqual(i))throw new Oe(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(vt.min())?si.exists(!1):si.updateTime(n):si.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(vt.min()))throw new Oe(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return si.updateTime(n)}return si.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class gee{constructor(e,n,i,r,s){this.asyncQueue=e,this.datastore=n,this.options=i,this.updateFunction=r,this.deferred=s,this.Bc=i.maxAttempts,this.qo=new $F(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Q.Z)(function*(){const n=new mee(e.datastore),i=e.qc(n);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(r)}).catch(s=>{e.Uc(s)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const n=this.updateFunction(e);return!Rx(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||"already-exists"===n||!f3(n)}return!1}}class _ee{constructor(e,n,i,r){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=kr.UNAUTHENTICATED,this.clientId=cG.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,Q.Z)(function*(h){ze("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(ze("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Q.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Oe(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new yr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Q.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(i){const r=By(i,"Failed to shutdown persistence");n.reject(r)}})),n.promise}}function DT(t,e){return zL.apply(this,arguments)}function zL(){return zL=(0,Q.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(function(){var r=(0,Q.Z)(function*(s){i.isEqual(s)||(yield d4(e.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),zL.apply(this,arguments)}function HL(t,e){return $L.apply(this,arguments)}function $L(){return $L=(0,Q.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield GL(t);ze("FirestoreClient","Initializing OnlineComponentProvider");const i=yield t.getConfiguration();yield e.initialize(n,i),t.setCredentialChangeListener(r=>A4(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>A4(e.remoteStore,s)),t._onlineComponents=e}),$L.apply(this,arguments)}function z4(t){return"FirebaseError"===t.name?t.code===me.FAILED_PRECONDITION||t.code===me.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}function GL(t){return WL.apply(this,arguments)}function WL(){return WL=(0,Q.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ze("FirestoreClient","Using user provided OfflineComponentProvider");try{yield DT(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!z4(n))throw n;pa("Error using user provided cache. Falling back to memory cache: "+n),yield DT(t,new aE)}}else ze("FirestoreClient","Using default OfflineComponentProvider"),yield DT(t,new aE);return t._offlineComponents}),WL.apply(this,arguments)}function AT(t){return qL.apply(this,arguments)}function qL(){return qL=(0,Q.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ze("FirestoreClient","Using user provided OnlineComponentProvider"),yield HL(t,t._uninitializedComponentsProvider._online)):(ze("FirestoreClient","Using default OnlineComponentProvider"),yield HL(t,new zy))),t._onlineComponents}),qL.apply(this,arguments)}function H4(t){return GL(t).then(e=>e.persistence)}function TT(t){return GL(t).then(e=>e.localStore)}function $4(t){return AT(t).then(e=>e.remoteStore)}function YL(t){return AT(t).then(e=>e.syncEngine)}function Hy(t){return KL.apply(this,arguments)}function KL(){return KL=(0,Q.Z)(function*(t){const e=yield AT(t),n=e.eventManager;return n.onListen=KJ.bind(null,e.syncEngine),n.onUnlisten=ZJ.bind(null,e.syncEngine),n}),KL.apply(this,arguments)}function W4(t,e,n={}){const i=new yr;return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function(r,s,l,h,p){const g=new ST({next:C=>{s.enqueueAndForget(()=>hL(r,b));const D=C.docs.has(l);!D&&C.fromCache?p.reject(new Oe(me.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&C.fromCache&&h&&"server"===h.source?p.reject(new Oe(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(C)},error:C=>p.reject(C)}),b=new mL(Cy(l.path),g,{includeMetadataChanges:!0,Ku:!0});return uL(r,b)}(yield Hy(t),t.asyncQueue,e,n,i)})),i.promise}function q4(t,e,n={}){const i=new yr;return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function(r,s,l,h,p){const g=new ST({next:C=>{s.enqueueAndForget(()=>hL(r,b)),C.fromCache&&"server"===h.source?p.reject(new Oe(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(C)},error:C=>p.reject(C)}),b=new mL(l,g,{includeMetadataChanges:!0,Ku:!0});return uL(r,b)}(yield Hy(t),t.asyncQueue,e,n,i)})),i.promise}function Y4(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const K4=new Map;function ZL(t,e,n){if(!n)throw new Oe(me.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Z4(t,e,n,i){if(!0===e&&!0===i)throw new Oe(me.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Q4(t){if(!Qe.isDocumentKey(t))throw new Oe(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function X4(t){if(Qe.isDocumentKey(t))throw new Oe(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function MT(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":lt()}function ln(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Oe(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=MT(t);throw new Oe(me.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function J4(t,e){if(e<=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class e6{constructor(e){var n,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Oe(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Oe(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Z4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Y4(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Oe(me.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lE{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new e6({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Oe(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new e6(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new IQ;switch(n.type){case"firstParty":return new TQ(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Oe(me.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=K4.get(e);n&&(ze("ComponentProvider","Removing Datastore"),K4.delete(e),n.terminate())}(this),Promise.resolve()}}function t6(t,e,n,i={}){var r;const s=(t=ln(t,lE))._getSettings(),l=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==l&&pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),i.mockUserToken){let h,p;if("string"==typeof i.mockUserToken)h=i.mockUserToken,p=kr.MOCK_USER;else{h=(0,$.Sg)(i.mockUserToken,null===(r=t._app)||void 0===r?void 0:r.options.projectId);const g=i.mockUserToken.sub||i.mockUserToken.user_id;if(!g)throw new Oe(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new kr(g)}t._authCredentials=new SQ(new aG(h,p))}}class ei{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ul(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ei(this.firestore,e,this._key)}}class ts{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ts(this.firestore,e,this._query)}}class Ul extends ts{constructor(e,n,i){super(e,n,Cy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ei(this.firestore,null,new Qe(e))}withConverter(e){return new Ul(this.firestore,e,this._path)}}function n6(t,e,...n){if(t=(0,$.m9)(t),ZL("collection","path",e),t instanceof lE){const i=un.fromString(e,...n);return X4(i),new Ul(t,null,i)}{if(!(t instanceof ei||t instanceof Ul))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(un.fromString(e,...n));return X4(i),new Ul(t.firestore,null,i)}}function RT(t,e,...n){if(t=(0,$.m9)(t),1===arguments.length&&(e=cG.A()),ZL("doc","path",e),t instanceof lE){const i=un.fromString(e,...n);return Q4(i),new ei(t,null,new Qe(i))}{if(!(t instanceof ei||t instanceof Ul))throw new Oe(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(un.fromString(e,...n));return Q4(i),new ei(t.firestore,t instanceof Ul?t.converter:null,new Qe(i))}}function i6(t,e){return t=(0,$.m9)(t),e=(0,$.m9)(e),(t instanceof ei||t instanceof Ul)&&(e instanceof ei||e instanceof Ul)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function QL(t,e){return t=(0,$.m9)(t),e=(0,$.m9)(e),t instanceof ts&&e instanceof ts&&t.firestore===e.firestore&&Bx(t._query,e._query)&&t.converter===e.converter}class Dee{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new $F(this,"async_queue_retry"),this.Xc=()=>{const n=ET();n&&ze("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=ET();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=ET();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new yr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Q.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!eh(n))throw n;ze("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,Vi("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=n,n}enqueueAfterDelay(e,n,i){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const r=cL.createAndSchedule(this,e,n,i,s=>this.na(s));return this.zc.push(r),r}Zc(){this.Wc&&lt()}verifyOperationInProgress(){}sa(){var e=this;return(0,Q.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function XL(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(t)}class Aee{constructor(){this._progressObserver={},this._taskCompletionResolver=new yr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,i){this._progressObserver={next:e,error:n,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ti extends lE{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new Dee,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||r6(this),this._firestoreClient.terminate()}}function Mee(t,e){const n="object"==typeof t?t:(0,Ze.getApp)(),i="string"==typeof t?t:e||"(default)",r=(0,Ze._getProvider)(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=(0,$.P0)("firestore");s&&t6(r,...s)}return r}function ji(t){return t._firestoreClient||r6(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function r6(t){var e,n,i;const r=t._freezeSettings(),s=(h=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new sX(t._databaseId,h,t._persistenceKey,(g=r).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,Y4(g.experimentalLongPollingOptions),g.useFetchStreams));var h,g;t._firestoreClient=new _ee(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=r.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function s6(t,e,n){const i=new yr;return t.asyncQueue.enqueue((0,Q.Z)(function*(){try{yield DT(t,n),yield HL(t,e),i.resolve()}catch(r){const s=r;if(!z4(s))throw s;pa("Error enabling indexeddb cache. Falling back to memory cache: "+s),i.reject(s)}})).then(()=>i.promise)}function o6(t){if(t._initialized||t._terminated)throw new Oe(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class jl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jl(vr.fromBase64String(e))}catch(n){throw new Oe(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new jl(vr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pu{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Oe(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ti(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Xp{constructor(e){this._methodName=e}}class kT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Oe(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Oe(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const Uee=/^__.*__$/;class jee{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return null!==this.fieldMask?new du(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dy(e,this.data,n,this.fieldTransforms)}}class a6{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new du(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function l6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw lt()}}class OT{constructor(e,n,i,r,s,l){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new OT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const i=null===(n=this.path)||void 0===n?void 0:n.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var n;const i=null===(n=this.path)||void 0===n?void 0:n.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return FT(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(l6(this.ca)&&Uee.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class zee{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||rE(e)}ya(e,n,i,r=!1){return new OT({ca:e,methodName:n,ga:i,path:Ti.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jp(t){const e=t._freezeSettings(),n=rE(t._databaseId);return new zee(t._databaseId,!!e.ignoreUndefinedProperties,n)}function NT(t,e,n,i,r,s={}){const l=t.ya(s.merge||s.mergeFields?2:0,e,n,r);n2("Data must be an object, but it was:",l,i);const h=d6(i,l);let p,g;if(s.merge)p=new Xs(l.fieldMask),g=l.fieldTransforms;else if(s.mergeFields){const b=[];for(const C of s.mergeFields){const D=dE(e,C,n);if(!l.contains(D))throw new Oe(me.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);f6(b,D)||b.push(D)}p=new Xs(b),g=l.fieldTransforms.filter(C=>p.covers(C.field))}else p=null,g=l.fieldTransforms;return new jee(new es(h),p,g)}class uE extends Xp{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uE}}function c6(t,e,n){return new OT({ca:3,ga:e.settings.ga,methodName:t._methodName,la:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class JL extends Xp{_toFieldTransform(e){return new zx(e.path,new Iy)}isEqual(e){return e instanceof JL}}class Hee extends Xp{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=c6(this,e,!0),i=this.pa.map(s=>em(s,n)),r=new Hp(i);return new zx(e.path,r)}isEqual(e){return this===e}}class $ee extends Xp{constructor(e,n){super(e),this.pa=n}_toFieldTransform(e){const n=c6(this,e,!0),i=this.pa.map(s=>em(s,n)),r=new $p(i);return new zx(e.path,r)}isEqual(e){return this===e}}class Gee extends Xp{constructor(e,n){super(e),this.Ia=n}_toFieldTransform(e){const n=new Sy(e.serializer,t3(e.serializer,this.Ia));return new zx(e.path,n)}isEqual(e){return this===e}}function e2(t,e,n,i){const r=t.ya(1,e,n);n2("Data must be an object, but it was:",r,i);const s=[],l=es.empty();th(i,(p,g)=>{const b=PT(e,p,n);g=(0,$.m9)(g);const C=r.da(b);if(g instanceof uE)s.push(b);else{const D=em(g,C);null!=D&&(s.push(b),l.set(b,D))}});const h=new Xs(s);return new a6(l,h,r.fieldTransforms)}function t2(t,e,n,i,r,s){const l=t.ya(1,e,n),h=[dE(e,i,n)],p=[r];if(s.length%2!=0)throw new Oe(me.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<s.length;D+=2)h.push(dE(e,s[D])),p.push(s[D+1]);const g=[],b=es.empty();for(let D=h.length-1;D>=0;--D)if(!f6(g,h[D])){const R=h[D];let B=p[D];B=(0,$.m9)(B);const G=l.da(R);if(B instanceof uE)g.push(R);else{const q=em(B,G);null!=q&&(g.push(R),b.set(R,q))}}const C=new Xs(g);return new a6(b,C,l.fieldTransforms)}function u6(t,e,n,i=!1){return em(n,t.ya(i?4:3,e))}function em(t,e){if(h6(t=(0,$.m9)(t)))return n2("Unsupported field value:",e,t),d6(t,e);if(t instanceof Xp)return function(n,i){if(!l6(i.ca))throw i._a(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,i){const r=[];let s=0;for(const l of n){let h=em(l,i.wa(s));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),s++}return{arrayValue:{values:r}}}(t,e)}return function(n,i){if(null===(n=(0,$.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return t3(i.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const r=ri.fromDate(n);return{timestampValue:Ty(i.serializer,r)}}if(n instanceof ri){const r=new ri(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ty(i.serializer,r)}}if(n instanceof kT)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof jl)return{bytesValue:E3(i.serializer,n._byteString)};if(n instanceof ei){const r=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(r))throw i._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:yF(n.firestore._databaseId||i.databaseId,n._key.path)}}throw i._a(`Unsupported field value: ${MT(n)}`)}(t,e)}function d6(t,e){const n={};return CG(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):th(t,(i,r)=>{const s=em(r,e.ha(i));null!=s&&(n[i]=s)}),{mapValue:{fields:n}}}function h6(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ri||t instanceof kT||t instanceof jl||t instanceof ei||t instanceof Xp)}function n2(t,e,n){if(!h6(n)||"object"!=typeof(i=n)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=MT(n);throw e._a("an object"===i?t+" a custom object":t+" "+i)}var i}function dE(t,e,n){if((e=(0,$.m9)(e))instanceof pu)return e._internalPath;if("string"==typeof e)return PT(t,e);throw FT("Field path arguments must be of type string or ",t,!1,void 0,n)}const Wee=new RegExp("[~\\*/\\[\\]]");function PT(t,e,n){if(e.search(Wee)>=0)throw FT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new pu(...e.split("."))._internalPath}catch{throw FT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function FT(t,e,n,i,r){const s=i&&!i.isEmpty(),l=void 0!==r;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(s||l)&&(p+=" (found",s&&(p+=` in field ${i}`),l&&(p+=` in document ${r}`),p+=")"),new Oe(me.INVALID_ARGUMENT,h+t+p)}function f6(t,e){return t.some(n=>n.isEqual(e))}class hE{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new qee(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(LT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class qee extends hE{data(){return super.data()}}function LT(t,e){return"string"==typeof e?PT(t,e):e instanceof pu?e._internalPath:e._delegate._internalPath}function p6(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Oe(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class r2{}class fE extends r2{}function ph(t,e,...n){let i=[];e instanceof r2&&i.push(e),i=i.concat(n),function(r){const s=r.filter(h=>h instanceof $y).length,l=r.filter(h=>h instanceof pE).length;if(s>1||s>0&&l>0)throw new Oe(me.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class pE extends fE{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new pE(e,n,i)}_apply(e){const n=this._parse(e);return y6(e._query,n),new ts(e.firestore,e.converter,lF(e._query,n))}_parse(e){const n=Jp(e.firestore);return function(r,s,l,h,p,g,b){let C;if(p.isKeyField()){if("array-contains"===g||"array-contains-any"===g)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if("in"===g||"not-in"===g){_6(b,g);const D=[];for(const R of b)D.push(g6(h,r,R));C={arrayValue:{values:D}}}else C=g6(h,r,b)}else"in"!==g&&"not-in"!==g&&"array-contains-any"!==g||_6(b,g),C=u6(l,"where",b,"in"===g||"not-in"===g);return an.create(p,g,C)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}class $y extends r2{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new $y(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===n.length?n[0]:Tn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(i,r){let s=i;const l=r.getFlattenedFilters();for(const h of l)y6(s,h),s=lF(s,h)}(e._query,n),new ts(e.firestore,e.converter,lF(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class s2 extends fE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new s2(e,n)}_apply(e){const n=function(i,r,s){if(null!==i.startAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new xy(r,s);return function(h,p){if(null===oF(h)){const g=tT(h);null!==g&&v6(0,g,p.field)}}(i,l),l}(e._query,this._field,this._direction);return new ts(e.firestore,e.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new cu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}class BT extends fE{constructor(e,n,i){super(),this.type=e,this._limit=n,this._limitType=i}static _create(e,n,i){return new BT(e,n,i)}_apply(e){return new ts(e.firestore,e.converter,nT(e._query,this._limit,this._limitType))}}class VT extends fE{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new VT(e,n,i)}_apply(e){const n=m6(e,this.type,this._docOrFields,this._inclusive);return new ts(e.firestore,e.converter,(r=n,new cu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class UT extends fE{constructor(e,n,i){super(),this.type=e,this._docOrFields=n,this._inclusive=i}static _create(e,n,i){return new UT(e,n,i)}_apply(e){const n=m6(e,this.type,this._docOrFields,this._inclusive);return new ts(e.firestore,e.converter,(r=n,new cu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function m6(t,e,n,i){if(n[0]=(0,$.m9)(n[0]),n[0]instanceof hE)return function(r,s,l,h,p){if(!h)throw new Oe(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const g=[];for(const b of zp(r))if(b.field.isKeyField())g.push(Up(s,h.key));else{const C=h.data.field(b.field);if(YA(C))throw new Oe(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===C){const D=b.field.canonicalString();throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}g.push(C)}return new ah(g,p)}(t._query,t.firestore._databaseId,e,n[0]._document,i);{const r=Jp(t.firestore);return function(s,l,h,p,g,b){const C=s.explicitOrderBy;if(g.length>C.length)throw new Oe(me.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let R=0;R<g.length;R++){const B=g[R];if(C[R].field.isKeyField()){if("string"!=typeof B)throw new Oe(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof B}`);if(!aF(s)&&-1!==B.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${B}' contains a slash.`);const G=s.path.child(un.fromString(B));if(!Qe.isDocumentKey(G))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${G}' is not because it contains an odd number of segments.`);const q=new Qe(G);D.push(Up(l,q))}else{const G=u6(h,p,B);D.push(G)}}return new ah(D,b)}(t._query,t.firestore._databaseId,r,e,n,i)}}function g6(t,e,n){if("string"==typeof(n=(0,$.m9)(n))){if(""===n)throw new Oe(me.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aF(e)&&-1!==n.indexOf("/"))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(un.fromString(n));if(!Qe.isDocumentKey(i))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Up(t,new Qe(i))}if(n instanceof ei)return Up(t,n._key);throw new Oe(me.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${MT(n)}.`)}function _6(t,e){if(!Array.isArray(t)||0===t.length)throw new Oe(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function y6(t,e){if(e.isInequality()){const i=tT(t),r=e.field;if(null!==i&&!i.isEqual(r))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const s=oF(t);null!==s&&v6(0,r,s)}const n=function(i,r){for(const s of i)for(const l of s.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new Oe(me.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function v6(t,e,n){if(!n.isEqual(e))throw new Oe(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class o2{convertValue(e,n="none"){switch(sh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(lu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw lt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return th(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertGeoPoint(e){return new kT(Mi(e.latitude),Mi(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=KA(e);return null==i?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Ox(e));default:return null}}convertTimestamp(e){const n=nh(e);return new ri(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=un.fromString(e);yt(O3(i));const r=new ih(i.get(1),i.get(3)),s=new Qe(i.popFirst(5));return r.isEqual(n)||Vi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}function jT(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}class nte extends o2{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,n)}}class tm{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class mu extends hE{constructor(e,n,i,r,s,l){super(e,n,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(LT("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class mE extends mu{data(e={}){return super.data(e)}}class mh{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new tm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new mE(this._firestore,this._userDataWriter,i.key,i,new tm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Oe(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new mE(i._firestore,i._userDataWriter,l.doc.key,l.doc,new tm(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const h=new mE(i._firestore,i._userDataWriter,l.doc.key,l.doc,new tm(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return 0!==l.type&&(p=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),g=s.indexOf(l.doc.key)),{type:rte(l.type),doc:h,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rte(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lt()}}function w6(t,e){return t instanceof mu&&e instanceof mu?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof mh&&e instanceof mh&&t._firestore===e._firestore&&QL(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}class gh extends o2{constructor(e){super(),this.firestore=e}convertBytes(e){return new jl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ei(this.firestore,null,n)}}function x6(t,e,n){t=ln(t,ei);const i=ln(t.firestore,ti),r=jT(t.converter,e,n);return Gy(i,[NT(Jp(i),"setDoc",t._key,r,null!==t.converter,n).toMutation(t._key,si.none())])}function E6(t,e,n,...i){t=ln(t,ei);const r=ln(t.firestore,ti),s=Jp(r);let l;return l="string"==typeof(e=(0,$.m9)(e))||e instanceof pu?t2(s,"updateDoc",t._key,e,n,i):e2(s,"updateDoc",t._key,e),Gy(r,[l.toMutation(t._key,si.exists(!0))])}function C6(t,...e){var n,i,r;t=(0,$.m9)(t);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||XL(e[l])||(s=e[l],l++);const h={includeMetadataChanges:s.includeMetadataChanges};if(XL(e[l])){const C=e[l];e[l]=null===(n=C.next)||void 0===n?void 0:n.bind(C),e[l+1]=null===(i=C.error)||void 0===i?void 0:i.bind(C),e[l+2]=null===(r=C.complete)||void 0===r?void 0:r.bind(C)}let p,g,b;if(t instanceof ei)g=ln(t.firestore,ti),b=Cy(t._key.path),p={next:C=>{e[l]&&e[l](a2(g,t,C))},error:e[l+1],complete:e[l+2]};else{const C=ln(t,ts);g=ln(C.firestore,ti),b=C._query;const D=new gh(g);p={next:R=>{e[l]&&e[l](new mh(g,D,C,R))},error:e[l+1],complete:e[l+2]},p6(t._query)}return function(C,D,R,B){const G=new ST(B),q=new mL(D,G,R);return C.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return uL(yield Hy(C),q)})),()=>{G.Dc(),C.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return hL(yield Hy(C),q)}))}}(ji(g),b,h,p)}function Gy(t,e){return function(n,i){const r=new yr;return n.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function QJ(t,e,n){return bL.apply(this,arguments)}(yield YL(n),i,r)})),r.promise}(ji(t),e)}function a2(t,e,n){const i=n.docs.get(e._key),r=new gh(t);return new mu(t,r,e._key,i,new tm(n.hasPendingWrites,n.fromCache),e.converter)}const xte={maxAttempts:5};class I6{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Jp(e)}set(e,n,i){this._verifyNotCommitted();const r=_h(e,this._firestore),s=jT(r.converter,n,i),l=NT(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,si.none())),this}update(e,n,i,...r){this._verifyNotCommitted();const s=_h(e,this._firestore);let l;return l="string"==typeof(n=(0,$.m9)(n))||n instanceof pu?t2(this._dataReader,"WriteBatch.update",s._key,n,i,r):e2(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(l.toMutation(s._key,si.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=_h(e,this._firestore);return this._mutations=this._mutations.concat(new Ay(n._key,si.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Oe(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function _h(t,e){if((t=(0,$.m9)(t)).firestore!==e)throw new Oe(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class Ete extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=Jp(e)}get(e){const n=_h(e,this._firestore),i=new nte(this._firestore);return this._transaction.lookup([n._key]).then(r=>{if(!r||1!==r.length)return lt();const s=r[0];if(s.isFoundDocument())return new hE(this._firestore,i,s.key,s,n.converter);if(s.isNoDocument())return new hE(this._firestore,i,n._key,null,n.converter);throw lt()})}set(e,n,i){const r=_h(e,this._firestore),s=jT(r.converter,n,i),l=NT(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(e,n,i,...r){const s=_h(e,this._firestore);let l;return l="string"==typeof(n=(0,$.m9)(n))||n instanceof pu?t2(this._dataReader,"Transaction.update",s._key,n,i,r):e2(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,l),this}delete(e){const n=_h(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=_h(e,this._firestore),i=new gh(this._firestore);return super.get(e).then(r=>new mu(this._firestore,i,n._key,r._document,new tm(!1,!1),n.converter))}}function l2(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Oe("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function D6(){if(typeof Uint8Array>"u")throw new Oe("unimplemented","Uint8Arrays are not available in this environment.")}function A6(){if(!function iX(){return typeof atob<"u"}())throw new Oe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,e=!0){yy=Ze.SDK_VERSION,(0,Ze._registerComponent)(new Yi.wA("firestore",(n,{instanceIdentifier:i,options:r})=>{const s=n.getProvider("app").getImmediate(),l=new ti(new DQ(n.getProvider("auth-internal")),new MQ(n.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Oe(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(h.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,Ze.registerVersion)(oG,"3.13.0",t),(0,Ze.registerVersion)(oG,"3.13.0","esm2017")}();class gE{constructor(e){this._delegate=e}static fromBase64String(e){return A6(),new gE(jl.fromBase64String(e))}static fromUint8Array(e){return D6(),new gE(jl.fromUint8Array(e))}toBase64(){return A6(),this._delegate.toBase64()}toUint8Array(){return D6(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function c2(t){return function kte(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const i of e)if(i in n&&"function"==typeof n[i])return!0;return!1}(t,["next","error","complete"])}class Ote{enableIndexedDbPersistence(e,n){return function Ree(t,e){o6(t=ln(t,ti));const n=ji(t);if(n._uninitializedComponentsProvider)throw new Oe(me.FAILED_PRECONDITION,"SDK cache is already specified.");pa("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=t._freezeSettings(),r=new zy;return s6(n,r,new jL(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return function kee(t){o6(t=ln(t,ti));const e=ji(t);if(e._uninitializedComponentsProvider)throw new Oe(me.FAILED_PRECONDITION,"SDK cache is already specified.");pa("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),i=new zy;return s6(e,i,new U4(i,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Oee(t){if(t._initialized&&!t._terminated)throw new Oe(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new yr;return t._queue.enqueueAndForgetEvenWhileRestricted((0,Q.Z)(function*(){try{yield(n=(0,Q.Z)(function*(i){if(!Ka.D())return Promise.resolve();const r=i+"main";yield Ka.delete(r)}),function(i){return n.apply(this,arguments)})(OF(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(e._delegate)}}class T6{constructor(e,n,i){this._delegate=n,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof ih||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&pa("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},n),e)).merge,this._delegate._setSettings(e)}useEmulator(e,n,i={}){t6(this._delegate,e,n,i)}enableNetwork(){return function Pee(t){return function yee(t){return t.asyncQueue.enqueue((0,Q.Z)(function*(){const e=yield H4(t),n=yield $4(t);return e.setNetworkEnabled(!0),function(i){const r=nt(i);return r.vu.delete(0),sE(r)}(n)}))}(ji(t=ln(t,ti)))}(this._delegate)}disableNetwork(){return function Fee(t){return function vee(t){return t.asyncQueue.enqueue((0,Q.Z)(function*(){const e=yield H4(t),n=yield $4(t);return e.setNetworkEnabled(!1),(i=(0,Q.Z)(function*(r){const s=nt(r);s.vu.add(0),yield Py(s),s.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(n);var i}))}(ji(t=ln(t,ti)))}(this._delegate)}enablePersistence(e){let n=!1,i=!1;return e&&(n=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,Z4("synchronizeTabs",n,"experimentalForceOwningTab",i)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Nee(t){return function(e){const n=new yr;return e.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return function tee(t,e){return IL.apply(this,arguments)}(yield YL(e),n)})),n.promise}(ji(t=ln(t,ti)))}(this._delegate)}onSnapshotsInSync(e){return function fte(t,e){return function xee(t,e){const n=new ST(e);return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return i=yield Hy(t),r=n,nt(i).ku.add(r),void r.next();var i,r})),()=>{n.Dc(),t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return i=yield Hy(t),r=n,void nt(i).ku.delete(r);var i,r}))}}(ji(t=ln(t,ti)),XL(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Oe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Wy(this,n6(this._delegate,e))}catch(n){throw Ps(n,"collection()","Firestore.collection()")}}doc(e){try{return new ma(this,RT(this._delegate,e))}catch(n){throw Ps(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Fs(this,function See(t,e){if(t=ln(t,lE),ZL("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Oe(me.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ts(t,null,(n=e,new cu(un.emptyPath(),n)));var n}(this._delegate,e))}catch(n){throw Ps(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function Cte(t,e,n){t=ln(t,ti);const i=Object.assign(Object.assign({},xte),n);return function(r){if(r.maxAttempts<1)throw new Oe(me.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,s,l){const h=new yr;return r.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){const p=yield function G4(t){return AT(t).then(e=>e.datastore)}(r);new gee(r.asyncQueue,p,l,s,h).run()})),h.promise}(ji(t),r=>e(new Ete(t,r)),i)}(this._delegate,n=>e(new M6(this,n)))}batch(){return ji(this._delegate),new R6(new I6(this._delegate,e=>Gy(this._delegate,e)))}loadBundle(e){return function Lee(t,e){const n=ji(t=ln(t,ti)),i=new Aee;return function Eee(t,e,n,i){const r=function(s,l){let h;return h="string"==typeof s?m3().encode(s):s,p=function(p,g){if(p instanceof Uint8Array)return j4(p,g);if(p instanceof ArrayBuffer)return j4(new Uint8Array(p),g);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new pee(p,l);var p}(n,rE(e));t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){!function hee(t,e,n){const i=nt(t);var r;(r=(0,Q.Z)(function*(s,l,h){try{const p=yield l.getMetadata();if(yield function(D,R){const B=nt(D),G=Ui(R.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",q=>B.qs.getBundleMetadata(q,R.id)).then(q=>!!q&&q.createTime.compareTo(G)>=0)}(s.localStore,p))return yield l.close(),h._completeWith({taskState:"Success",documentsLoaded:(D=p).totalDocuments,bytesLoaded:D.totalBytes,totalDocuments:D.totalDocuments,totalBytes:D.totalBytes}),Promise.resolve(new Set);h._updateProgress(R4(p));const g=new GJ(p,s.localStore,l.serializer);let b=yield l.bc();for(;b;){const D=yield g.zu(b);D&&h._updateProgress(D),b=yield l.bc()}const C=yield g.complete();return yield fu(s,C.Ju,void 0),yield function(D,R){const B=nt(D);return B.persistence.runTransaction("Save bundle","readwrite",G=>B.qs.saveBundleMetadata(G,R))}(s.localStore,p),h._completeWith(C.progress),Promise.resolve(C.Hu)}catch(p){return pa("SyncEngine",`Loading bundle failed with ${p}`),h._failWith(p),Promise.resolve(new Set)}var D}),function(s,l,h){return r.apply(this,arguments)})(i,e,n).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield YL(t),r,i)}))}(n,t._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Bee(t,e){return function Cee(t,e){return t.asyncQueue.enqueue((0,Q.Z)(function*(){return function(n,i){const r=nt(n);return r.persistence.runTransaction("Get named query","readonly",s=>r.qs.getNamedQuery(s,i))}(yield TT(t),e)}))}(ji(t=ln(t,ti)),e).then(n=>n?new ts(t,null,n.query):null)}(this._delegate,e).then(n=>n?new Fs(this,n):null)}}class zT extends o2{constructor(e){super(),this.firestore=e}convertBytes(e){return new gE(new jl(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ma.forKey(n,this.firestore,null)}}class M6{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new zT(e)}get(e){const n=im(e);return this._delegate.get(n).then(i=>new _E(this._firestore,new mu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,n.converter)))}set(e,n,i){const r=im(e);return i?(l2("Transaction.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){const s=im(e);return 2===arguments.length?this._delegate.update(s,n):this._delegate.update(s,n,i,...r),this}delete(e){const n=im(e);return this._delegate.delete(n),this}}class R6{constructor(e){this._delegate=e}set(e,n,i){const r=im(e);return i?(l2("WriteBatch.set",i),this._delegate.set(r,n,i)):this._delegate.set(r,n),this}update(e,n,i,...r){const s=im(e);return 2===arguments.length?this._delegate.update(s,n):this._delegate.update(s,n,i,...r),this}delete(e){const n=im(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class nm{constructor(e,n,i){this._firestore=e,this._userDataWriter=n,this._delegate=i}fromFirestore(e,n){const i=new mE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yE(this._firestore,i),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const i=nm.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let s=r.get(n);return s||(s=new nm(e,new zT(e),n),r.set(n,s)),s}}nm.INSTANCES=new WeakMap;class ma{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new zT(e)}static forPath(e,n,i){if(e.length%2!=0)throw new Oe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ma(n,new ei(n._delegate,i,new Qe(e)))}static forKey(e,n,i){return new ma(n,new ei(n._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new Wy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Wy(this.firestore,n6(this._delegate,e))}catch(n){throw Ps(n,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,$.m9)(e))instanceof ei&&i6(this._delegate,e)}set(e,n){n=l2("DocumentReference.set",n);try{return n?x6(this._delegate,e,n):x6(this._delegate,e)}catch(i){throw Ps(i,"setDoc()","DocumentReference.set()")}}update(e,n,...i){try{return 1===arguments.length?E6(this._delegate,e):E6(this._delegate,e,n,...i)}catch(r){throw Ps(r,"updateDoc()","DocumentReference.update()")}}delete(){return function dte(t){return Gy(ln(t.firestore,ti),[new Ay(t._key,si.none())])}(this._delegate)}onSnapshot(...e){const n=k6(e),i=O6(e,r=>new _E(this.firestore,new mu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return C6(this._delegate,n,i)}get(e){let n;return n="cache"===e?.source?function ote(t){t=ln(t,ei);const e=ln(t.firestore,ti),n=ji(e),i=new gh(e);return function bee(t,e){const n=new yr;return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return(i=(0,Q.Z)(function*(r,s,l){try{const h=yield function(p,g){const b=nt(p);return b.persistence.runTransaction("read document","readonly",C=>b.localDocuments.getDocument(C,g))}(r,s);h.isFoundDocument()?l.resolve(h):h.isNoDocument()?l.resolve(null):l.reject(new Oe(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const p=By(h,`Failed to get document '${s} from cache`);l.reject(p)}}),function(r,s,l){return i.apply(this,arguments)})(yield TT(t),e,n);var i})),n.promise}(n,t._key).then(r=>new mu(e,i,t._key,r,new tm(null!==r&&r.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===e?.source?function ate(t){t=ln(t,ei);const e=ln(t.firestore,ti);return W4(ji(e),t._key,{source:"server"}).then(n=>a2(e,t,n))}(this._delegate):function ste(t){t=ln(t,ei);const e=ln(t.firestore,ti);return W4(ji(e),t._key).then(n=>a2(e,t,n))}(this._delegate),n.then(i=>new _E(this.firestore,new mu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ma(this.firestore,this._delegate.withConverter(e?nm.getInstance(this.firestore,e):null))}}function Ps(t,e,n){return t.message=t.message.replace(e,n),t}function k6(t){for(const e of t)if("object"==typeof e&&!c2(e))return e;return{}}function O6(t,e){var n,i;let r;return r=c2(t[0])?t[0]:c2(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:s=>{r.next&&r.next(e(s))},error:null===(n=r.error)||void 0===n?void 0:n.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class _E{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ma(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return w6(this._delegate,e._delegate)}}class yE extends _E{data(e){const n=this._delegate.data(e);return function CQ(t,e){t||lt()}(void 0!==n),n}}class Fs{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new zT(e)}where(e,n,i){try{return new Fs(this.firestore,ph(this._delegate,function Yee(t,e,n){const i=e,r=LT("where",t);return pE._create(r,i,n)}(e,n,i)))}catch(r){throw Ps(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Fs(this.firestore,ph(this._delegate,function Kee(t,e="asc"){const n=e,i=LT("orderBy",t);return s2._create(i,n)}(e,n)))}catch(i){throw Ps(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Fs(this.firestore,ph(this._delegate,function Zee(t){return J4("limit",t),BT._create("limit",t,"F")}(e)))}catch(n){throw Ps(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Fs(this.firestore,ph(this._delegate,function Qee(t){return J4("limitToLast",t),BT._create("limitToLast",t,"L")}(e)))}catch(n){throw Ps(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Fs(this.firestore,ph(this._delegate,function Xee(...t){return VT._create("startAt",t,!0)}(...e)))}catch(n){throw Ps(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Fs(this.firestore,ph(this._delegate,function Jee(...t){return VT._create("startAfter",t,!1)}(...e)))}catch(n){throw Ps(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Fs(this.firestore,ph(this._delegate,function ete(...t){return UT._create("endBefore",t,!1)}(...e)))}catch(n){throw Ps(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Fs(this.firestore,ph(this._delegate,function tte(...t){return UT._create("endAt",t,!0)}(...e)))}catch(n){throw Ps(n,"endAt()","Query.endAt()")}}isEqual(e){return QL(this._delegate,e._delegate)}get(e){let n;return n="cache"===e?.source?function cte(t){t=ln(t,ts);const e=ln(t.firestore,ti),n=ji(e),i=new gh(e);return function wee(t,e){const n=new yr;return t.asyncQueue.enqueueAndForget((0,Q.Z)(function*(){return(i=(0,Q.Z)(function*(r,s,l){try{const h=yield vT(r,s,!0),p=new N4(s,h.ir),g=p.sc(h.documents),b=p.applyChanges(g,!1);l.resolve(b.snapshot)}catch(h){const p=By(h,`Failed to execute query '${s} against cache`);l.reject(p)}}),function(r,s,l){return i.apply(this,arguments)})(yield TT(t),e,n);var i})),n.promise}(n,t._query).then(r=>new mh(e,i,t,r))}(this._delegate):"server"===e?.source?function ute(t){t=ln(t,ts);const e=ln(t.firestore,ti),n=ji(e),i=new gh(e);return q4(n,t._query,{source:"server"}).then(r=>new mh(e,i,t,r))}(this._delegate):function lte(t){t=ln(t,ts);const e=ln(t.firestore,ti),n=ji(e),i=new gh(e);return p6(t._query),q4(n,t._query).then(r=>new mh(e,i,t,r))}(this._delegate),n.then(i=>new u2(this.firestore,new mh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const n=k6(e),i=O6(e,r=>new u2(this.firestore,new mh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return C6(this._delegate,n,i)}withConverter(e){return new Fs(this.firestore,this._delegate.withConverter(e?nm.getInstance(this.firestore,e):null))}}class Pte{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new yE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class u2{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Fs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new yE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Pte(this._firestore,n))}forEach(e,n){this._delegate.forEach(i=>{e.call(n,new yE(this._firestore,i))})}isEqual(e){return w6(this._delegate,e._delegate)}}class Wy extends Fs{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ma(this.firestore,e):null}doc(e){try{return new ma(this.firestore,void 0===e?RT(this._delegate):RT(this._delegate,e))}catch(n){throw Ps(n,"doc()","CollectionReference.doc()")}}add(e){return function hte(t,e){const n=ln(t.firestore,ti),i=RT(t),r=jT(t.converter,e);return Gy(n,[NT(Jp(t.firestore),"addDoc",i._key,r,null!==t.converter,{}).toMutation(i._key,si.exists(!1))]).then(()=>i)}(this._delegate,e).then(n=>new ma(this.firestore,n))}isEqual(e){return i6(this._delegate,e._delegate)}withConverter(e){return new Wy(this.firestore,this._delegate.withConverter(e?nm.getInstance(this.firestore,e):null))}}function im(t){return ln(t,ei)}class d2{constructor(...e){this._delegate=new pu(...e)}static documentId(){return new d2(Ti.keyField().canonicalString())}isEqual(e){return(e=(0,$.m9)(e))instanceof pu&&this._delegate._internalPath.isEqual(e._internalPath)}}class rm{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Ste(){return new JL("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new rm(e)}static delete(){const e=function Ite(){return new uE("deleteField")}();return e._methodName="FieldValue.delete",new rm(e)}static arrayUnion(...e){const n=function Dte(...t){return new Hee("arrayUnion",t)}(...e);return n._methodName="FieldValue.arrayUnion",new rm(n)}static arrayRemove(...e){const n=function Ate(...t){return new $ee("arrayRemove",t)}(...e);return n._methodName="FieldValue.arrayRemove",new rm(n)}static increment(e){const n=function Tte(t){return new Gee("increment",t)}(e);return n._methodName="FieldValue.increment",new rm(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Fte={Firestore:T6,GeoPoint:kT,Timestamp:ri,Blob:gE,Transaction:M6,WriteBatch:R6,DocumentReference:ma,DocumentSnapshot:_E,Query:Fs,QueryDocumentSnapshot:yE,QuerySnapshot:u2,CollectionReference:Wy,FieldPath:d2,FieldValue:rm,setLogLevel:function Nte(t){!function EQ(t){Xd.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};function N6(t,e){return function Vte(t,e=dp){return new On.y(n=>{let i;return null!=e?e.schedule(()=>{i=t.onSnapshot({includeMetadataChanges:!0},n)}):i=t.onSnapshot({includeMetadataChanges:!0},n),()=>{i?.()}})}(t,e)}function h2(t,e){return N6(t,e).pipe((0,bt.U)(n=>({payload:n,type:"query"})))}function HT(t,e){return h2(t,e).pipe(Zo(void 0),mA(),(0,bt.U)(([n,i])=>{const r=i.payload.docChanges(),s=r.map(l=>({type:l.type,payload:l}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,h)=>{const p=r.find(b=>b.doc.ref.isEqual(l.ref)),g=n?.payload.docs.find(b=>b.ref.isEqual(l.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(l.metadata)||!p&&g&&JSON.stringify(g.metadata)===JSON.stringify(l.metadata)||s.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:l}})}),s}))}function P6(t,e,n){return HT(t,n).pipe(Da((i,r)=>function jte(t,e,n){return e.forEach(i=>{n.indexOf(i.type)>-1&&(t=function zte(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return f2(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return f2(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return f2(t,e.oldIndex,1)}return t}(t,i))}),t}(i,r.map(s=>s.payload),e),[]),(0,Mp.x)(),(0,bt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function f2(t,e,n,...i){const r=t.slice();return r.splice(e,n,...i),r}function F6(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}!function Bte(t){(function Lte(t,e){t.INTERNAL.registerComponent(new Yi.wA("firestore-compat",n=>{const i=n.getProvider("app-compat").getImmediate(),r=n.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},Fte)))})(t,(e,n)=>new T6(e,n,new Ote)),t.registerVersion("@firebase/firestore-compat","0.3.12")}(mZ.Z);class L6{constructor(e,n,i){this.ref=e,this.query=n,this.afs=i}stateChanges(e){let n=HT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(n=n.pipe((0,bt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),n.pipe(Zo(void 0),mA(),xn(([i,r])=>r.length>0||!i),(0,bt.U)(([i,r])=>r),Yn)}auditTrail(e){return this.stateChanges(e).pipe(Da((n,i)=>[...n,...i],[]))}snapshotChanges(e){const n=F6(e);return P6(this.query,n,this.afs.schedulers.outsideAngular).pipe(Yn)}valueChanges(e={}){return h2(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(n=>n.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),Yn)}get(e){return(0,wn.D)(this.query.get(e)).pipe(Yn)}add(e){return this.ref.add(e)}doc(e){return new B6(this.ref.doc(e),this.afs)}}class B6{constructor(e,n){this.ref=e,this.afs=n}set(e,n){return this.ref.set(e,n)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,n){const i=this.ref.collection(e),{ref:r,query:s}=V6(i,n);return new L6(r,s,this.afs)}snapshotChanges(){return function Ute(t,e){return N6(t,e).pipe(Zo(void 0),mA(),(0,bt.U)(([n,i])=>i.exists?n?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Yn)}valueChanges(e={}){return this.snapshotChanges().pipe((0,bt.U)(({payload:n})=>e.idField?Object.assign(Object.assign({},n.data()),{[e.idField]:n.id}):n.data()))}get(e){return(0,wn.D)(this.ref.get(e)).pipe(Yn)}}class Hte{constructor(e,n){this.query=e,this.afs=n}stateChanges(e){return e&&0!==e.length?HT(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(n=>n.filter(i=>e.indexOf(i.type)>-1)),xn(n=>n.length>0),Yn):HT(this.query,this.afs.schedulers.outsideAngular).pipe(Yn)}auditTrail(e){return this.stateChanges(e).pipe(Da((n,i)=>[...n,...i],[]))}snapshotChanges(e){const n=F6(e);return P6(this.query,n,this.afs.schedulers.outsideAngular).pipe(Yn)}valueChanges(e={}){return h2(this.query,this.afs.schedulers.outsideAngular).pipe((0,bt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),Yn)}get(e){return(0,wn.D)(this.query.get(e)).pipe(Yn)}}const $te=new u.OlP("angularfire2.enableFirestorePersistence"),Gte=new u.OlP("angularfire2.firestore.persistenceSettings"),Wte=new u.OlP("angularfire2.firestore.settings"),qte=new u.OlP("angularfire2.firestore.use-emulator");function V6(t,e=(n=>n)){return{query:e(t),ref:t}}let Yte=(()=>{class t{constructor(n,i,r,s,l,h,p,g,b,C,D,R,B,G,q,le,De){this.schedulers=p;const Be=(0,Mo.on)(n,h,i),Ve=b;C&&Iw(Be,h,D,B,G,q,R,le),[this.firestore,this.persistenceEnabled$]=(0,Mo.cc)(`${Be.name}.firestore`,"AngularFirestore",Be.name,()=>{const ft=h.runOutsideAngular(()=>Be.firestore());if(s&&ft.settings(s),Ve&&ft.useEmulator(...Ve),r&&!hi(l)){const wt=()=>{try{return(0,wn.D)(ft.enablePersistence(g||void 0).then(()=>!0,()=>!1))}catch(Zt){return typeof console<"u"&&console.warn(Zt),(0,at.of)(!1)}};return[ft,h.runOutsideAngular(wt)]}return[ft,(0,at.of)(!1)]},[s,Ve,r])}collection(n,i){let r;r="string"==typeof n?this.firestore.collection(n):n;const{ref:s,query:l}=V6(r,i),h=this.schedulers.ngZone.run(()=>s);return new L6(h,l,this)}collectionGroup(n,i){const r=i||(l=>l),s=this.firestore.collectionGroup(n);return new Hte(r(s),this)}doc(n){let i;i="string"==typeof n?this.firestore.doc(n):n;const r=this.schedulers.ngZone.run(()=>i);return new B6(r,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(Mo.Dh),u.LFG(Mo.xv,8),u.LFG($te,8),u.LFG(Wte,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ms),u.LFG(Gte,8),u.LFG(qte,8),u.LFG(ny,8),u.LFG(vD,8),u.LFG(bD,8),u.LFG($d,8),u.LFG(xw,8),u.LFG(Ew,8),u.LFG(Cw,8),u.LFG(To,8))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),Kte=(()=>{var t;class e{constructor(i){this.afs=i,this.email=""}add(i){this.email=JSON.parse(localStorage.getItem("user")||"{}").email,this.afs.collection("exceldata").doc(this.email).collection("entries").add({item:i})}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Yte))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const U6=Jc({passive:!0});let Zte=(()=>{var t;class e{constructor(i,r){this._platform=i,this._ngZone=r,this._monitoredElements=new Map}monitor(i){if(!this._platform.isBrowser)return _o.E;const r=nu(i),s=this._monitoredElements.get(r);if(s)return s.subject;const l=new jt.x,h="cdk-text-field-autofilled",p=g=>{"cdk-text-field-autofill-start"!==g.animationName||r.classList.contains(h)?"cdk-text-field-autofill-end"===g.animationName&&r.classList.contains(h)&&(r.classList.remove(h),this._ngZone.run(()=>l.next({target:g.target,isAutofilled:!1}))):(r.classList.add(h),this._ngZone.run(()=>l.next({target:g.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",p,U6),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:l,unlisten:()=>{r.removeEventListener("animationstart",p,U6)}}),l}stopMonitoring(i){const r=nu(i),s=this._monitoredElements.get(r);s&&(s.unlisten(),s.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((i,r)=>this.stopMonitoring(r))}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Zr),u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Qte=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),e})();let z6=(()=>{var t;class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.Qsj),u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t}),e})(),sm=(()=>{var t;class e extends z6{}return(t=e).\u0275fac=function(){let n;return function(r){return(n||(n=u.n5z(t)))(r||t)}}(),t.\u0275dir=u.lG2({type:t,features:[u.qOj]}),e})();const zl=new u.OlP("NgValueAccessor"),Jte={provide:zl,useExisting:(0,u.Gpc)(()=>$T),multi:!0},tne=new u.OlP("CompositionEventMode");let $T=(()=>{var t;class e extends z6{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ene(){const t=L()?L().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(i){this.setProperty("value",i??"")}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(tne,8))},t.\u0275dir=u.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&u.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[u._Bn([Jte]),u.qOj]}),e})();function yh(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function $6(t){return null!=t&&"number"==typeof t.length}const Es=new u.OlP("NgValidators"),vh=new u.OlP("NgAsyncValidators"),nne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ine{static min(e){return function G6(t){return e=>{if(yh(e.value)||yh(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function W6(t){return e=>{if(yh(e.value)||yh(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function q6(t){return yh(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Y6(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function K6(t){return yh(t.value)||nne.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function Z6(t){return e=>yh(e.value)||!$6(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Q6(t){return e=>$6(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function X6(t){if(!t)return GT;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(yh(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return s5(e)}static composeAsync(e){return o5(e)}}function GT(t){return null}function J6(t){return null!=t}function e5(t){return(0,u.QGY)(t)?(0,wn.D)(t):t}function t5(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function n5(t,e){return e.map(n=>n(t))}function r5(t){return t.map(e=>function rne(t){return!t.validate}(e)?e:n=>e.validate(n))}function s5(t){if(!t)return null;const e=t.filter(J6);return 0==e.length?null:function(n){return t5(n5(n,e))}}function p2(t){return null!=t?s5(r5(t)):null}function o5(t){if(!t)return null;const e=t.filter(J6);return 0==e.length?null:function(n){return function j6(...t){const e=(0,mo.jO)(t),{args:n,keys:i}=Rn(t),r=new On.y(s=>{const{length:l}=n;if(!l)return void s.complete();const h=new Array(l);let p=l,g=l;for(let b=0;b<l;b++){let C=!1;(0,Sa.Xf)(n[b]).subscribe((0,mi.x)(s,D=>{C||(C=!0,g--),h[b]=D},()=>p--,void 0,()=>{(!p||!C)&&(g||s.next(i?go(i,h):h),s.complete())}))}});return e?r.pipe(ml(e)):r}(n5(n,e).map(e5)).pipe((0,bt.U)(t5))}}function m2(t){return null!=t?o5(r5(t)):null}function a5(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function l5(t){return t._rawValidators}function c5(t){return t._rawAsyncValidators}function g2(t){return t?Array.isArray(t)?t:[t]:[]}function WT(t,e){return Array.isArray(t)?t.includes(e):t===e}function u5(t,e){const n=g2(e);return g2(t).forEach(r=>{WT(n,r)||n.push(r)}),n}function d5(t,e){return g2(e).filter(n=>!WT(t,n))}class h5{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=p2(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=m2(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Ls extends h5{get formDirective(){return null}get path(){return null}}class gu extends h5{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class f5{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let p5=(()=>{var t;class e extends f5{constructor(i){super(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(gu,2))},t.\u0275dir=u.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&u.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[u.qOj]}),e})();const vE="VALID",YT="INVALID",qy="PENDING",bE="DISABLED";function v2(t){return(KT(t)?t.validators:t)||null}function b2(t,e){return(KT(e)?e.asyncValidators:t)||null}function KT(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class y5{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vE}get invalid(){return this.status===YT}get pending(){return this.status==qy}get disabled(){return this.status===bE}get enabled(){return this.status!==bE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(u5(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(u5(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(d5(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(d5(e,this._rawAsyncValidators))}hasValidator(e){return WT(this._rawValidators,e)}hasAsyncValidator(e){return WT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=qy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=bE,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=vE,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vE||this.status===qy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bE:vE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=qy,this._hasOwnPendingAsyncValidator=!0;const n=e5(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){const i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?bE:this.errors?YT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(qy)?qy:this._anyControlsHaveStatus(YT)?YT:vE}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){KT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function cne(t){return Array.isArray(t)?p2(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function une(t){return Array.isArray(t)?m2(t):t||null}(this._rawAsyncValidators)}}class w2 extends y5{constructor(e,n,i){super(v2(n),b2(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function _5(t,e,n){t._forEachChild((i,r)=>{if(void 0===n[r])throw new u.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(i=>{(function g5(t,e,n){const i=t.controls;if(!(e?Object.keys(i):i).length)throw new u.vHH(1e3,"");if(!i[n])throw new u.vHH(1001,"")})(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>!!i._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Yy=new u.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>ZT}),ZT="always";function wE(t,e,n=ZT){x2(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function fne(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&v5(t,e)})}(t,e),function mne(t,e){const n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function pne(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&v5(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function hne(t,e){if(e.valueAccessor.setDisabledState){const n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function XT(t,e,n=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),eM(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function JT(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function x2(t,e){const n=l5(t);null!==e.validator?t.setValidators(a5(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const i=c5(t);null!==e.asyncValidator?t.setAsyncValidators(a5(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]);const r=()=>t.updateValueAndValidity();JT(e._rawValidators,r),JT(e._rawAsyncValidators,r)}function eM(t,e){let n=!1;if(null!==t){if(null!==e.validator){const r=l5(t);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(null!==e.asyncValidator){const r=c5(t);if(Array.isArray(r)&&r.length>0){const s=r.filter(l=>l!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}const i=()=>{};return JT(e._rawValidators,i),JT(e._rawAsyncValidators,i),n}function v5(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function b5(t,e){x2(t,e)}function w5(t,e){t._syncPendingControls(),e.forEach(n=>{const i=n.control;"submit"===i.updateOn&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const bne={provide:Ls,useExisting:(0,u.Gpc)(()=>tM)},xE=(()=>Promise.resolve())();let tM=(()=>{var t;class e extends Ls{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new u.vpe,this.form=new w2({},p2(i),m2(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){xE.then(()=>{const r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),wE(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){xE.then(()=>{const r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){xE.then(()=>{const r=this._findContainer(i.path),s=new w2({});b5(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){xE.then(()=>{const r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){xE.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,w5(this.form,this._directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(Es,10),u.Y36(vh,10),u.Y36(Yy,8))},t.\u0275dir=u.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&u.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([bne]),u.qOj]}),e})();function x5(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function E5(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const C5=class extends y5{constructor(e=null,n,i){super(v2(n),b2(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),KT(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=E5(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){x5(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){x5(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){E5(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Ene={provide:gu,useExisting:(0,u.Gpc)(()=>S2)},D5=(()=>Promise.resolve())();let S2=(()=>{var t;class e extends gu{constructor(i,r,s,l,h,p){super(),this._changeDetectorRef=h,this.callSetDisabledState=p,this.control=new C5,this._registered=!1,this.name="",this.update=new u.vpe,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function I2(t,e){if(!e)return null;let n,i,r;return Array.isArray(e),e.forEach(s=>{s.constructor===$T?n=s:function yne(t){return Object.getPrototypeOf(t.constructor)===sm}(s)?i=s:r=s}),r||i||n||null}(0,l)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){const r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),function C2(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){wE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(i){D5.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){const r=i.isDisabled.currentValue,s=0!==r&&(0,u.VuI)(r);D5.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?function QT(t,e){return[...e.path,t]}(i,this._parent):[i]}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(Ls,9),u.Y36(Es,10),u.Y36(vh,10),u.Y36(zl,10),u.Y36(u.sBO,8),u.Y36(Yy,8))},t.\u0275dir=u.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[u._Bn([Ene]),u.qOj,u.TTD]}),e})(),T5=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({}),e})();const Mne={provide:Ls,useExisting:(0,u.Gpc)(()=>nM)};let nM=(()=>{var t;class e extends Ls{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(eM(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const r=this.form.get(i.path);return wE(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){XT(i.control||null,i,!1),function vne(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,w5(this.form,this.directives),this.ngSubmit.emit(i),"dialog"===i?.target?.method}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const r=i.control,s=this.form.get(i.path);r!==s&&(XT(r||null,i),(t=>t instanceof C5)(s)&&(wE(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const r=this.form.get(i.path);b5(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const r=this.form.get(i.path);r&&function gne(t,e){return eM(t,e)}(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){x2(this.form,this),this._oldForm&&eM(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(Es,10),u.Y36(vh,10),u.Y36(Yy,8))},t.\u0275dir=u.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&u.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Mne]),u.qOj,u.TTD]}),e})(),Yne=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[T5]}),e})(),Zne=(()=>{var t;class e{static withConfig(i){return{ngModule:e,providers:[{provide:Yy,useValue:i.callSetDisabledState??ZT}]}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[Yne]}),e})();class Qne{constructor(e){this._box=e,this._destroyed=new jt.x,this._resizeSubject=new jt.x,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(n=>this._resizeSubject.next(n)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new On.y(n=>{const i=this._resizeSubject.subscribe(n);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(xn(n=>n.some(i=>i.target===e)),ww({bufferSize:1,refCount:!0}),Si(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let Xne=(()=>{var t;class e{constructor(){this._observers=new Map,this._ngZone=(0,u.f3M)(u.R0b)}ngOnDestroy(){for(const[,i]of this._observers)i.destroy();this._observers.clear()}observe(i,r){const s=r?.box||"content-box";return this._observers.has(s)||this._observers.set(s,new Qne(s)),this._observers.get(s).observe(i)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Jne=(()=>{var t;class e{create(i){return typeof MutationObserver>"u"?null:new MutationObserver(i)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),eie=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Jne]}),e})();const tie=["notch"],nie=["matFormFieldNotchedOutline",""],iie=["*"],rie=["textField"],sie=["iconPrefixContainer"],oie=["textPrefixContainer"];function aie(t,e){1&t&&u._UZ(0,"span",19)}function lie(t,e){if(1&t&&(u.TgZ(0,"label",17),u.Hsn(1,1),u.YNc(2,aie,1,0,"span",18),u.qZA()),2&t){const n=u.oxw(2);u.Q6J("floating",n._shouldLabelFloat())("monitorResize",n._hasOutline())("id",n._labelId),u.uIk("for",n._control.id),u.xp6(2),u.Q6J("ngIf",!n.hideRequiredMarker&&n._control.required)}}function cie(t,e){if(1&t&&u.YNc(0,lie,3,5,"label",16),2&t){const n=u.oxw();u.Q6J("ngIf",n._hasFloatingLabel())}}function uie(t,e){1&t&&u._UZ(0,"div",20)}function die(t,e){}function hie(t,e){if(1&t&&u.YNc(0,die,0,0,"ng-template",22),2&t){u.oxw(2);const n=u.MAs(1);u.Q6J("ngTemplateOutlet",n)}}function fie(t,e){if(1&t&&(u.TgZ(0,"div",21),u.YNc(1,hie,1,1,"ng-template",9),u.qZA()),2&t){const n=u.oxw();u.Q6J("matFormFieldNotchedOutlineOpen",n._shouldLabelFloat()),u.xp6(1),u.Q6J("ngIf",!n._forceDisplayInfixLabel())}}function pie(t,e){1&t&&(u.TgZ(0,"div",23,24),u.Hsn(2,2),u.qZA())}function mie(t,e){1&t&&(u.TgZ(0,"div",25,26),u.Hsn(2,3),u.qZA())}function gie(t,e){}function _ie(t,e){if(1&t&&u.YNc(0,gie,0,0,"ng-template",22),2&t){u.oxw();const n=u.MAs(1);u.Q6J("ngTemplateOutlet",n)}}function yie(t,e){1&t&&(u.TgZ(0,"div",27),u.Hsn(1,4),u.qZA())}function vie(t,e){1&t&&(u.TgZ(0,"div",28),u.Hsn(1,5),u.qZA())}function bie(t,e){1&t&&u._UZ(0,"div",29)}function wie(t,e){if(1&t&&(u.TgZ(0,"div",30),u.Hsn(1,6),u.qZA()),2&t){const n=u.oxw();u.Q6J("@transitionMessages",n._subscriptAnimationState)}}function xie(t,e){if(1&t&&(u.TgZ(0,"mat-hint",34),u._uU(1),u.qZA()),2&t){const n=u.oxw(2);u.Q6J("id",n._hintLabelId),u.xp6(1),u.Oqu(n.hintLabel)}}function Eie(t,e){if(1&t&&(u.TgZ(0,"div",31),u.YNc(1,xie,2,2,"mat-hint",32),u.Hsn(2,7),u._UZ(3,"div",33),u.Hsn(4,8),u.qZA()),2&t){const n=u.oxw();u.Q6J("@transitionMessages",n._subscriptAnimationState),u.xp6(1),u.Q6J("ngIf",n.hintLabel)}}const Cie=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Iie=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let k2=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t,selectors:[["mat-label"]]}),e})();const Sie=new u.OlP("MatError");let Die=0,q5=(()=>{var t;class e{constructor(){this.align="start",this.id="mat-mdc-hint-"+Die++}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(u.Ikx("id",r.id),u.uIk("align",null),u.ekj("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}}),e})();const Aie=new u.OlP("MatPrefix"),Tie=new u.OlP("MatSuffix"),Y5=new u.OlP("FloatingLabelParent");let K5=(()=>{var t;class e{get floating(){return this._floating}set floating(i){this._floating=i,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(i){this._monitorResize=i,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(i){this._elementRef=i,this._floating=!1,this._monitorResize=!1,this._resizeObserver=(0,u.f3M)(Xne),this._ngZone=(0,u.f3M)(u.R0b),this._parent=(0,u.f3M)(Y5),this._resizeSubscription=new yo.w0}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Mie(t){if(null!==t.offsetParent)return t.scrollWidth;const n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);const i=n.scrollWidth;return n.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq))},t.\u0275dir=u.lG2({type:t,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&u.ekj("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}}),e})();const Z5="mdc-line-ripple--active",iM="mdc-line-ripple--deactivating";let Q5=(()=>{var t;class e{constructor(i,r){this._elementRef=i,this._handleTransitionEnd=s=>{const l=this._elementRef.nativeElement.classList,h=l.contains(iM);"opacity"===s.propertyName&&h&&l.remove(Z5,iM)},r.runOutsideAngular(()=>{i.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const i=this._elementRef.nativeElement.classList;i.remove(iM),i.add(Z5)}deactivate(){this._elementRef.nativeElement.classList.add(iM)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(u.R0b))},t.\u0275dir=u.lG2({type:t,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]}),e})(),X5=(()=>{var t;class e{constructor(i,r){this._elementRef=i,this._ngZone=r,this.open=!1}ngAfterViewInit(){const i=this._elementRef.nativeElement.querySelector(".mdc-floating-label");i?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(i.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>i.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(i){this._notch.nativeElement.style.width=this.open&&i?`calc(${i}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(u.R0b))},t.\u0275cmp=u.Xpm({type:t,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&u.Gf(tie,5),2&i){let s;u.iGM(s=u.CRH())&&(r._notch=s.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&u.ekj("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:nie,ngContentSelectors:iie,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(u.F$t(),u._UZ(0,"div",0),u.TgZ(1,"div",1,2),u.Hsn(3),u.qZA(),u._UZ(4,"div",3))},encapsulation:2,changeDetection:0}),e})();const Rie={transitionMessages:yH("transitionMessages",[KN("enter",kp({opacity:1,transform:"translateY(0%)"})),ZN("void => enter",[kp({opacity:0,transform:"translateY(-5px)"}),YN("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let J5=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275dir=u.lG2({type:t}),e})();const eW=new u.OlP("MatFormField"),kie=new u.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS");let tW=0,Pie=(()=>{var t;class e{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(i){this._hideRequiredMarker=Qi(i)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(i){i!==this._floatLabel&&(this._floatLabel=i,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(i){const r=this._appearance;this._appearance=i||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==r&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(i){this._subscriptSizing=i||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(i){this._hintLabel=i,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(i){this._explicitFormFieldControl=i}constructor(i,r,s,l,h,p,g,b){this._elementRef=i,this._changeDetectorRef=r,this._ngZone=s,this._dir=l,this._platform=h,this._defaults=p,this._animationMode=g,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+tW++,this._hintLabelId="mat-mdc-hint-"+tW++,this._subscriptAnimationState="",this._destroyed=new jt.x,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,p&&(p.appearance&&(this.appearance=p.appearance),this._hideRequiredMarker=!!p?.hideRequiredMarker,p.color&&(this.color=p.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const i=this._control;i.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${i.controlType}`),i.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),i.ngControl&&i.ngControl.valueChanges&&i.ngControl.valueChanges.pipe(Si(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(i=>!i._isText),this._hasTextPrefix=!!this._prefixChildren.find(i=>i._isText),this._hasIconSuffix=!!this._suffixChildren.find(i=>!i._isText),this._hasTextSuffix=!!this._suffixChildren.find(i=>i._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),(0,bp.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Si(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(Si(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(i){const r=this._control?this._control.ngControl:null;return r&&r[i]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let i=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&i.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(l=>"start"===l.align):null,s=this._hintChildren?this._hintChildren.find(l=>"end"===l.align):null;r?i.push(r.id):this._hintLabel&&i.push(this._hintLabelId),s&&i.push(s.id)}else this._errorChildren&&i.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(i)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const i=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(i.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const r=this._iconPrefixContainer?.nativeElement,s=this._textPrefixContainer?.nativeElement,l=r?.getBoundingClientRect().width??0,h=s?.getBoundingClientRect().width??0;i.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${l+h}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const i=this._elementRef.nativeElement;if(i.getRootNode){const r=i.getRootNode();return r&&r!==i}return document.documentElement.contains(i)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(u.sBO),u.Y36(u.R0b),u.Y36(U),u.Y36(Zr),u.Y36(kie,8),u.Y36(u.QbO,8),u.Y36(ne))},t.\u0275cmp=u.Xpm({type:t,selectors:[["mat-form-field"]],contentQueries:function(i,r,s){if(1&i&&(u.Suo(s,k2,5),u.Suo(s,k2,7),u.Suo(s,J5,5),u.Suo(s,Aie,5),u.Suo(s,Tie,5),u.Suo(s,Sie,5),u.Suo(s,q5,5)),2&i){let l;u.iGM(l=u.CRH())&&(r._labelChildNonStatic=l.first),u.iGM(l=u.CRH())&&(r._labelChildStatic=l.first),u.iGM(l=u.CRH())&&(r._formFieldControl=l.first),u.iGM(l=u.CRH())&&(r._prefixChildren=l),u.iGM(l=u.CRH())&&(r._suffixChildren=l),u.iGM(l=u.CRH())&&(r._errorChildren=l),u.iGM(l=u.CRH())&&(r._hintChildren=l)}},viewQuery:function(i,r){if(1&i&&(u.Gf(rie,5),u.Gf(sie,5),u.Gf(oie,5),u.Gf(K5,5),u.Gf(X5,5),u.Gf(Q5,5)),2&i){let s;u.iGM(s=u.CRH())&&(r._textField=s.first),u.iGM(s=u.CRH())&&(r._iconPrefixContainer=s.first),u.iGM(s=u.CRH())&&(r._textPrefixContainer=s.first),u.iGM(s=u.CRH())&&(r._floatingLabel=s.first),u.iGM(s=u.CRH())&&(r._notchedOutline=s.first),u.iGM(s=u.CRH())&&(r._lineRipple=s.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&u.ekj("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[u._Bn([{provide:eW,useExisting:t},{provide:Y5,useExisting:t}])],ngContentSelectors:Iie,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(u.F$t(Cie),u.YNc(0,cie,1,1,"ng-template",null,0,u.W1O),u.TgZ(2,"div",1,2),u.NdJ("click",function(l){return r._control.onContainerClick(l)}),u.YNc(4,uie,1,0,"div",3),u.TgZ(5,"div",4),u.YNc(6,fie,2,2,"div",5),u.YNc(7,pie,3,0,"div",6),u.YNc(8,mie,3,0,"div",7),u.TgZ(9,"div",8),u.YNc(10,_ie,1,1,"ng-template",9),u.Hsn(11),u.qZA(),u.YNc(12,yie,2,0,"div",10),u.YNc(13,vie,2,0,"div",11),u.qZA(),u.YNc(14,bie,1,0,"div",12),u.qZA(),u.TgZ(15,"div",13),u.YNc(16,wie,2,1,"div",14),u.YNc(17,Eie,5,2,"div",15),u.qZA()),2&i&&(u.xp6(2),u.ekj("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),u.xp6(2),u.Q6J("ngIf",!r._hasOutline()&&!r._control.disabled),u.xp6(2),u.Q6J("ngIf",r._hasOutline()),u.xp6(1),u.Q6J("ngIf",r._hasIconPrefix),u.xp6(1),u.Q6J("ngIf",r._hasTextPrefix),u.xp6(2),u.Q6J("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),u.xp6(2),u.Q6J("ngIf",r._hasTextSuffix),u.xp6(1),u.Q6J("ngIf",r._hasIconSuffix),u.xp6(1),u.Q6J("ngIf",!r._hasOutline()),u.xp6(1),u.ekj("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),u.Q6J("ngSwitch",r._getDisplayedMessages()),u.xp6(1),u.Q6J("ngSwitchCase","error"),u.xp6(1),u.Q6J("ngSwitchCase","hint"))},dependencies:[tc,Au,Su,Du,q5,K5,X5,Q5],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Rie.transitionMessages]},changeDetection:0}),e})(),O2=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[Xi,Mn,eie,Xi]}),e})();const Fie=new u.OlP("MAT_INPUT_VALUE_ACCESSOR"),Lie=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let Bie=0;const Vie=GY(class{constructor(t,e,n,i){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=i,this.stateChanges=new jt.x}});let Uie=(()=>{var t;class e extends Vie{get disabled(){return this._disabled}set disabled(i){this._disabled=Qi(i),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(i){this._id=i||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(ine.required)??!1}set required(i){this._required=Qi(i)}get type(){return this._type}set type(i){this._type=i||"text",this._validateType(),!this._isTextarea&&Xc().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(i){i!==this.value&&(this._inputValueAccessor.value=i,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(i){this._readonly=Qi(i)}constructor(i,r,s,l,h,p,g,b,C,D){super(p,l,h,s),this._elementRef=i,this._platform=r,this._autofillMonitor=b,this._formField=D,this._uid="mat-input-"+Bie++,this.focused=!1,this.stateChanges=new jt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(G=>Xc().has(G)),this._iOSKeyupListener=G=>{const q=G.target;!q.value&&0===q.selectionStart&&0===q.selectionEnd&&(q.setSelectionRange(1,1),q.setSelectionRange(0,0))};const R=this._elementRef.nativeElement,B=R.nodeName.toLowerCase();this._inputValueAccessor=g||R,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&C.runOutsideAngular(()=>{i.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===B,this._isTextarea="textarea"===B,this._isInFormField=!!D,this._isNativeSelect&&(this.controlType=R.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(i=>{this.autofilled=i.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(i){this._elementRef.nativeElement.focus(i)}_focusChanged(i){i!==this.focused&&(this.focused=i,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const i=this._elementRef.nativeElement.value;this._previousNativeValue!==i&&(this._previousNativeValue=i,this.stateChanges.next())}_dirtyCheckPlaceholder(){const i=this._getPlaceholder();if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){Lie.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let i=this._elementRef.nativeElement.validity;return i&&i.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const i=this._elementRef.nativeElement,r=i.options[0];return this.focused||i.multiple||!this.empty||!!(i.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(i){i.length?this._elementRef.nativeElement.setAttribute("aria-describedby",i.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const i=this._elementRef.nativeElement;return this._isNativeSelect&&(i.multiple||i.size>1)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(Zr),u.Y36(gu,10),u.Y36(tM,8),u.Y36(nM,8),u.Y36(qY),u.Y36(Fie,10),u.Y36(Zte),u.Y36(u.R0b),u.Y36(eW,8))},t.\u0275dir=u.lG2({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&u.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(u.Ikx("id",r.id)("disabled",r.disabled)("required",r.required),u.uIk("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),u.ekj("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[u._Bn([{provide:J5,useExisting:t}]),u.qOj,u.TTD]}),e})(),jie=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[Xi,O2,O2,Qte,Xi]}),e})();const rW=["*"];class Hie{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,n){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=n.map(i=>this._trackTile(i))}_trackTile(e){const n=this._findMatchingGap(e.colspan);return this._markTilePosition(n,e),this.columnIndex=n+e.colspan,new $ie(this.rowIndex,n)}_findMatchingGap(e){let n=-1,i=-1;do{this.columnIndex+e>this.tracker.length?(this._nextRow(),n=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(n)):(n=this.tracker.indexOf(0,this.columnIndex),-1!=n?(i=this._findGapEndIndex(n),this.columnIndex=n+1):(this._nextRow(),n=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(n)))}while(i-n<e||0==i);return Math.max(n,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let n=e+1;n<this.tracker.length;n++)if(0!=this.tracker[n])return n;return this.tracker.length}_markTilePosition(e,n){for(let i=0;i<n.colspan;i++)this.tracker[e+i]=n.rowspan}}class $ie{constructor(e,n){this.row=e,this.col=n}}const sW=new u.OlP("MAT_GRID_LIST");let oW=(()=>{var t;class e{constructor(i,r){this._element=i,this._gridList=r,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(i){this._rowspan=Math.round(Yw(i))}get colspan(){return this._colspan}set colspan(i){this._colspan=Math.round(Yw(i))}_setStyle(i,r){this._element.nativeElement.style[i]=r}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(sW,8))},t.\u0275cmp=u.Xpm({type:t,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(i,r){2&i&&u.uIk("rowspan",r.rowspan)("colspan",r.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:rW,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(i,r){1&i&&(u.F$t(),u.TgZ(0,"div",0),u.Hsn(1),u.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),e})();const Gie=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class N2{constructor(){this._rows=0,this._rowspan=0}init(e,n,i,r){this._gutterSize=aW(e),this._rows=n.rowCount,this._rowspan=n.rowspan,this._cols=i,this._direction=r}getBaseTileSize(e,n){return`(${e}% - (${this._gutterSize} * ${n}))`}getTilePosition(e,n){return 0===n?"0":am(`(${e} + ${this._gutterSize}) * ${n}`)}getTileSize(e,n){return`(${e} * ${n}) + (${n-1} * ${this._gutterSize})`}setStyle(e,n,i){let r=100/this._cols,s=(this._cols-1)/this._cols;this.setColStyles(e,i,r,s),this.setRowStyles(e,n,r,s)}setColStyles(e,n,i,r){let s=this.getBaseTileSize(i,r);e._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(s,n)),e._setStyle("width",am(this.getTileSize(s,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class Wie extends N2{constructor(e){super(),this.fixedRowHeight=e}init(e,n,i,r){super.init(e,n,i,r),this.fixedRowHeight=aW(this.fixedRowHeight),Gie.test(this.fixedRowHeight)}setRowStyles(e,n){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,n)),e._setStyle("height",am(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",am(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(n=>{n._setStyle("top",null),n._setStyle("height",null)})}}class qie extends N2{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,n,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,n)),e._setStyle("paddingTop",am(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",am(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(n=>{n._setStyle("marginTop",null),n._setStyle("paddingTop",null)})}_parseRatio(e){const n=e.split(":");this.rowHeightRatio=parseFloat(n[0])/parseFloat(n[1])}}class Yie extends N2{setRowStyles(e,n){let s=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);e._setStyle("top",this.getTilePosition(s,n)),e._setStyle("height",am(this.getTileSize(s,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(n=>{n._setStyle("top",null),n._setStyle("height",null)})}}function am(t){return`calc(${t})`}function aW(t){return t.match(/([A-Za-z%]+)$/)?t:`${t}px`}let Zie=(()=>{var t;class e{constructor(i,r){this._element=i,this._dir=r,this._gutter="1px"}get cols(){return this._cols}set cols(i){this._cols=Math.max(1,Math.round(Yw(i)))}get gutterSize(){return this._gutter}set gutterSize(i){this._gutter=`${i??""}`}get rowHeight(){return this._rowHeight}set rowHeight(i){const r=`${i??""}`;r!==this._rowHeight&&(this._rowHeight=r,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(i){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===i?new Yie:i&&i.indexOf(":")>-1?new qie(i):new Wie(i)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new Hie);const i=this._tileCoordinator,r=this._tiles.filter(l=>!l._gridList||l._gridList===this),s=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,r),this._tileStyler.init(this.gutterSize,i,this.cols,s),r.forEach((l,h)=>{const p=i.positions[h];this._tileStyler.setStyle(l,p.row,p.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(i){i&&(this._element.nativeElement.style[i[0]]=i[1])}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(u.SBq),u.Y36(U,8))},t.\u0275cmp=u.Xpm({type:t,selectors:[["mat-grid-list"]],contentQueries:function(i,r,s){if(1&i&&u.Suo(s,oW,5),2&i){let l;u.iGM(l=u.CRH())&&(r._tiles=l)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(i,r){2&i&&u.uIk("cols",r.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[u._Bn([{provide:sW,useExisting:t}])],ngContentSelectors:rW,decls:2,vars:0,template:function(i,r){1&i&&(u.F$t(),u.TgZ(0,"div"),u.Hsn(1),u.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-header{font-size:var(--mat-grid-list-tile-header-primary-text-size)}.mat-grid-tile-header .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-header .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-header-secondary-text-size)}.mat-grid-tile-footer{font-size:var(--mat-grid-list-tile-footer-primary-text-size)}.mat-grid-tile-footer .mat-line{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;box-sizing:border-box}.mat-grid-tile-footer .mat-line:nth-child(n+2){font-size:var(--mat-grid-list-tile-footer-secondary-text-size)}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),e})(),Qie=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[oH,Xi,oH,Xi]}),e})();const Xie=[{path:"",component:pZ},{path:"dashboard",component:(()=>{var t;class e{constructor(i,r){this.itemservice=i,this.snackBar=r,this.item={id:"",shift:"",servertype:"",server:"",opco:"",time:0}}add(){const r=(new Date).getTime();this.item.time=r,this.itemservice.add(this.item),this.openSnackBar("Data Added Sucessfully"),this.item.id="",this.item.shift="",this.item.server="",this.item.servertype="",this.item.opco=""}openSnackBar(i){this.snackBar.open(i,"Undo",{duration:5e3})}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(Kte),u.Y36(HH))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-dashboard"]],decls:49,vars:5,consts:[[1,"body"],[1,"sidebar"],["src","assets\\login\\blackngreen_logo.jpeg","alt","",1,"logopattern"],[1,"basicoption"],[1,"sidepanelbutton"],[1,"section"],[1,"top-panel"],[1,"company"],[1,"formData"],["cols","3","rowHeight","3:1"],[1,"example-full-width"],["matInput","","placeholder","123",3,"ngModel","ngModelChange"],["matInput","","placeholder","Morning",3,"ngModel","ngModelChange"],["matInput","","placeholder","Exynos",3,"ngModel","ngModelChange"],["cols","2","rowHeight","3:1"],["matInput","","placeholder","minecraft",3,"ngModel","ngModelChange"],["matInput","","placeholder","Ex. Pizza",3,"ngModel","ngModelChange"],["mat-raised-button","","color","accent",1,"submit",3,"click"],[1,"search"]],template:function(i,r){1&i&&(u.TgZ(0,"div",0)(1,"div",1),u._UZ(2,"img",2),u.TgZ(3,"div",3)(4,"ul")(5,"button",4),u._uU(6,"Home"),u.qZA()(),u.TgZ(7,"ul")(8,"button",4),u._uU(9,"Library"),u.qZA()(),u.TgZ(10,"ul")(11,"button",4),u._uU(12,"Sessions"),u.qZA()(),u.TgZ(13,"p",5),u._uU(14,"My Collection"),u.qZA()()(),u.TgZ(15,"div",6)(16,"p",7),u._uU(17,"Dashboard"),u.qZA(),u.TgZ(18,"div",8)(19,"mat-grid-list",9)(20,"mat-grid-tile")(21,"mat-form-field",10)(22,"mat-label"),u._uU(23,"ID"),u.qZA(),u.TgZ(24,"input",11),u.NdJ("ngModelChange",function(l){return r.item.id=l}),u.qZA()()(),u.TgZ(25,"mat-grid-tile")(26,"mat-form-field",10)(27,"mat-label"),u._uU(28,"Shift"),u.qZA(),u.TgZ(29,"input",12),u.NdJ("ngModelChange",function(l){return r.item.shift=l}),u.qZA()()(),u.TgZ(30,"mat-grid-tile")(31,"mat-form-field",10)(32,"mat-label"),u._uU(33,"Server Type"),u.qZA(),u.TgZ(34,"input",13),u.NdJ("ngModelChange",function(l){return r.item.servertype=l}),u.qZA()()()(),u.TgZ(35,"mat-grid-list",14)(36,"mat-grid-tile")(37,"mat-form-field",10)(38,"mat-label"),u._uU(39,"Server"),u.qZA(),u.TgZ(40,"input",15),u.NdJ("ngModelChange",function(l){return r.item.server=l}),u.qZA()()(),u.TgZ(41,"mat-grid-tile")(42,"mat-form-field",10)(43,"mat-label"),u._uU(44,"OP CO"),u.qZA(),u.TgZ(45,"input",16),u.NdJ("ngModelChange",function(l){return r.item.opco=l}),u.qZA()()()(),u.TgZ(46,"button",17),u.NdJ("click",function(){return r.add()}),u._uU(47,"Submit"),u.qZA()()()(),u._UZ(48,"div",18)),2&i&&(u.xp6(24),u.Q6J("ngModel",r.item.id),u.xp6(5),u.Q6J("ngModel",r.item.shift),u.xp6(5),u.Q6J("ngModel",r.item.servertype),u.xp6(6),u.Q6J("ngModel",r.item.server),u.xp6(5),u.Q6J("ngModel",r.item.opco))},dependencies:[Uie,Pie,k2,$T,p5,S2,Zie,oW,qN],styles:[".sidebar[_ngcontent-%COMP%]{width:15%;height:100%;background-color:#212124}.body[_ngcontent-%COMP%]{background-color:#789461;height:100%}.logopattern[_ngcontent-%COMP%]{width:100%;height:25%}.sidepanelbutton[_ngcontent-%COMP%]{position:relative;background-color:#212124;border:0;left:-20%;width:110%;margin:0;height:6vh;color:#fcfcfc;border-radius:5%/20%;font-weight:500;line-height:1em;padding-top:0;padding-bottom:0;font-family:Nunito Sans;font-size:2vh;transition:all .5s ease-out;float:left;text-align:left}.sidepanelbutton[_ngcontent-%COMP%]:hover{background-color:#4c4e54}.sidepanelbutton[_ngcontent-%COMP%]:active{color:#0ff}.basicoption[_ngcontent-%COMP%]{height:20%;width:100%}.section[_ngcontent-%COMP%]{color:#9898a6;margin-left:5%;font-size:1em;font-weight:500;font-family:Nunito Sans;margin-top:5%;margin-bottom:5%}.top-panel[_ngcontent-%COMP%]{width:82%;position:absolute;top:1%;left:16%;height:6%;color:#fcfcfc}.company[_ngcontent-%COMP%]{font-size:4vh;font-weight:700;font-family:Nunito Sans;color:#000;margin-left:1%;margin-top:1%;letter-spacing:12px}.search-container[_ngcontent-%COMP%]{position:relative;width:30%;display:block;margin-left:60%;margin-top:-3%;margin-bottom:3%;color:#fcfcfc}input#search-bar[_ngcontent-%COMP%]{background-color:#50623a;color:#fcfcfc;margin:0 auto;width:100%;height:30px;padding:0 20px;font-size:1rem;border:1px solid #D0CFCE;outline:none}input#search-bar[_ngcontent-%COMP%]:focus{border:1px solid #008ABF;transition:.35s ease;color:#008abf}input#search-bar[_ngcontent-%COMP%]:focus::-webkit-input-placeholder{-webkit-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus::-moz-placeholder{-moz-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}input#search-bar[_ngcontent-%COMP%]:focus:-ms-placeholder{-ms-transition:opacity .45s ease;transition:opacity .45s ease;opacity:0}.search-icon[_ngcontent-%COMP%]{position:relative;float:right;width:65px;height:65px;top:-50px;right:-45px}.submit[_ngcontent-%COMP%]{display:block;margin:auto;width:20%;background-color:#50623a!important}"]}),e})(),canActivate:[(()=>{var t;class e{constructor(i,r){this.auth=i,this.router=r,this.isAuth=!1}canActivate(i,r){return this.auth.isUserLoggedIn}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Sp),u.LFG(Ar))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})()]}];let Jie=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[Ag.forRoot(Xie),Ag]}),e})(),ere=(()=>{var t;class e{constructor(i){this.http=i}getToken(){return this.http.get("http://localhost:8080/getToken")}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(Ep))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),tre=(()=>{var t;class e{constructor(i){this.accessToken=i,this.title="bungus_Frontend"}getToken(){this.accessToken.getToken().subscribe({next:i=>{console.log(i),localStorage.setItem("access_token",i.access_token)},error:i=>{console.log(i)}})}}return(t=e).\u0275fac=function(i){return new(i||t)(u.Y36(ere))},t.\u0275cmp=u.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&u._UZ(0,"router-outlet")},dependencies:[Tf]}),e})();const lW={firebase:{projectId:"bungus-8c03a",appId:"1:20511258492:web:f5f15b424210b20c6f56f9",storageBucket:"bungus-8c03a.appspot.com",apiKey:"AIzaSyDSiX00w-Z3b6TX0AmYrqyIdPyhdM5UY2s",authDomain:"bungus-8c03a.firebaseapp.com",messagingSenderId:"20511258492",measurementId:"G-ECQW204YZV"}};var ire=P(7582);class EE{constructor(e){return e}}const cW="analytics",uW=L_.async,sre=gs(AS,!0),ore=gs(K0,!0),are=gs(Y0,!0);let P2=(()=>{class t{constructor(n,i,r){let s;this.disposables=[],(0,Ze.registerVersion)("angularfire",pn.full,"user-tracking"),this.initialized=i.runOutsideAngular(()=>new Promise(l=>{s=l})),uW().then(()=>{const l=r.get(EE);l?this.disposables=[lD(n).subscribe(h=>{are(l,h?.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(ey),u.LFG(u.R0b),u.LFG(u.zs3))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();const dW="firebase_screen_id",F2="outlet",CE="screen_class",hW="screen_name";let vre=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const L2={},bre=t=>{const e=[t[CE],t[F2]].join("#");if(L2.hasOwnProperty(e))return L2[e];{const n=vre++;return L2[e]=n,n}};let fW=(()=>{class t{constructor(n,i,r,s,l,h){(0,Ze.registerVersion)("angularfire",pn.full,"screen-tracking"),uW().then(()=>{const p=h.get(EE);!n||!p||s.runOutsideAngular(()=>{this.disposable=((t,e,n)=>t.events.pipe(xn(r=>r instanceof wR)).pipe((0,Vn.w)(r=>{var s;const h=(null===(s=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,R=>R.replace("://",":///"))).root.children[r.snapshot.outlet])||void 0===s?void 0:s.toString())||"",p=t.routerState.root.children.map(R=>R).find(R=>R.outlet===r.snapshot.outlet);if(!p)return(0,at.of)(null);let g=p;for(;g.firstChild;)g=g.firstChild;const b=g.pathFromRoot.map(R=>{var B;return null===(B=R.routeConfig)||void 0===B?void 0:B.path}).filter(R=>R).join("/")||"/",C={[hW]:b,page_path:`/${h}`,firebase_event_origin:"auto",firebase_screen:b,[F2]:r.snapshot.outlet};e&&(C.page_title=e.getTitle());let D=p.component;if(D){if(D===_g){let R=r.snapshot;for(;R.firstChild;)R=R.firstChild;D=R.component}}else D=r.snapshot.component;if("string"==typeof D)return(0,at.of)(Object.assign(Object.assign({},C),{[CE]:D}));if(D){const R=n.resolveComponentFactory(D);return(0,at.of)(Object.assign(Object.assign({},C),{[CE]:R.selector}))}return(0,at.of)(null)}),xn(r=>!!r),(0,bt.U)(r=>Object.assign({firebase_screen_class:r[CE],[dW]:bre(r)},r)),function nre(t,e,n,i){return(0,Bi.e)((r,s)=>{let l;e&&"function"!=typeof e?({duration:n,element:l,connector:i}=e):l=e;const h=new Map,p=B=>{h.forEach(B),B(s)},g=B=>p(G=>G.error(B));let b=0,C=!1;const D=new mi.Q(s,B=>{try{const G=t(B);let q=h.get(G);if(!q){h.set(G,q=i?i():new jt.x);const le=function R(B,G){const q=new On.y(le=>{b++;const De=G.subscribe(le);return()=>{De.unsubscribe(),0==--b&&C&&D.unsubscribe()}});return q.key=B,q}(G,q);if(s.next(le),n){const De=(0,mi.x)(q,()=>{q.complete(),De?.unsubscribe()},void 0,void 0,()=>h.delete(G));D.add((0,Sa.Xf)(n(le)).subscribe(De))}}q.next(l?l(B):B)}catch(G){g(G)}},()=>p(B=>B.complete()),g,()=>h.clear(),()=>(C=!0,0===b));r.subscribe(D)})}(r=>r[F2]),(0,Wi.z)(r=>r.pipe((0,Mp.x)((s,l)=>JSON.stringify(s)===JSON.stringify(l)),Zo(void 0),mA(),(0,bt.U)(([s,l])=>s?Object.assign({firebase_previous_class:s[CE],firebase_previous_screen:s[hW],firebase_previous_id:s[dW]},l):l)))))(n,i,r).pipe((0,Vn.w)(g=>(0,ire.mG)(this,void 0,void 0,function*(){return l&&(yield l.initialized),ore(p,"screen_view",g)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(Ar,8),u.LFG(Me,8),u.LFG(u._Vd),u.LFG(u.R0b),u.LFG(P2,8),u.LFG(u.zs3))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),t})();const B2=new u.OlP("angularfire2.analytics-instances");function Ere(t){return(e,n)=>{if(!L_.sync())return null;const i=e.runOutsideAngular(()=>t(n));return new EE(i)}}const Cre={provide:class rre{constructor(){return ca(cW)}},deps:[[new u.FiY,B2]]},Ire={provide:EE,useFactory:function xre(t,e){if(!L_.sync())return null;const n=Do(cW,t,e);return n&&new EE(n)},deps:[[new u.FiY,B2],Ts]};let Sre=(()=>{class t{constructor(n,i){(0,Ze.registerVersion)("angularfire",pn.full,"analytics")}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(fW,8),u.LFG(P2,8))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Ire,Cre,{provide:u.ip1,useValue:L_.async,multi:!0}]}),t})();function Dre(t,...e){return{ngModule:Sre,providers:[{provide:B2,useFactory:Ere(t),multi:!0,deps:[u.R0b,u.zs3,ms,da,...e]}]}}const pW="@firebase/database";let V2="";class Tre{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,$.Wl)(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:(0,$.cI)(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Mre{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return(0,$.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const gW=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Tre(e)}}catch{}return new Mre},lm=gW("localStorage"),U2=gW("sessionStorage"),Ky=new pr.Yd("@firebase/database"),_W=function(){let t=1;return function(){return t++}}(),yW=function(t){const e=(0,$.dS)(t),n=new $.gQ;n.update(e);const i=n.digest();return $.US.encodeByteArray(i)},IE=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=IE.apply(null,i):e+="object"==typeof i?(0,$.Wl)(i):i,e+=" "}return e};let cm=null,vW=!0;const Pr=function(...t){if(!0===vW&&(vW=!1,null===cm&&!0===U2.get("logging_enabled")&&function(t,e){(0,$.hu)(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Ky.logLevel=pr.in.VERBOSE,cm=Ky.log.bind(Ky),e&&U2.set("logging_enabled",!0)):"function"==typeof t?cm=t:(cm=null,U2.remove("logging_enabled"))}(!0)),cm){const e=IE.apply(null,t);cm(e)}},SE=function(t){return function(...e){Pr(t,...e)}},j2=function(...t){const e="FIREBASE INTERNAL ERROR: "+IE(...t);Ky.error(e)},Hl=function(...t){const e=`FIREBASE FATAL ERROR: ${IE(...t)}`;throw Ky.error(e),new Error(e)},Cs=function(...t){const e="FIREBASE WARNING: "+IE(...t);Ky.warn(e)},rM=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},bh="[MIN_NAME]",_u="[MAX_NAME]",um=function(t,e){if(t===e)return 0;if(t===bh||e===_u)return-1;if(e===bh||t===_u)return 1;{const n=EW(t),i=EW(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1}},Ore=function(t,e){return t===e?0:t<e?-1:1},DE=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+(0,$.Wl)(e))},z2=function(t){if("object"!=typeof t||null===t)return(0,$.Wl)(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)0!==i&&(n+=","),n+=(0,$.Wl)(e[i]),n+=":",n+=z2(t[e[i]]);return n+="}",n},wW=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let r=0;r<n;r+=e)i.push(t.substring(r,r+e>n?n:r+e));return i};function Fr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const xW=function(t){(0,$.hu)(!rM(t),"Invalid JSON number");const i=1023;let r,s,l,h,p;0===t?(s=0,l=0,r=1/t==-1/0?1:0):(r=t<0,(t=Math.abs(t))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=h+i,l=Math.round(t*Math.pow(2,52-h)-Math.pow(2,52))):(s=0,l=Math.round(t/Math.pow(2,-1074))));const g=[];for(p=52;p;p-=1)g.push(l%2?1:0),l=Math.floor(l/2);for(p=11;p;p-=1)g.push(s%2?1:0),s=Math.floor(s/2);g.push(r?1:0),g.reverse();const b=g.join("");let C="";for(p=0;p<64;p+=8){let D=parseInt(b.substr(p,8),2).toString(16);1===D.length&&(D="0"+D),C+=D}return C.toLowerCase()},Lre=new RegExp("^-?(0*)\\d{1,10}$"),EW=function(t){if(Lre.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Zy=function(t){try{t()}catch(e){setTimeout(()=>{throw Cs("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},AE=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class jre{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Cs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class zre{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(Pr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Cs(e)}}let TE=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const AW=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,RW="websocket",kW="long_polling";class $2{constructor(e,n,i,r,s=!1,l="",h=!1,p=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=lm.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&lm.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function OW(t,e,n){let i;if((0,$.hu)("string"==typeof e,"typeof type must == string"),(0,$.hu)("object"==typeof n,"typeof params must == object"),e===RW)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==kW)throw new Error("Unknown connection type: "+e);i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function Hre(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const r=[];return Fr(n,(s,l)=>{r.push(s+"="+l)}),i+r.join("&")}class $re{constructor(){this.counters_={}}incrementCounter(e,n=1){(0,$.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return(0,$.p$)(this.counters_)}}const G2={},W2={};function q2(t){const e=t.toString();return G2[e]||(G2[e]=new $re),G2[e]}class Wre{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Zy(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class wh{constructor(e,n,i,r,s,l,h){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=SE(e),this.stats_=q2(n),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),OW(n,kW,p))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Wre(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if((0,$.Yr)()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Y2((...s)=>{const[l,h,p,g,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=p;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[l,h]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&AW.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){wh.forceAllow_=!0}static forceDisallow(){wh.forceDisallow_=!0}static isAvailable(){return!((0,$.Yr)()||!wh.forceAllow_&&(wh.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=(0,$.Wl)(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=(0,$.h$)(n),r=wW(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if((0,$.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=(0,$.Wl)(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Y2{constructor(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,$.Yr)())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=_W(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=Y2.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){Pr("frame writing exception"),h.stack&&Pr(h.stack),Pr(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Pr("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return n+=i,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,n){(0,$.Yr)()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Pr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let oM=null;typeof MozWebSocket<"u"?oM=MozWebSocket:typeof WebSocket<"u"&&(oM=WebSocket);let Qy=(()=>{class t{constructor(n,i,r,s,l,h,p){this.connId=n,this.applicationId=r,this.appCheckToken=s,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=SE(this.connId),this.stats_=q2(i),this.connURL=t.connectionURL_(i,h,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,s,l){const h={v:"5"};return!(0,$.Yr)()&&typeof location<"u"&&location.hostname&&AW.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),s&&(h.ac=s),l&&(h.p=l),OW(n,RW,h)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,lm.set("previous_websocket_failure",!0);try{let r;if((0,$.Yr)()){r={headers:{"User-Agent":`Firebase/5/${V2}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,h=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new oM(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&null!==oM&&!t.forceDisallow_}static previouslyFailed(){return lm.isInMemoryStorage||!0===lm.get("previous_websocket_failure")}markConnectionHealthy(){lm.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,$.cI)(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if((0,$.hu)(null===this.frames,"We already have a frame buffer"),n.length<=6){const i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const i=(0,$.Wl)(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=wW(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),UW=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[wh,Qy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const i=Qy&&Qy.isAvailable();let r=i&&!Qy.previouslyFailed();if(n.webSocketOnly&&(i||Cs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Qy];else{const s=this.transports_=[];for(const l of t.ALL_TRANSPORTS)l&&l.isAvailable()&&s.push(l);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class qW{constructor(e,n,i,r,s,l,h,p,g,b){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=p,this.onKill_=g,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=SE("c:"+this.id+":"),this.transportManager_=new UW(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=AE(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=DE("t",e),i=DE("d",e);if("c"===n)this.onSecondaryControl_(i);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=DE("t",e),i=DE("d",e);"c"===n?this.onControl_(i):"d"===n&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=DE("t",e);if("d"in e){const i=e.d;if("h"===n){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(i):"r"===n?this.onReset_(i):"e"===n?j2("Server Error: "+i):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):j2("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==i&&Cs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),AE(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):AE(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(lm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class YW{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}class KW{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,$.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(e){(0,$.hu)(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class aM extends KW{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,$.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new aM}getInitialEvent(e){return(0,$.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class In{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function vn(){return new In("")}function Xt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function xh(t){return t.pieces_.length-t.pieceNum_}function Nn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new In(t.pieces_,e)}function Z2(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ME(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function XW(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new In(e,0)}function oi(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof In)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new In(n,0)}function Jt(t){return t.pieceNum_>=t.pieces_.length}function Bs(t,e){const n=Xt(t),i=Xt(e);if(null===n)return e;if(n===i)return Bs(Nn(t),Nn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Q2(t,e){if(xh(t)!==xh(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function ga(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(xh(t)>xh(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class mse{constructor(e,n){this.errorPrefix_=n,this.parts_=ME(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,$.ug)(this.parts_[i]);JW(this)}}function JW(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+dm(t))}function dm(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class X2 extends KW{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new X2}getInitialEvent(e){return(0,$.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const RE=1e3;let cM,hm=(()=>{class t extends YW{constructor(n,i,r,s,l,h,p,g){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=g,this.id=t.nextPersistentConnectionId_++,this.log_=SE("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=RE,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g&&!(0,$.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");X2.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&aM.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){const s=++this.requestNumber_,l={r:s,a:n,b:i};this.log_((0,$.Wl)(l)),(0,$.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[s]=r)}get(n){this.initConnection_();const i=new $.BH,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const p=h.d;"ok"===h.s?i.resolve(p):i.reject(p)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(n,i,r,s){this.initConnection_();const l=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,$.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,$.hu)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:n,tag:r};this.listens.get(h).set(l,p),this.connected_&&this.sendListen_(p)}sendGet_(n){const i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){const i=n.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const l={p:r};n.tag&&(l.q=i._queryObject,l.t=n.tag),l.h=n.hashFn(),this.sendRequest("q",l,p=>{const g=p.d,b=p.s;t.warnOnListenWarnings_(g,i),(this.listens.get(r)&&this.listens.get(r).get(s))===n&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(r,s),n.onComplete&&n.onComplete(b,g))})}static warnOnListenWarnings_(n,i){if(n&&"object"==typeof n&&(0,$.r3)(n,"w")){const r=(0,$.DV)(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();Cs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||(0,$.GJ)(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,i=(0,$.w9)(n)?"auth":"gauth",r={cred:n};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const l=s.s,h=s.d||"error";this.authToken_===n&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const i=n.s,r=n.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){const r=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,$.hu)(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,n._queryObject,i)}sendUnlisten_(n,i,r,s){this.log_("Unlisten on "+n+" for "+i);const l={p:n};s&&(l.q=r,l.t=s),this.sendRequest("n",l)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,s){const l={p:i,d:r};this.log_("onDisconnect "+n,l),this.sendRequest(n,l,h=>{s&&setTimeout(()=>{s(h.s,h.d)},Math.floor(0))})}put(n,i,r,s){this.putInternal("p",n,i,r,s)}merge(n,i,r,s){this.putInternal("m",n,i,r,s)}putInternal(n,i,r,s,l){this.initConnection_();const h={p:i,d:r};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:n,request:h,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(n){const i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(l.s,l.d)})}reportStats(n){if(this.connected_){const i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+(0,$.Wl)(n));const i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),"d"===n?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===n?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===n?this.onListenRevoked_(i.p,i.q):"ac"===n?this.onAuthRevoked_(i.s,i.d):"apc"===n?this.onAppCheckRevoked_(i.s,i.d):"sd"===n?this.onSecurityDebugPacket_(i):j2("Unrecognized action received from server: "+(0,$.Wl)(n)+"\nAre you using the latest client?")}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){(0,$.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=RE,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=RE,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=RE),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,Q.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const i=n.onDataMessage_.bind(n),r=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),l=n.id+":"+t.nextConnectionId_++,h=n.lastSessionId;let p=!1,g=null;const b=function(){g?g.close():(p=!0,s())};n.realtime_={close:b,sendRequest:function(R){(0,$.hu)(g,"sendRequest call when we're not connected not allowed."),g.sendRequest(R)}};const D=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[R,B]=yield Promise.all([n.authTokenProvider_.getToken(D),n.appCheckTokenProvider_.getToken(D)]);p?Pr("getToken() completed but was canceled"):(Pr("getToken() completed. Creating connection."),n.authToken_=R&&R.accessToken,n.appCheckToken_=B&&B.token,g=new qW(l,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,i,r,s,G=>{Cs(G+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},h))}catch(R){n.log_("Failed to get token: "+R),p||(n.repoInfo_.nodeAdmin&&Cs(R),b())}}})()}interrupt(n){Pr("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Pr("Resuming connection for reason: "+n),delete this.interruptReasons_[n],(0,$.xb)(this.interruptReasons_)&&(this.reconnectDelay_=RE,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const i=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;r=i?i.map(l=>z2(l)).join("$"):"default";const s=this.removeListen_(n,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,i){const r=new In(n).toString();let s;if(this.listens.has(r)){const l=this.listens.get(r);s=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(n,i){Pr("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Pr("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let i="js";(0,$.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+i+"."+V2.replace(/\./g,"-")]=1,(0,$.uI)()?n["framework.cordova"]=1:(0,$.b$)()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=aM.getInstance().currentlyOnline();return(0,$.xb)(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class nn{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new nn(e,n)}}class lM{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new nn(bh,e),r=new nn(bh,n);return 0!==this.compare(i,r)}minPost(){return nn.MIN}}class nq extends lM{static get __EMPTY_NODE(){return cM}static set __EMPTY_NODE(e){cM=e}compare(e,n){return um(e.name,n.name)}isDefinedOn(e){throw(0,$.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return nn.MIN}maxPost(){return new nn(_u,cM)}makePost(e,n){return(0,$.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new nn(e,cM)}toString(){return".key"}}const $l=new nq;class uM{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,r&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let eB,Za=(()=>{class t{constructor(n,i,r,s,l){this.key=n,this.value=i,this.color=r??t.RED,this.left=s??eo.EMPTY_NODE,this.right=l??eo.EMPTY_NODE}copy(n,i,r,s,l){return new t(n??this.key,i??this.value,r??this.color,s??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let s=this;const l=r(n,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(n,i,r),null):0===l?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(n,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return eo.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,s;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(n,r.key)){if(r.right.isEmpty())return eo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class eo{constructor(e,n=eo.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new eo(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Za.BLACK,null,null))}remove(e){return new eo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Za.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),0===n)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),0===n){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}n<0?i=i.left:n>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new uM(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new uM(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new uM(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new uM(this.root_,null,this.comparator_,!0,e)}}function Ese(t,e){return um(t.name,e.name)}function J2(t,e){return um(t,e)}eo.EMPTY_NODE=new class xse{copy(e,n,i,r,s){return this}insert(e,n,i){return new Za(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const iq=function(t){return"number"==typeof t?"number:"+xW(t):"string:"+t},rq=function(t){if(t.isLeafNode()){const e=t.val();(0,$.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,$.r3)(e,".sv"),"Priority must be a string or number.")}else(0,$.hu)(t===eB||t.isEmpty(),"priority of unexpected type.");(0,$.hu)(t===eB||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let sq,oq,aq,Xy=(()=>{class t{constructor(n,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,(0,$.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),rq(this.priorityNode_)}static set __childrenNodeConstructor(n){sq=n}static get __childrenNodeConstructor(){return sq}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Jt(n)?this:".priority"===Xt(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return".priority"===n?this.updatePriority(i):i.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){const r=Xt(n);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,$.hu)(".priority"!==r||1===xh(n),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Nn(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+iq(this.priorityNode_.val())+":");const i=typeof this.value_;n+=i+":",n+="number"===i?xW(this.value_):this.value_,this.lazyHash_=yW(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:((0,$.hu)(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const i=typeof n.value_,r=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(i),l=t.VALUE_TYPE_ORDER.indexOf(r);return(0,$.hu)(s>=0,"Unknown leaf type: "+i),(0,$.hu)(l>=0,"Unknown leaf type: "+r),s===l?"object"===r?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:l-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const jn=new class Dse extends lM{compare(e,n){const i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return 0===s?um(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return nn.MIN}maxPost(){return new nn(_u,new Xy("[PRIORITY-POST]",aq))}makePost(e,n){const i=oq(e);return new nn(n,new Xy("[PRIORITY-POST]",i))}toString(){return".priority"}},Ase=Math.log(2);class Tse{constructor(e){this.count=parseInt(Math.log(e+1)/Ase,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const dM=function(t,e,n,i){t.sort(e);const r=function(p,g){const b=g-p;let C,D;if(0===b)return null;if(1===b)return C=t[p],D=n?n(C):C,new Za(D,C.node,Za.BLACK,null,null);{const R=parseInt(b/2,10)+p,B=r(p,R),G=r(R+1,g);return C=t[R],D=n?n(C):C,new Za(D,C.node,Za.BLACK,B,G)}},h=function(p){let g=null,b=null,C=t.length;const D=function(B,G){const q=C-B,le=C;C-=B;const De=r(q+1,le),Be=t[q],Ve=n?n(Be):Be;R(new Za(Ve,Be.node,G,null,De))},R=function(B){g?(g.left=B,g=B):(b=B,g=B)};for(let B=0;B<p.count;++B){const G=p.nextBitIsOne(),q=Math.pow(2,p.count-(B+1));G?D(q,Za.BLACK):(D(q,Za.BLACK),D(q,Za.RED))}return b}(new Tse(t.length));return new eo(i||e,h)};let tB;const Jy={};class yu{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return(0,$.hu)(Jy&&jn,"ChildrenNode.ts has not been loaded"),tB=tB||new yu({".priority":Jy},{".priority":jn}),tB}get(e){const n=(0,$.DV)(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof eo?n:null}hasIndex(e){return(0,$.r3)(this.indexSet_,e.toString())}addIndex(e,n){(0,$.hu)(e!==$l,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=n.getIterator(nn.Wrap);let h,l=s.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=s.getNext();h=r?dM(i,e.getCompare()):Jy;const p=e.toString(),g=Object.assign({},this.indexSet_);g[p]=e;const b=Object.assign({},this.indexes_);return b[p]=h,new yu(b,g)}addToIndexes(e,n){const i=(0,$.UI)(this.indexes_,(r,s)=>{const l=(0,$.DV)(this.indexSet_,s);if((0,$.hu)(l,"Missing index implementation for "+s),r===Jy){if(l.isDefinedOn(e.node)){const h=[],p=n.getIterator(nn.Wrap);let g=p.getNext();for(;g;)g.name!==e.name&&h.push(g),g=p.getNext();return h.push(e),dM(h,l.getCompare())}return Jy}{const h=n.get(e.name);let p=r;return h&&(p=p.remove(new nn(e.name,h))),p.insert(e,e.node)}});return new yu(i,this.indexSet_)}removeFromIndexes(e,n){const i=(0,$.UI)(this.indexes_,r=>{if(r===Jy)return r;{const s=n.get(e.name);return s?r.remove(new nn(e.name,s)):r}});return new yu(i,this.indexSet_)}}let kE,Ht=(()=>{class t{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&rq(this.priorityNode_),this.children_.isEmpty()&&(0,$.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return kE||(kE=new t(new eo(J2),null,yu.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||kE}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const i=this.children_.get(n);return null===i?kE:i}}getChild(n){const i=Xt(n);return null===i?this:this.getImmediateChild(i).getChild(Nn(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,i){if((0,$.hu)(i,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(i);{const r=new nn(n,i);let s,l;i.isEmpty()?(s=this.children_.remove(n),l=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(n,i),l=this.indexMap_.addToIndexes(r,this.children_));const h=s.isEmpty()?kE:this.priorityNode_;return new t(s,h,l)}}updateChild(n,i){const r=Xt(n);if(null===r)return i;{(0,$.hu)(".priority"!==Xt(n)||1===xh(n),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Nn(n),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const i={};let r=0,s=0,l=!0;if(this.forEachChild(jn,(h,p)=>{i[h]=p.val(n),r++,l&&t.INTEGER_REGEXP_.test(h)?s=Math.max(s,Number(h)):l=!1}),!n&&l&&s<2*r){const h=[];for(const p in i)h[p]=i[p];return h}return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+iq(this.getPriority().val())+":"),this.forEachChild(jn,(i,r)=>{const s=r.hash();""!==s&&(n+=":"+i+":"+s)}),this.lazyHash_=""===n?"":yW(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){const s=this.resolveIndex_(r);if(s){const l=s.getPredecessorKey(new nn(n,i));return l?l.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const i=this.resolveIndex_(n);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(n){const i=this.getFirstChildName(n);return i?new nn(i,this.children_.get(i)):null}getLastChildName(n){const i=this.resolveIndex_(n);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(n){const i=this.getLastChildName(n);return i?new nn(i,this.children_.get(i)):null}forEachChild(n,i){const r=this.resolveIndex_(n);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,nn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,n)<0;)s.getNext(),l=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,nn.Wrap);let l=s.peek();for(;null!=l&&i.compare(l,n)>0;)s.getNext(),l=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===OE?-1:0}withIndex(n){if(n===$l||this.indexMap_.hasIndex(n))return this;{const i=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===$l||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const i=n;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(jn),s=i.getIterator(jn);let l=r.getNext(),h=s.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=r.getNext(),h=s.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(n){return n===$l?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const OE=new class Mse extends Ht{constructor(){super(new eo(J2),Ht.EMPTY_NODE,yu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ht.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(nn,{MIN:{value:new nn(bh,Ht.EMPTY_NODE)},MAX:{value:new nn(_u,OE)}}),nq.__EMPTY_NODE=Ht.EMPTY_NODE,Xy.__childrenNodeConstructor=Ht,function Cse(t){eB=t}(OE),function Sse(t){aq=t}(OE);const Rse=!0;function yi(t,e=null){if(null===t)return Ht.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),(0,$.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Xy(t,yi(e));if(t instanceof Array||!Rse){let n=Ht.EMPTY_NODE;return Fr(t,(i,r)=>{if((0,$.r3)(t,i)&&"."!==i.substring(0,1)){const s=yi(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(yi(e))}{const n=[];let i=!1;if(Fr(t,(l,h)=>{if("."!==l.substring(0,1)){const p=yi(h);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),n.push(new nn(l,p)))}}),0===n.length)return Ht.EMPTY_NODE;const s=dM(n,Ese,l=>l.name,J2);if(i){const l=dM(n,jn.getCompare());return new Ht(s,yi(e),new yu({".priority":l},{".priority":jn}))}return new Ht(s,yi(e),yu.Default)}}!function Ise(t){oq=t}(yi);class nB extends lM{constructor(e){super(),this.indexPath_=e,(0,$.hu)(!Jt(e)&&".priority"!==Xt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return 0===s?um(e.name,n.name):s}makePost(e,n){const i=yi(e),r=Ht.EMPTY_NODE.updateChild(this.indexPath_,i);return new nn(n,r)}maxPost(){const e=Ht.EMPTY_NODE.updateChild(this.indexPath_,OE);return new nn(_u,e)}toString(){return ME(this.indexPath_,0).join("/")}}const iB=new class kse extends lM{compare(e,n){const i=e.node.compareTo(n.node);return 0===i?um(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return nn.MIN}maxPost(){return nn.MAX}makePost(e,n){const i=yi(e);return new nn(n,i)}toString(){return".value"}};function PE(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class sB{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=jn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,$.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,$.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:bh}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,$.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,$.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_u}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,$.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===jn}copy(){const e=new sB;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function cq(t){const e={};if(t.isDefault())return e;let n;if(t.index_===jn?n="$priority":t.index_===iB?n="$value":t.index_===$l?n="$key":((0,$.hu)(t.index_ instanceof nB,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=(0,$.Wl)(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=(0,$.Wl)(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+(0,$.Wl)(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=(0,$.Wl)(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+(0,$.Wl)(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function uq(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==jn&&(e.i=t.index_.toString()),e}class fM extends YW{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=SE("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:((0,$.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const l=fM.getListenId_(e,i),h={};this.listens_[l]=h;const p=cq(e._queryParams);this.restRequest_(s+".json",p,(g,b)=>{let C=b;if(404===g&&(C=null,g=null),null===g&&this.onDataUpdate_(s,C,!1,i),(0,$.DV)(this.listens_,l)===h){let D;D=g?401===g?"permission_denied":"rest_error:"+g:"ok",r(D,null)}})}unlisten(e,n){const i=fM.getListenId_(e,n);delete this.listens_[i]}get(e){const n=cq(e._queryParams),i=e._path.toString(),r=new $.BH;return this.restRequest_(i+".json",n,(s,l)=>{let h=l;404===s&&(h=null,s=null),null===s?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,$.xO)(n);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,$.cI)(h.responseText)}catch{Cs("Failed to parse JSON response for "+l+": "+h.responseText)}i(null,p)}else 401!==h.status&&404!==h.status&&Cs("Got unsuccessful REST response for "+l+" Status: "+h.status),i(h.status);i=null}},h.open("GET",l,!0),h.send()})}}class Use{constructor(){this.rootNode_=Ht.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function pM(){return{value:null,children:new Map}}function tv(t,e,n){if(Jt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const i=Xt(e);t.children.has(i)||t.children.set(i,pM()),tv(t.children.get(i),e=Nn(e),n)}}function cB(t,e,n){null!==t.value?n(e,t.value):function jse(t,e){t.children.forEach((n,i)=>{e(i,n)})}(t,(i,r)=>{cB(r,new In(e.toString()+"/"+i),n)})}class zse{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Fr(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}}class Gse{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new zse(e);const i=1e4+2e4*Math.random();AE(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Fr(e,(r,s)=>{s>0&&(0,$.r3)(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),AE(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Gl=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Gl||{});function hB(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class mM{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Gl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Jt(this.path)){if(null!=this.affectedTree.value)return(0,$.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new In(e));return new mM(vn(),n,this.revert)}}return(0,$.hu)(Xt(this.path)===e,"operationForChild called for unrelated child."),new mM(Nn(this.path),this.affectedTree,this.revert)}}class fm{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Gl.OVERWRITE}operationForChild(e){return Jt(this.path)?new fm(this.source,vn(),this.snap.getImmediateChild(e)):new fm(this.source,Nn(this.path),this.snap)}}class nv{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Gl.MERGE}operationForChild(e){if(Jt(this.path)){const n=this.children.subtree(new In(e));return n.isEmpty()?null:n.value?new fm(this.source,vn(),n.value):new nv(this.source,vn(),n)}return(0,$.hu)(Xt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new nv(this.source,Nn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Eh{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Jt(e))return this.isFullyInitialized()&&!this.filtered_;const n=Xt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function BE(t,e,n,i,r,s){const l=i.filter(h=>h.type===n);l.sort((h,p)=>function Kse(t,e,n){if(null==e.childName||null==n.childName)throw(0,$.g5)("Should only compare child_ events.");const i=new nn(e.childName,e.snapshotNode),r=new nn(n.childName,n.snapshotNode);return t.index_.compare(i,r)}(t,h,p)),l.forEach(h=>{const p=function Yse(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,h,s);r.forEach(g=>{g.respondsTo(h.type)&&e.push(g.createEvent(p,t.query_))})})}function gM(t,e){return{eventCache:t,serverCache:e}}function VE(t,e,n,i){return gM(new Eh(e,n,i),t.serverCache)}function hq(t,e,n,i){return gM(t.eventCache,new Eh(e,n,i))}function _M(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function pm(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let fB;class zn{constructor(e,n=(()=>(fB||(fB=new eo(Ore)),fB))()){this.value=e,this.children=n}static fromObject(e){let n=new zn(null);return Fr(e,(i,r)=>{n=n.set(new In(i),r)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:vn(),value:this.value};if(Jt(e))return null;{const i=Xt(e),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(Nn(e),n);return null!=s?{path:oi(new In(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Jt(e))return this;{const n=Xt(e),i=this.children.get(n);return null!==i?i.subtree(Nn(e)):new zn(null)}}set(e,n){if(Jt(e))return new zn(n,this.children);{const i=Xt(e),s=(this.children.get(i)||new zn(null)).set(Nn(e),n),l=this.children.insert(i,s);return new zn(this.value,l)}}remove(e){if(Jt(e))return this.children.isEmpty()?new zn(null):new zn(null,this.children);{const n=Xt(e),i=this.children.get(n);if(i){const r=i.remove(Nn(e));let s;return s=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&s.isEmpty()?new zn(null):new zn(this.value,s)}return this}}get(e){if(Jt(e))return this.value;{const n=Xt(e),i=this.children.get(n);return i?i.get(Nn(e)):null}}setTree(e,n){if(Jt(e))return n;{const i=Xt(e),s=(this.children.get(i)||new zn(null)).setTree(Nn(e),n);let l;return l=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new zn(this.value,l)}}fold(e){return this.fold_(vn(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(oi(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,vn(),n)}findOnPath_(e,n,i){const r=!!this.value&&i(n,this.value);if(r)return r;if(Jt(e))return null;{const s=Xt(e),l=this.children.get(s);return l?l.findOnPath_(Nn(e),oi(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,vn(),n)}foreachOnPath_(e,n,i){if(Jt(e))return this;{this.value&&i(n,this.value);const r=Xt(e),s=this.children.get(r);return s?s.foreachOnPath_(Nn(e),oi(n,r),i):new zn(null)}}foreach(e){this.foreach_(vn(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(oi(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}class Qa{constructor(e){this.writeTree_=e}static empty(){return new Qa(new zn(null))}}function UE(t,e,n){if(Jt(e))return new Qa(new zn(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let s=i.value;const l=Bs(r,e);return s=s.updateChild(l,n),new Qa(t.writeTree_.set(r,s))}{const r=new zn(n),s=t.writeTree_.setTree(e,r);return new Qa(s)}}}function pB(t,e,n){let i=t;return Fr(n,(r,s)=>{i=UE(i,oi(e,r),s)}),i}function fq(t,e){if(Jt(e))return Qa.empty();{const n=t.writeTree_.setTree(e,new zn(null));return new Qa(n)}}function mB(t,e){return null!=mm(t,e)}function mm(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(Bs(n.path,e)):null}function pq(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(jn,(i,r)=>{e.push(new nn(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new nn(i,r.value))}),e}function Ch(t,e){if(Jt(e))return t;{const n=mm(t,e);return new Qa(null!=n?new zn(n):t.writeTree_.subtree(e))}}function gB(t){return t.writeTree_.isEmpty()}function iv(t,e){return mq(vn(),t.writeTree_,e)}function mq(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{".priority"===r?((0,$.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):n=mq(oi(t,r),s,n)}),!n.getChild(t).isEmpty()&&null!==i&&(n=n.updateChild(oi(t,".priority"),i)),n}}function yM(t,e){return bq(e,t)}function toe(t,e){if(t.snap)return ga(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ga(oi(t.path,n),e))return!0;return!1}function ioe(t){return t.visible}function gq(t,e,n){let i=Qa.empty();for(let r=0;r<t.length;++r){const s=t[r];if(e(s)){const l=s.path;let h;if(s.snap)ga(n,l)?(h=Bs(n,l),i=UE(i,h,s.snap)):ga(l,n)&&(h=Bs(l,n),i=UE(i,vn(),s.snap.getChild(h)));else{if(!s.children)throw(0,$.g5)("WriteRecord should have .snap or .children");if(ga(n,l))h=Bs(n,l),i=pB(i,h,s.children);else if(ga(l,n))if(h=Bs(l,n),Jt(h))i=pB(i,vn(),s.children);else{const p=(0,$.DV)(s.children,Xt(h));if(p){const g=p.getChild(Nn(h));i=UE(i,vn(),g)}}}}}return i}function _q(t,e,n,i,r){if(i||r){const s=Ch(t.visibleWrites,e);return!r&&gB(s)?n:r||null!=n||mB(s,vn())?iv(gq(t.allWrites,function(g){return(g.visible||r)&&(!i||!~i.indexOf(g.writeId))&&(ga(g.path,e)||ga(e,g.path))},e),n||Ht.EMPTY_NODE):null}{const s=mm(t.visibleWrites,e);if(null!=s)return s;{const l=Ch(t.visibleWrites,e);return gB(l)?n:null!=n||mB(l,vn())?iv(l,n||Ht.EMPTY_NODE):null}}}function vM(t,e,n,i){return _q(t.writeTree,t.treePath,e,n,i)}function _B(t,e){return function roe(t,e,n){let i=Ht.EMPTY_NODE;const r=mm(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(jn,(s,l)=>{i=i.updateImmediateChild(s,l)}),i;if(n){const s=Ch(t.visibleWrites,e);return n.forEachChild(jn,(l,h)=>{const p=iv(Ch(s,new In(l)),h);i=i.updateImmediateChild(l,p)}),pq(s).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return pq(Ch(t.visibleWrites,e)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(t.writeTree,t.treePath,e)}function yq(t,e,n,i){return function soe(t,e,n,i,r){(0,$.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=oi(e,n);if(mB(t.visibleWrites,s))return null;{const l=Ch(t.visibleWrites,s);return gB(l)?r.getChild(n):iv(l,r.getChild(n))}}(t.writeTree,t.treePath,e,n,i)}function bM(t,e){return function aoe(t,e){return mm(t.visibleWrites,e)}(t.writeTree,oi(t.treePath,e))}function yB(t,e,n){return function ooe(t,e,n,i){const r=oi(e,n),s=mm(t.visibleWrites,r);return null!=s?s:i.isCompleteForChild(n)?iv(Ch(t.visibleWrites,r),i.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function vq(t,e){return bq(oi(t.treePath,e),t.writeTree)}function bq(t,e){return{treePath:t,writeTree:e}}class doe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;(0,$.hu)("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),(0,$.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(i,PE(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(i,function NE(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(i,r.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(i,function ev(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(i,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw(0,$.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,PE(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const wq=new class hoe{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}};class vB{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new Eh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return yB(this.writes_,e,i)}}getChildAfterChild(e,n,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:pm(this.viewCache_),s=function uoe(t,e,n,i,r,s){return function loe(t,e,n,i,r,s,l){let h;const p=Ch(t.visibleWrites,e),g=mm(p,vn());if(null!=g)h=g;else{if(null==n)return[];h=iv(p,n)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const b=[],C=l.getCompare(),D=s?h.getReverseIteratorFrom(i,l):h.getIteratorFrom(i,l);let R=D.getNext();for(;R&&b.length<r;)0!==C(R,i)&&b.push(R),R=D.getNext();return b}}(t.writeTree,t.treePath,e,n,i,r,s)}(this.writes_,r,n,1,i,e);return 0===s.length?null:s[0]}}function xq(t,e,n,i,r,s){const l=e.eventCache;if(null!=bM(i,n))return e;{let h,p;if(Jt(n))if((0,$.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const g=pm(e),C=_B(i,g instanceof Ht?g:Ht.EMPTY_NODE);h=t.filter.updateFullNode(e.eventCache.getNode(),C,s)}else{const g=vM(i,pm(e));h=t.filter.updateFullNode(e.eventCache.getNode(),g,s)}else{const g=Xt(n);if(".priority"===g){(0,$.hu)(1===xh(n),"Can't have a priority with additional path components");const b=l.getNode();p=e.serverCache.getNode();const C=yq(i,n,b,p);h=null!=C?t.filter.updatePriority(b,C):l.getNode()}else{const b=Nn(n);let C;if(l.isCompleteForChild(g)){p=e.serverCache.getNode();const D=yq(i,n,l.getNode(),p);C=null!=D?l.getNode().getImmediateChild(g).updateChild(b,D):l.getNode().getImmediateChild(g)}else C=yB(i,g,e.serverCache);h=null!=C?t.filter.updateChild(l.getNode(),g,C,b,r,s):l.getNode()}}return VE(e,h,l.isFullyInitialized()||Jt(n),t.filter.filtersNodes())}}function wM(t,e,n,i,r,s,l,h){const p=e.serverCache;let g;const b=l?t.filter:t.filter.getIndexedFilter();if(Jt(n))g=b.updateFullNode(p.getNode(),i,null);else if(b.filtersNodes()&&!p.isFiltered()){const R=p.getNode().updateChild(n,i);g=b.updateFullNode(p.getNode(),R,null)}else{const R=Xt(n);if(!p.isCompleteForPath(n)&&xh(n)>1)return e;const B=Nn(n),q=p.getNode().getImmediateChild(R).updateChild(B,i);g=".priority"===R?b.updatePriority(p.getNode(),q):b.updateChild(p.getNode(),R,q,B,wq,null)}const C=hq(e,g,p.isFullyInitialized()||Jt(n),b.filtersNodes());return xq(t,C,n,r,new vB(r,C,s),h)}function bB(t,e,n,i,r,s,l){const h=e.eventCache;let p,g;const b=new vB(r,e,s);if(Jt(n))g=t.filter.updateFullNode(e.eventCache.getNode(),i,l),p=VE(e,g,!0,t.filter.filtersNodes());else{const C=Xt(n);if(".priority"===C)g=t.filter.updatePriority(e.eventCache.getNode(),i),p=VE(e,g,h.isFullyInitialized(),h.isFiltered());else{const D=Nn(n),R=h.getNode().getImmediateChild(C);let B;if(Jt(D))B=i;else{const G=b.getCompleteChild(C);B=null!=G?".priority"===Z2(D)&&G.getChild(XW(D)).isEmpty()?G:G.updateChild(D,i):Ht.EMPTY_NODE}p=R.equals(B)?e:VE(e,t.filter.updateChild(h.getNode(),C,B,D,b,l),h.isFullyInitialized(),t.filter.filtersNodes())}}return p}function Eq(t,e){return t.eventCache.isCompleteForChild(e)}function Cq(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function wB(t,e,n,i,r,s,l,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let g,p=e;g=Jt(n)?i:new zn(null).setTree(n,i);const b=e.serverCache.getNode();return g.children.inorderTraversal((C,D)=>{if(b.hasChild(C)){const B=Cq(0,e.serverCache.getNode().getImmediateChild(C),D);p=wM(t,p,new In(C),B,r,s,l,h)}}),g.children.inorderTraversal((C,D)=>{const R=!e.serverCache.isCompleteForChild(C)&&null===D.value;if(!b.hasChild(C)&&!R){const G=Cq(0,e.serverCache.getNode().getImmediateChild(C),D);p=wM(t,p,new In(C),G,r,s,l,h)}}),p}function Coe(t,e){const n=pm(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Jt(e)&&!n.getImmediateChild(Xt(e)).isEmpty())?n.getChild(e):null}function Dq(t,e,n,i){e.type===Gl.MERGE&&null!==e.source.queryId&&((0,$.hu)(pm(t.viewCache_),"We should always have a full cache before handling merges"),(0,$.hu)(_M(t.viewCache_),"Missing event cache, even though we have a server cache"));const r=t.viewCache_,s=function moe(t,e,n,i,r){const s=new doe;let l,h;if(n.type===Gl.OVERWRITE){const g=n;g.source.fromUser?l=bB(t,e,g.path,g.snap,i,r,s):((0,$.hu)(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered()&&!Jt(g.path),l=wM(t,e,g.path,g.snap,i,r,h,s))}else if(n.type===Gl.MERGE){const g=n;g.source.fromUser?l=function _oe(t,e,n,i,r,s,l){let h=e;return i.foreach((p,g)=>{const b=oi(n,p);Eq(e,Xt(b))&&(h=bB(t,h,b,g,r,s,l))}),i.foreach((p,g)=>{const b=oi(n,p);Eq(e,Xt(b))||(h=bB(t,h,b,g,r,s,l))}),h}(t,e,g.path,g.children,i,r,s):((0,$.hu)(g.source.fromServer,"Unknown source."),h=g.source.tagged||e.serverCache.isFiltered(),l=wB(t,e,g.path,g.children,i,r,h,s))}else if(n.type===Gl.ACK_USER_WRITE){const g=n;l=g.revert?function boe(t,e,n,i,r,s){let l;if(null!=bM(i,n))return e;{const h=new vB(i,e,r),p=e.eventCache.getNode();let g;if(Jt(n)||".priority"===Xt(n)){let b;if(e.serverCache.isFullyInitialized())b=vM(i,pm(e));else{const C=e.serverCache.getNode();(0,$.hu)(C instanceof Ht,"serverChildren would be complete if leaf node"),b=_B(i,C)}g=t.filter.updateFullNode(p,b,s)}else{const b=Xt(n);let C=yB(i,b,e.serverCache);null==C&&e.serverCache.isCompleteForChild(b)&&(C=p.getImmediateChild(b)),g=null!=C?t.filter.updateChild(p,b,C,Nn(n),h,s):e.eventCache.getNode().hasChild(b)?t.filter.updateChild(p,b,Ht.EMPTY_NODE,Nn(n),h,s):p,g.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=vM(i,pm(e)),l.isLeafNode()&&(g=t.filter.updateFullNode(g,l,s)))}return l=e.serverCache.isFullyInitialized()||null!=bM(i,vn()),VE(e,g,l,t.filter.filtersNodes())}}(t,e,g.path,i,r,s):function yoe(t,e,n,i,r,s,l){if(null!=bM(r,n))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=i.value){if(Jt(n)&&p.isFullyInitialized()||p.isCompleteForPath(n))return wM(t,e,n,p.getNode().getChild(n),r,s,h,l);if(Jt(n)){let g=new zn(null);return p.getNode().forEachChild($l,(b,C)=>{g=g.set(new In(b),C)}),wB(t,e,n,g,r,s,h,l)}return e}{let g=new zn(null);return i.foreach((b,C)=>{const D=oi(n,b);p.isCompleteForPath(D)&&(g=g.set(b,p.getNode().getChild(D)))}),wB(t,e,n,g,r,s,h,l)}}(t,e,g.path,g.affectedTree,i,r,s)}else{if(n.type!==Gl.LISTEN_COMPLETE)throw(0,$.g5)("Unknown operation type: "+n.type);l=function voe(t,e,n,i,r){const s=e.serverCache;return xq(t,hq(e,s.getNode(),s.isFullyInitialized()||Jt(n),s.isFiltered()),n,i,wq,r)}(t,e,n.path,i,s)}const p=s.getChanges();return function goe(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=_M(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(function lq(t){return{type:"value",snapshotNode:t}}(_M(e)))}}(e,l,p),{viewCache:l,changes:p}}(t.processor_,r,e,n,i);return function poe(t,e){(0,$.hu)(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),(0,$.hu)(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),(0,$.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function Aq(t,e,n,i){return function qse(t,e,n,i){const r=[],s=[];return e.forEach(l=>{"child_changed"===l.type&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&s.push(function Ose(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(l.childName,l.snapshotNode))}),BE(t,r,"child_removed",e,i,n),BE(t,r,"child_added",e,i,n),BE(t,r,"child_moved",s,i,n),BE(t,r,"child_changed",e,i,n),BE(t,r,"value",e,i,n),r}(t.eventGenerator_,e,n,i?[i]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let xM,CM;function xB(t,e,n,i){const r=e.source.queryId;if(null!==r){const s=t.views.get(r);return(0,$.hu)(null!=s,"SyncTree gave us an op for an invalid query."),Dq(s,e,n,i)}{let s=[];for(const l of t.views.values())s=s.concat(Dq(l,e,n,i));return s}}function Ih(t,e){let n=null;for(const i of t.views.values())n=n||Coe(i,e);return n}class Nq{constructor(e){this.listenProvider_=e,this.syncPointTree_=new zn(null),this.pendingWriteTree_=function coe(){return{visibleWrites:Qa.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function EB(t,e,n,i,r){return function Qse(t,e,n,i,r){(0,$.hu)(i>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=UE(t.visibleWrites,e,n)),t.lastWriteId=i}(t.pendingWriteTree_,e,n,i,r),r?rv(t,new fm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function Dh(t,e,n=!1){const i=function Jse(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}(t.pendingWriteTree_,e);if(function eoe(t,e){const n=t.allWrites.findIndex(h=>h.writeId===e);(0,$.hu)(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,l=t.allWrites.length-1;for(;r&&l>=0;){const h=t.allWrites[l];h.visible&&(l>=n&&toe(h,i.path)?r=!1:ga(i.path,h.path)&&(s=!0)),l--}return!!r&&(s?(function noe(t){t.visibleWrites=gq(t.allWrites,ioe,vn()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(i.snap?t.visibleWrites=fq(t.visibleWrites,i.path):Fr(i.children,p=>{t.visibleWrites=fq(t.visibleWrites,oi(i.path,p))}),!0))}(t.pendingWriteTree_,e)){let s=new zn(null);return null!=i.snap?s=s.set(vn(),!0):Fr(i.children,l=>{s=s.set(new In(l),!0)}),rv(t,new mM(i.path,s,n))}return[]}function jE(t,e,n){return rv(t,new fm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function SM(t,e,n){const r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(l,h)=>{const g=Ih(h,Bs(l,e));if(g)return g});return _q(r,e,s,n,!0)}function rv(t,e){return Fq(e,t.syncPointTree_,null,yM(t.pendingWriteTree_,vn()))}function Fq(t,e,n,i){if(Jt(t.path))return Lq(t,e,n,i);{const r=e.get(vn());null==n&&null!=r&&(n=Ih(r,vn()));let s=[];const l=Xt(t.path),h=t.operationForChild(l),p=e.children.get(l);if(p&&h){const g=n?n.getImmediateChild(l):null,b=vq(i,l);s=s.concat(Fq(h,p,g,b))}return r&&(s=s.concat(xB(r,t,i,n))),s}}function Lq(t,e,n,i){const r=e.get(vn());null==n&&null!=r&&(n=Ih(r,vn()));let s=[];return e.children.inorderTraversal((l,h)=>{const p=n?n.getImmediateChild(l):null,g=vq(i,l),b=t.operationForChild(l);b&&(s=s.concat(Lq(b,h,p,g)))}),r&&(s=s.concat(xB(r,t,i,n))),s}function IB(t,e){return t.tagToQueryMap.get(e)}function SB(t){const e=t.indexOf("$");return(0,$.hu)(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new In(t.substr(0,e))}}function DB(t,e,n){const i=t.syncPointTree_.get(e);return(0,$.hu)(i,"Missing sync point for query tag that we're tracking"),xB(i,n,yM(t.pendingWriteTree_,e),null)}class AB{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new AB(n)}node(){return this.node_}}class TB{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=oi(this.path_,e);return new TB(this.syncTree_,n)}node(){return SM(this.syncTree_,this.path_)}}const Goe=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},Vq=function(t,e,n){return t&&"object"==typeof t?((0,$.hu)(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Woe(t[".sv"],e,n):"object"==typeof t[".sv"]?qoe(t[".sv"],e):void(0,$.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Woe=function(t,e,n){if("timestamp"===t)return n.timestamp;(0,$.hu)(!1,"Unexpected server value: "+t)},qoe=function(t,e,n){t.hasOwnProperty("increment")||(0,$.hu)(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;"number"!=typeof i&&(0,$.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,$.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},Uq=function(t,e,n,i){return RB(e,new TB(n,t),i)},MB=function(t,e,n){return RB(t,new AB(e),n)};function RB(t,e,n){const i=t.getPriority().val(),r=Vq(i,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const l=t,h=Vq(l.getValue(),e,n);return h!==l.getValue()||r!==l.getPriority().val()?new Xy(h,yi(r)):t}{const l=t;return s=l,r!==l.getPriority().val()&&(s=s.updatePriority(new Xy(r))),l.forEachChild(jn,(h,p)=>{const g=RB(p,e.getImmediateChild(h),n);g!==p&&(s=s.updateImmediateChild(h,g))}),s}}class kB{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function AM(t,e){let n=e instanceof In?e:new In(e),i=t,r=Xt(n);for(;null!==r;){const s=(0,$.DV)(i.node.children,r)||{children:{},childCount:0};i=new kB(r,i,s),n=Nn(n),r=Xt(n)}return i}function gm(t){return t.node.value}function OB(t,e){t.node.value=e,NB(t)}function jq(t){return t.node.childCount>0}function TM(t,e){Fr(t.node.children,(n,i)=>{e(new kB(n,t,i))})}function zq(t,e,n,i){n&&!i&&e(t),TM(t,r=>{zq(r,e,!0,i)}),n&&i&&e(t)}function $E(t){return new In(null===t.parent?t.name:$E(t.parent)+"/"+t.name)}function NB(t){null!==t.parent&&function Zoe(t,e,n){const i=function Yoe(t){return void 0===gm(t)&&!jq(t)}(n),r=(0,$.r3)(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,NB(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,NB(t))}(t.parent,t.name,t)}const Qoe=/[\[\].#$\/\u0000-\u001F\u007F]/,Xoe=/[\[\].#$\u0000-\u001F\u007F]/,PB=10485760,MM=function(t){return"string"==typeof t&&0!==t.length&&!Qoe.test(t)},WE=function(t,e,n){const i=n instanceof In?new mse(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+dm(i));if("function"==typeof e)throw new Error(t+"contains a function "+dm(i)+" with contents = "+e.toString());if(rM(e))throw new Error(t+"contains "+e.toString()+" "+dm(i));if("string"==typeof e&&e.length>PB/3&&(0,$.ug)(e)>PB)throw new Error(t+"contains a string greater than "+PB+" utf8 bytes "+dm(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,s=!1;if(Fr(e,(l,h)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(s=!0,!MM(l)))throw new Error(t+" contains an invalid key ("+l+") "+dm(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function gse(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=(0,$.ug)(e),JW(t)})(i,l),WE(t,h,i),function _se(t){const e=t.parts_.pop();t.byteLength_-=(0,$.ug)(e),t.parts_.length>0&&(t.byteLength_-=1)}(i)}),r&&s)throw new Error(t+' contains ".value" child '+dm(i)+" in addition to actual children.")}},Gq=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!MM(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!Xoe.test(t)}(t)}(n))throw new Error((0,$.gK)(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class nae{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function No(t,e,n){(function RM(t,e){let n=null;for(let i=0;i<e.length;i++){const r=e[i],s=r.getPath();null!==n&&!Q2(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)})(t,n),function qq(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const r=t.eventLists_[i];r&&(e(r.path)?(iae(t.eventLists_[i]),t.eventLists_[i]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,i=>ga(i,e)||ga(e,i))}function iae(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const i=n.getEventRunner();cm&&Pr("event: "+n.toString()),Zy(i)}}}const rae=25;class sae{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nae,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=pM(),this.transactionQueueTree_=new kB,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Kq(t){const n=t.infoData_.getNode(new In(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function YE(t){return Goe({timestamp:Kq(t)})}function Zq(t,e,n,i,r){t.dataUpdateCount++;const s=new In(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(r)if(i){const p=(0,$.UI)(n,g=>yi(g));l=function Voe(t,e,n,i){const r=IB(t,i);if(r){const s=SB(r),l=s.path,h=s.queryId,p=Bs(l,e),g=zn.fromObject(n);return DB(t,l,new nv(hB(h),p,g))}return[]}(t.serverSyncTree_,s,p,r)}else{const p=yi(n);l=function Pq(t,e,n,i){const r=IB(t,i);if(null!=r){const s=SB(r),l=s.path,h=s.queryId,p=Bs(l,e);return DB(t,l,new fm(hB(h),p,n))}return[]}(t.serverSyncTree_,s,p,r)}else if(i){const p=(0,$.UI)(n,g=>yi(g));l=function Foe(t,e,n){const i=zn.fromObject(n);return rv(t,new nv({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(t.serverSyncTree_,s,p)}else{const p=yi(n);l=jE(t.serverSyncTree_,s,p)}let h=s;l.length>0&&(h=ov(t,s)),No(t.eventQueue_,h,l)}function Qq(t,e){BB(t,"connected",e),!1===e&&function uae(t){sv(t,"onDisconnectEvents");const e=YE(t),n=pM();cB(t.onDisconnect_,vn(),(r,s)=>{const l=Uq(r,s,t.serverSyncTree_,e);tv(n,r,l)});let i=[];cB(n,vn(),(r,s)=>{i=i.concat(jE(t.serverSyncTree_,r,s));const l=function zB(t,e){const n=$E(e8(t,e)),i=AM(t.transactionQueueTree_,e);return function Koe(t,e,n){let i=n?t:t.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{HB(t,r)}),HB(t,i),zq(i,r=>{HB(t,r)}),n}(t,r);ov(t,l)}),t.onDisconnect_=pM(),No(t.eventQueue_,vn(),i)}(t)}function BB(t,e,n){const i=new In("/.info/"+e),r=yi(n);t.infoData_.updateSnapshot(i,r);const s=jE(t.infoSyncTree_,i,r);No(t.eventQueue_,i,s)}function kM(t){return t.nextWriteId_++}function sv(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Pr(n,...e)}function jB(t,e,n){return SM(t.serverSyncTree_,e,n)||Ht.EMPTY_NODE}function OM(t,e=t.transactionQueueTree_){if(e||NM(t,e),gm(e)){const n=t8(t,e);(0,$.hu)(n.length>0,"Sending zero length transaction queue"),n.every(r=>0===r.status)&&function _ae(t,e,n){const i=n.map(g=>g.currentWriteId),r=jB(t,e,i);let s=r;const l=r.hash();for(let g=0;g<n.length;g++){const b=n[g];(0,$.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const C=Bs(e,b.path);s=s.updateChild(C,b.currentOutputSnapshotRaw)}const h=s.val(!0),p=e;t.server_.put(p.toString(),h,g=>{sv(t,"transaction put response",{path:p.toString(),status:g});let b=[];if("ok"===g){const C=[];for(let D=0;D<n.length;D++)n[D].status=2,b=b.concat(Dh(t.serverSyncTree_,n[D].currentWriteId)),n[D].onComplete&&C.push(()=>n[D].onComplete(null,!0,n[D].currentOutputSnapshotResolved)),n[D].unwatcher();NM(t,AM(t.transactionQueueTree_,e)),OM(t,t.transactionQueueTree_),No(t.eventQueue_,e,b);for(let D=0;D<C.length;D++)Zy(C[D])}else{if("datastale"===g)for(let C=0;C<n.length;C++)n[C].status=3===n[C].status?4:0;else{Cs("transaction at "+p.toString()+" failed: "+g);for(let C=0;C<n.length;C++)n[C].status=4,n[C].abortReason=g}ov(t,e)}},l)}(t,$E(e),n)}else jq(e)&&TM(e,n=>{OM(t,n)})}function ov(t,e){const n=e8(t,e),i=$E(n);return function yae(t,e,n){if(0===e.length)return;const i=[];let r=[];const l=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],g=Bs(n,p.path);let C,b=!1;if((0,$.hu)(null!==g,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,C=p.abortReason,r=r.concat(Dh(t.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=rae)b=!0,C="maxretry",r=r.concat(Dh(t.serverSyncTree_,p.currentWriteId,!0));else{const D=jB(t,p.path,l);p.currentInputSnapshot=D;const R=e[h].update(D.val());if(void 0!==R){WE("transaction failed: Data returned ",R,p.path);let B=yi(R);"object"==typeof R&&null!=R&&(0,$.r3)(R,".priority")||(B=B.updatePriority(D.getPriority()));const q=p.currentWriteId,le=YE(t),De=MB(B,D,le);p.currentOutputSnapshotRaw=B,p.currentOutputSnapshotResolved=De,p.currentWriteId=kM(t),l.splice(l.indexOf(q),1),r=r.concat(EB(t.serverSyncTree_,p.path,De,p.currentWriteId,p.applyLocally)),r=r.concat(Dh(t.serverSyncTree_,q,!0))}else b=!0,C="nodata",r=r.concat(Dh(t.serverSyncTree_,p.currentWriteId,!0))}No(t.eventQueue_,n,r),r=[],b&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===C?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(C),!1,null)))}NM(t,t.transactionQueueTree_);for(let h=0;h<i.length;h++)Zy(i[h]);OM(t,t.transactionQueueTree_)}(t,t8(t,n),i),i}function e8(t,e){let n,i=t.transactionQueueTree_;for(n=Xt(e);null!==n&&void 0===gm(i);)i=AM(i,n),n=Xt(e=Nn(e));return i}function t8(t,e){const n=[];return n8(t,e,n),n.sort((i,r)=>i.order-r.order),n}function n8(t,e,n){const i=gm(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);TM(e,r=>{n8(t,r,n)})}function NM(t,e){const n=gm(e);if(n){let i=0;for(let r=0;r<n.length;r++)2!==n[r].status&&(n[i]=n[r],i++);n.length=i,OB(e,n.length>0?n:void 0)}TM(e,i=>{NM(t,i)})}function HB(t,e){const n=gm(e);if(n){const i=[];let r=[],s=-1;for(let l=0;l<n.length;l++)3===n[l].status||(1===n[l].status?((0,$.hu)(s===l-1,"All SENT items should be at beginning of queue."),s=l,n[l].status=3,n[l].abortReason="set"):((0,$.hu)(0===n[l].status,"Unexpected transaction status in abort"),n[l].unwatcher(),r=r.concat(Dh(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&i.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));-1===s?OB(e,void 0):n.length=s+1,No(t.eventQueue_,$E(e),r);for(let l=0;l<i.length;l++)Zy(i[l])}}const $B=function(t,e){const n=wae(t),i=n.namespace;return"firebase.com"===n.domain&&Hl(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==n.domain&&Hl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Cs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new $2(n.host,n.secure,i,"ws"===n.scheme||"wss"===n.scheme,e,"",i!==n.subdomain),path:new In(n.pathString)}},wae=function(t){let e="",n="",i="",r="",s="",l=!0,h="https",p=443;if("string"==typeof t){let g=t.indexOf("//");g>=0&&(h=t.substring(0,g-1),t=t.substring(g+2));let b=t.indexOf("/");-1===b&&(b=t.length);let C=t.indexOf("?");-1===C&&(C=t.length),e=t.substring(0,Math.min(b,C)),b<C&&(r=function vae(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(t.substring(b,C)));const D=function bae(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const i=n.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Cs(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,C)));g=e.indexOf(":"),g>=0?(l="https"===h||"wss"===h,p=parseInt(e.substring(g+1),10)):g=e.length;const R=e.slice(0,g);if("localhost"===R.toLowerCase())n="localhost";else if(R.split(".").length<=2)n=R;else{const B=e.indexOf(".");i=e.substring(0,B).toLowerCase(),n=e.substring(B+1),s=i}"ns"in D&&(s=D.ns)}return{host:e,port:p,domain:n,subdomain:i,secure:l,scheme:h,pathString:r,namespace:s}};class Po{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return Jt(this._path)?null:Z2(this._path)}get ref(){return new Xa(this._repo,this._path)}get _queryIdentifier(){const e=uq(this._queryParams),n=z2(e);return"{}"===n?"default":n}get _queryObject(){return uq(this._queryParams)}isEqual(e){if(!((e=(0,$.m9)(e))instanceof Po))return!1;const n=this._repo===e._repo,i=Q2(this._path,e._path);return n&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function fse(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class Xa extends Po{constructor(e,n){super(e,n,new sB,!1)}get parent(){const e=XW(this._path);return null===e?null:new Xa(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function Doe(t){(0,$.hu)(!xM,"__referenceConstructor has already been defined"),xM=t})(Xa),function koe(t){(0,$.hu)(!CM,"__referenceConstructor has already been defined"),CM=t}(Xa);const WB={};class jae{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function oae(t,e,n){if(t.stats_=q2(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new fM(t.repoInfo_,(i,r,s,l)=>{Zq(t,i,r,s,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>Qq(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,$.Wl)(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new hm(t.repoInfo_,e,(i,r,s,l)=>{Zq(t,i,r,s,l)},i=>{Qq(t,i)},i=>{!function aae(t,e){Fr(e,(n,i)=>{BB(t,n,i)})}(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=function Gre(t,e){const n=t.toString();return W2[n]||(W2[n]=e()),W2[n]}(t.repoInfo_,()=>new Gse(t.stats_,t.server_)),t.infoData_=new Use,t.infoSyncTree_=new Nq({startListening:(i,r,s,l)=>{let h=[];const p=t.infoData_.getNode(i._path);return p.isEmpty()||(h=jE(t.infoSyncTree_,i._path,p),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),BB(t,"connected",!1),t.serverSyncTree_=new Nq({startListening:(i,r,s,l)=>(t.server_.listen(i,s,r,(h,p)=>{const g=l(h,p);No(t.eventQueue_,i._path,g)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xa(this._repo,vn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Bae(t,e){const n=WB[e];(!n||n[t.key]!==t)&&Hl(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function Jq(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Hl("Cannot call "+e+" on a deleted database.")}}function zae(t=(0,Ze.getApp)(),e){const n=(0,Ze._getProvider)(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=(0,$.P0)("database");i&&function Hae(t,e,n,i={}){(t=(0,$.m9)(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&Hl("Cannot call useEmulator() after instance has already been initialized.");const r=t._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Hl('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new TE(TE.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,$.Sg)(i.mockUserToken,t.app.options.projectId);s=new TE(l)}!function Fae(t,e,n,i){t.repoInfo_=new $2(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}(r,e,n,s)}(n,...i)}return n}hm.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},hm.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function $ae(t){(function Are(t){V2=t})(Ze.SDK_VERSION),(0,Ze._registerComponent)(new Yi.wA("database",(e,{instanceIdentifier:n})=>function Lae(t,e,n,i,r){let s=i||t.options.databaseURL;void 0===s&&(t.options.projectId||Hl("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Pr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let p,g,l=$B(s,r),h=l.repoInfo;typeof process<"u"&&process.env&&(g=process.env.FIREBASE_DATABASE_EMULATOR_HOST),g?(p=!0,s=`http://${g}?ns=${h.namespace}`,l=$B(s,r),h=l.repoInfo):p=!l.repoInfo.secure;const b=r&&p?new TE(TE.OWNER):new zre(t.name,t.options,e);Gq("Invalid Firebase Database URL",l),Jt(l.path)||Hl("Database URL must point to the root of a Firebase Database (not including a child path).");const C=function Vae(t,e,n,i){let r=WB[e.name];r||(r={},WB[e.name]=r);let s=r[t.toURLString()];return s&&Hl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new sae(t,!1,n,i),r[t.toURLString()]=s,s}(h,t,b,new jre(t.name,n));return new jae(C,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),(0,Ze.registerVersion)(pW,"0.14.4",t),(0,Ze.registerVersion)(pW,"0.14.4","esm2017")}();class qB{constructor(e){return e}}const d8="database",YB=new u.OlP("angularfire2.database-instances");function Kae(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new qB(i)}}const Zae={provide:class qae{constructor(){return ca(d8)}},deps:[[new u.FiY,YB]]},Qae={provide:qB,useFactory:function Yae(t,e){const n=Do(d8,t,e);return n&&new qB(n)},deps:[[new u.FiY,YB],Ts]};let Xae=(()=>{class t{constructor(){(0,Ze.registerVersion)("angularfire",pn.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Qae,Zae]}),t})();function Jae(t,...e){return{ngModule:Xae,providers:[{provide:YB,useFactory:Kae(t),multi:!0,deps:[u.R0b,u.zs3,ms,da,[new u.FiY,Kc],[new u.FiY,To],...e]}]}}const ele=gs(zae,!0);class KB{constructor(e){return e}}const h8="firestore",ZB=new u.OlP("angularfire2.firestore-instances");function ile(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new KB(i)}}const rle={provide:class tle{constructor(){return ca(h8)}},deps:[[new u.FiY,ZB]]},sle={provide:KB,useFactory:function nle(t,e){const n=Do(h8,t,e);return n&&new KB(n)},deps:[[new u.FiY,ZB],Ts]};let ole=(()=>{class t{constructor(){(0,Ze.registerVersion)("angularfire",pn.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[sle,rle]}),t})();function ale(t,...e){return{ngModule:ole,providers:[{provide:ZB,useFactory:ile(t),multi:!0,deps:[u.R0b,u.zs3,ms,da,[new u.FiY,Kc],[new u.FiY,To],...e]}]}}const lle=gs(Mee,!0),f8="@firebase/performance",QB="0.6.4",p8=QB,XB="FB-PERF-TRACE-MEASURE",v8="@firebase/performance/config",b8="@firebase/performance/configexpire",w8="Performance",ns=new $.LL("performance",w8,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),Yl=new pr.Yd(w8);let JB,x8,E8,tV;Yl.logLevel=pr.in.INFO;class Lr{constructor(e){if(this.window=e,!e)throw ns.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,n,i){!this.performance||!this.performance.measure||this.performance.measure(e,n,i)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&(0,$.zI)()?!!(0,$.hl)()||(Yl.info("IndexedDB is not supported by current browswer"),!1):(Yl.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,n){this.PerformanceObserver&&new this.PerformanceObserver(r=>{for(const s of r.getEntries())n(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===JB&&(JB=new Lr(x8)),JB}}function eV(){return E8}function C8(t,e){const n=t.length-e.length;if(n<0||n>1)throw ns.create("invalid String merger input");const i=[];for(let r=0;r<t.length;r++)i.push(t.charAt(r)),e.length>r&&i.push(e.charAt(r));return i.join("")}class Fo{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=C8("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=C8("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===tV&&(tV=new Fo),tV}}var QE=function(t){return t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN",t}(QE||{});const gle=["firebase_","google_","ga_"],_le=new RegExp("^[a-zA-Z]\\w*$");function ble(){const t=Lr.getInstance().navigator;return t?.serviceWorker?t.serviceWorker.controller?2:3:1}function I8(){switch(Lr.getInstance().document.visibilityState){case"visible":return QE.VISIBLE;case"hidden":return QE.HIDDEN;default:return QE.UNKNOWN}}function wle(){const e=Lr.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function S8(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.appId;if(!n)throw ns.create("no app id");return n}const Sle="0.0.1",Ja={loggingEnabled:!0},Dle="FIREBASE_INSTALLATIONS_AUTH";const Rle="Could not fetch config, will use default configs";function D8(t){if(!t)return t;const e=Fo.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):Ja.loggingEnabled,n.fpr_log_source?e.logSource=Number(n.fpr_log_source):Ja.logSource&&(e.logSource=Ja.logSource),n.fpr_log_endpoint_url?e.logEndPointUrl=n.fpr_log_endpoint_url:Ja.logEndPointUrl&&(e.logEndPointUrl=Ja.logEndPointUrl),n.fpr_log_transport_key?e.transportKey=n.fpr_log_transport_key:Ja.transportKey&&(e.transportKey=Ja.transportKey),void 0!==n.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):void 0!==Ja.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=Ja.networkRequestsSamplingRate),void 0!==n.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):void 0!==Ja.tracesSamplingRate&&(e.tracesSamplingRate=Ja.tracesSamplingRate),e.logTraceAfterSampling=A8(e.tracesSamplingRate),e.logNetworkAfterSampling=A8(e.networkRequestsSamplingRate),t}function A8(t){return Math.random()<=t}let iV,nV=1;function T8(t){return nV=2,iV=iV||function Ple(t){return function Fle(){const t=Lr.getInstance().document;return new Promise(e=>{if(t&&"complete"!==t.readyState){const n=()=>{"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(()=>function ple(t){const e=t.getId();return e.then(n=>{E8=n}),e}(t.installations)).then(e=>function Ale(t,e){const n=function Tle(){const t=Lr.getInstance().localStorage;if(!t)return;const e=t.getItem(b8);if(!e||!function Ole(t){return Number(t)>Date.now()}(e))return;const n=t.getItem(v8);if(n)try{return JSON.parse(n)}catch{return}}();return n?(D8(n),Promise.resolve()):function kle(t,e){return function mle(t){const e=t.getToken();return e.then(n=>{}),e}(t.installations).then(n=>{const i=function Cle(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.projectId;if(!n)throw ns.create("no project id");return n}(t.app),r=function Ile(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.apiKey;if(!n)throw ns.create("no api key");return n}(t.app),l=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${i}/namespaces/fireperf:fetch?key=${r}`,{method:"POST",headers:{Authorization:`${Dle} ${n}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:n,app_id:S8(t.app),app_version:p8,sdk_version:Sle})});return fetch(l).then(h=>{if(h.ok)return h.json();throw ns.create("RC response not ok")})}).catch(()=>{Yl.info(Rle)})}(t,e).then(D8).then(i=>function Mle(t){const e=Lr.getInstance().localStorage;!t||!e||(e.setItem(v8,JSON.stringify(t)),e.setItem(b8,String(Date.now()+60*Fo.getInstance().configTimeToLive*60*1e3)))}(i),()=>{})}(t,e)).then(()=>M8(),()=>M8())}(t),iV}function M8(){nV=3}let sV,BM=3,Mh=[],k8=!1;function VM(t){setTimeout(()=>{if(0!==BM){if(!Mh.length)return VM(1e4);!function Ule(){const t=Mh.splice(0,1e3),e=t.map(i=>({source_extension_json_proto3:i.message,event_time_ms:String(i.eventTime)}));(function jle(t,e){return function zle(t){const e=Fo.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(n=>(n.ok||Yl.info("Call to Firebase backend failed."),n.json())).then(n=>{const i=Number(n.nextRequestWaitMillis);let r=1e4;isNaN(i)||(r=Math.max(i,r));const s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(Mh=[...e,...Mh],Yl.info("Retry transport request later.")),BM=3,VM(r)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Fo.getInstance().logSource,log_event:e},t).catch(()=>{Mh=[...t,...Mh],BM--,Yl.info(`Tries left: ${BM}.`),VM(1e4)})}()}},t)}function O8(t,e){sV||(sV=function $le(t){return(...e)=>{!function Hle(t){if(!t.eventTime||!t.message)throw ns.create("invalid cc log");Mh=[...Mh,t]}({message:t(...e),eventTime:Date.now()})}}(Wle)),sV(t,e)}function UM(t){const e=Fo.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||Lr.getInstance().requiredApisAvailable()&&(t.isAuto&&I8()!==QE.VISIBLE||(function Nle(){return 3===nV}()?oV(t):T8(t.performanceController).then(()=>oV(t),()=>oV(t))))}function oV(t){if(!eV())return;const e=Fo.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>O8(t,1),0)}function Wle(t,e){return 0===e?function qle(t){const e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:N8(t.performanceController.app),network_request_metric:e};return JSON.stringify(n)}(t):function Yle(t){const e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);const n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);const i={application_info:N8(t.performanceController.app),trace_metric:e};return JSON.stringify(i)}(t)}function N8(t){return{google_app_id:S8(t),app_instance_id:eV(),web_app_info:{sdk_version:p8,page_url:Lr.getInstance().getUrl(),service_worker_status:ble(),visibility_state:I8(),effective_connection_type:wle()},application_process_state:0}}const Qle=["_fp","_fcp","_fid"];class Rh{constructor(e,n,i=!1,r){this.performanceController=e,this.name=n,this.isAuto=i,this.state=1,this.customAttributes={},this.counters={},this.api=Lr.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=r||`${XB}-${this.randomId}-${this.name}`,r&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw ns.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw ns.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),UM(this)}record(e,n,i){if(e<=0)throw ns.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw ns.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*n),this.startTimeUs=Math.floor(1e3*e),i&&i.attributes&&(this.customAttributes=Object.assign({},i.attributes)),i&&i.metrics)for(const r of Object.keys(i.metrics))isNaN(Number(i.metrics[r]))||(this.counters[r]=Math.floor(Number(i.metrics[r])));UM(this)}incrementMetric(e,n=1){this.putMetric(e,void 0===this.counters[e]?n:this.counters[e]+n)}putMetric(e,n){if(!function Xle(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&Qle.indexOf(t)>-1||!t.startsWith("_"))}(e,this.name))throw ns.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function Jle(t){const e=Math.floor(t);return e<t&&Yl.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(n??0)}getMetric(e){return this.counters[e]||0}putAttribute(e,n){const i=function xle(t){return!(0===t.length||t.length>40||gle.some(n=>t.startsWith(n))||!t.match(_le))}(e),r=function Ele(t){return 0!==t.length&&t.length<=100}(n);if(i&&r)this.customAttributes[e]=n;else{if(!i)throw ns.create("invalid attribute name",{attributeName:e});if(!r)throw ns.create("invalid attribute value",{attributeValue:n})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(1e3*n.duration),this.startTimeUs=Math.floor(1e3*(n.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,n,i,r){const s=Lr.getInstance().getUrl();if(!s)return;const l=new Rh(e,"_wt_"+s,!0),h=Math.floor(1e3*Lr.getInstance().getTimeOrigin());if(l.setStartTime(h),n&&n[0]&&(l.setDuration(Math.floor(1e3*n[0].duration)),l.putMetric("domInteractive",Math.floor(1e3*n[0].domInteractive)),l.putMetric("domContentLoadedEventEnd",Math.floor(1e3*n[0].domContentLoadedEventEnd)),l.putMetric("loadEventEnd",Math.floor(1e3*n[0].loadEventEnd))),i){const b=i.find(D=>"first-paint"===D.name);b&&b.startTime&&l.putMetric("_fp",Math.floor(1e3*b.startTime));const C=i.find(D=>"first-contentful-paint"===D.name);C&&C.startTime&&l.putMetric("_fcp",Math.floor(1e3*C.startTime)),r&&l.putMetric("_fid",Math.floor(1e3*r))}UM(l)}static createUserTimingTrace(e,n){UM(new Rh(e,n,!1,n))}}function P8(t,e){const n=e;if(!n||void 0===n.responseStart)return;const i=Lr.getInstance().getTimeOrigin(),r=Math.floor(1e3*(n.startTime+i)),s=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,l=Math.floor(1e3*(n.responseEnd-n.startTime));!function Gle(t){const e=Fo.getInstance();if(!e.instrumentationEnabled)return;const n=t.url,i=e.logEndPointUrl.split("?")[0],r=e.flTransportEndpointUrl.split("?")[0];n===i||n===r||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>O8(t,0),0)}({performanceController:t,url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:r,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:l})}function F8(t){eV()&&(setTimeout(()=>function nce(t){const e=Lr.getInstance(),n=e.getEntriesByType("navigation"),i=e.getEntriesByType("paint");if(e.onFirstInputDelay){let r=setTimeout(()=>{Rh.createOobTrace(t,n,i),r=void 0},5e3);e.onFirstInputDelay(s=>{r&&(clearTimeout(r),Rh.createOobTrace(t,n,i,s))})}else Rh.createOobTrace(t,n,i)}(t),0),setTimeout(()=>function tce(t){const e=Lr.getInstance(),n=e.getEntriesByType("resource");for(const i of n)P8(t,i);e.setupObserver("resource",i=>P8(t,i))}(t),0),setTimeout(()=>function ice(t){const e=Lr.getInstance(),n=e.getEntriesByType("measure");for(const i of n)L8(t,i);e.setupObserver("measure",i=>L8(t,i))}(t),0))}function L8(t,e){const n=e.name;n.substring(0,XB.length)!==XB&&Rh.createUserTimingTrace(t,n)}class rce{constructor(e,n){this.app=e,this.installations=n,this.initialized=!1}_init(e){this.initialized||(void 0!==e?.dataCollectionEnabled&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==e?.instrumentationEnabled&&(this.instrumentationEnabled=e.instrumentationEnabled),Lr.getInstance().requiredApisAvailable()?(0,$.eu)().then(n=>{n&&(function Vle(){k8||(VM(5500),k8=!0)}(),T8(this).then(()=>F8(this),()=>F8(this)),this.initialized=!0)}).catch(n=>{Yl.info(`Environment doesn't support IndexedDB: ${n}`)}):Yl.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){Fo.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return Fo.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){Fo.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return Fo.getInstance().dataCollectionEnabled}}function oce(t=(0,Ze.getApp)()){return t=(0,$.m9)(t),(0,Ze._getProvider)(t,"performance").getImmediate()}const ace=(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==n.name)throw ns.create("FB not default");if(typeof window>"u")throw ns.create("no window");!function fle(t){x8=t}(window);const r=new rce(n,i);return r._init(e),r};!function lce(){(0,Ze._registerComponent)(new Yi.wA("performance",ace,"PUBLIC")),(0,Ze.registerVersion)(f8,QB),(0,Ze.registerVersion)(f8,QB,"esm2017")}();class aV{constructor(e){return e}}const B8="performance",lV=new u.OlP("angularfire2.performance-instances");function dce(t){return(e,n,i)=>{if(!$s(n))return null;const r=e.runOutsideAngular(()=>t(i));return new aV(r)}}const hce={provide:class cce{constructor(){return ca(B8)}},deps:[[new u.FiY,lV]]},fce={provide:aV,useFactory:function uce(t,e,n){if(!$s(n))return null;const i=Do(B8,t,e);return i&&new aV(i)},deps:[[new u.FiY,lV],Ts,u.Lbi]};let pce=(()=>{class t{constructor(){(0,Ze.registerVersion)("angularfire",pn.full,"perf")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[fce,hce]}),t})();function mce(t,...e){return{ngModule:pce,providers:[{provide:lV,useFactory:dce(t),multi:!0,deps:[u.R0b,u.Lbi,u.zs3,ms,da,...e]}]}}const gce=gs(oce,!0),V8="firebasestorage.googleapis.com";class vi extends $.ZR{constructor(e,n,i=0){super(cV(e),`Firebase Storage: ${n} (${cV(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return cV(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var ai=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(ai||{});function cV(t){return"storage/"+t}function dV(t){return new vi(ai.INVALID_ARGUMENT,t)}function $8(){return new vi(ai.APP_DELETED,"The Firebase app was deleted.")}class Vs{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Vs.makeFromUrl(e,n)}catch{return new Vs(e,"")}if(""===i.path)return i;throw function Sce(t){return new vi(ai.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let i=null;const r="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+r+"(/(.*))?$","i");function g(Ve){Ve.path_=decodeURIComponent(Ve.path)}const C=n.replace(/[.]/g,"\\."),Be=[{regex:h,indices:{bucket:1,path:3},postModify:function s(Ve){"/"===Ve.path.charAt(Ve.path.length-1)&&(Ve.path_=Ve.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${C}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:g},{regex:new RegExp(`^https?://${n===V8?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:g}];for(let Ve=0;Ve<Be.length;Ve++){const ft=Be[Ve],wt=ft.regex.exec(e);if(wt){let ci=wt[ft.indices.path];ci||(ci=""),i=new Vs(wt[ft.indices.bucket],ci),ft.postModify(i);break}}if(null==i)throw function Ice(t){return new vi(ai.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return i}}class kce{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function fV(t,e,n,i){if(i<e)throw dV(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw dV(`Invalid value for '${t}'. Expected ${n} or less.`)}var lv=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(lv||{});class Bce{constructor(e,n,i,r,s,l,h,p,g,b,C,D=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=l,this.callback_=h,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=b,this.connectionFactory_=C,this.retry=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((R,B)=>{this.resolve_=R,this.reject_=B,this.start_()})}start_(){const n=(i,r)=>{const s=this.resolve_,l=this.reject_,h=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(h,h.getResponse());!function Pce(t){return void 0!==t}(p)?s():s(p)}catch(p){l(p)}else if(null!==h){const p=function uV(){return new vi(ai.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();p.serverResponse=h.getErrorText(),l(this.errorCallback_?this.errorCallback_(h,p):p)}else l(r.canceled?this.appDelete_?$8():function z8(){return new vi(ai.CANCELED,"User canceled the upload/download.")}():function j8(){return new vi(ai.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new zM(!1,null,!0)):this.backoffId_=function Oce(t,e,n){let i=1,r=null,s=null,l=!1,h=0;function p(){return 2===h}let g=!1;function b(...q){g||(g=!0,e.apply(null,q))}function C(q){r=setTimeout(()=>{r=null,t(R,p())},q)}function D(){s&&clearTimeout(s)}function R(q,...le){if(g)return void D();if(q)return D(),void b.call(null,q,...le);if(p()||l)return D(),void b.call(null,q,...le);let Be;i<64&&(i*=2),1===h?(h=2,Be=0):Be=1e3*(i+Math.random()),C(Be)}let B=!1;function G(q){B||(B=!0,D(),!g&&(null!==r?(q||(h=2),clearTimeout(r),C(0)):q||(h=1)))}return C(0),s=setTimeout(()=>{l=!0,G(!0)},n),G}((i,r)=>{if(r)return void i(!1,new zM(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const l=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(l),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(l),this.pendingConnection_=null;const h=s.getErrorCode()===lv.NO_ERROR,p=s.getStatus();if(!h||function q8(t,e){const n=t>=500&&t<600,r=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||r||s}(p,this.additionalRetryCodes_)&&this.retry){const b=s.getErrorCode()===lv.ABORT;return void i(!1,new zM(!1,null,b))}const g=-1!==this.successCodes_.indexOf(p);i(!0,new zM(g,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Nce(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class zM{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}class ym{constructor(e,n){this._service=e,this._location=n instanceof Vs?n:Vs.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ym(e,n)}get root(){const e=new Vs(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function X8(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function Xce(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new Vs(this._location.bucket,e);return new ym(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function Rce(t){return new vi(ai.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function f9(t,e){const n=e?.storageBucket;return null==n?null:Vs.makeFromBucketSpec(n,t)}class bV{constructor(e,n,i,r,s){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=V8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Vs.makeFromBucketSpec(r,this._host):f9(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Vs.makeFromBucketSpec(this._url,e):f9(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fV("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fV("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Q.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const i=yield n.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Q.Z)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ym(this,e)}_makeRequest(e,n,i,r,s=!0){if(this._deleted)return new kce($8());{const l=function Hce(t,e,n,i,r,s,l=!0){const h=function W8(t){const e=encodeURIComponent;let n="?";for(const i in t)t.hasOwnProperty(i)&&(n=n+(e(i)+"=")+e(t[i])+"&");return n=n.slice(0,-1),n}(t.urlParams),p=t.url+h,g=Object.assign({},t.headers);return function jce(t,e){e&&(t["X-Firebase-GMPID"]=e)}(g,e),function Vce(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(g,n),function Uce(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(g,s),function zce(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(g,i),new Bce(p,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r,l)}(e,this._appId,i,r,n,this._firebaseVersion,s);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(e,n){var i=this;return(0,Q.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,n,r,s).getPromise()})()}}const p9="@firebase/storage",g9="storage";function Lue(t=(0,Ze.getApp)(),e){t=(0,$.m9)(t);const i=(0,Ze._getProvider)(t,g9).getImmediate({identifier:e}),r=(0,$.P0)("storage");return r&&function Bue(t,e,n,i={}){!function Fue(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:r}=i;r&&(t._overrideAuthToken="string"==typeof r?r:(0,$.Sg)(r,t.app.options.projectId))}(t,e,n,i)}(i,...r),i}function Vue(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return new bV(n,i,r,e,Ze.SDK_VERSION)}!function Uue(){(0,Ze._registerComponent)(new Yi.wA(g9,Vue,"PUBLIC").setMultipleInstances(!0)),(0,Ze.registerVersion)(p9,"0.11.2",""),(0,Ze.registerVersion)(p9,"0.11.2","esm2017")}();class wV{constructor(e){return e}}const _9="storage",xV=new u.OlP("angularfire2.storage-instances");function Hue(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new wV(i)}}const $ue={provide:class jue{constructor(){return ca(_9)}},deps:[[new u.FiY,xV]]},Gue={provide:wV,useFactory:function zue(t,e){const n=Do(_9,t,e);return n&&new wV(n)},deps:[[new u.FiY,xV],Ts]};let Wue=(()=>{class t{constructor(){(0,Ze.registerVersion)("angularfire",pn.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Gue,$ue]}),t})();function que(t,...e){return{ngModule:Wue,providers:[{provide:xV,useFactory:Hue(t),multi:!0,deps:[u.R0b,u.zs3,ms,da,[new u.FiY,Kc],[new u.FiY,To],...e]}]}}const Yue=gs(Lue,!0),CV="functions";class Jue{constructor(e,n,i){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(r=>this.auth=r,()=>{}),this.messaging||n.get().then(r=>this.messaging=r,()=>{}),this.appCheck||i.get().then(r=>this.appCheck=r,()=>{})}getAuthToken(){var e=this;return(0,Q.Z)(function*(){if(e.auth)try{const n=yield e.auth.getToken();return n?.accessToken}catch{return}})()}getMessagingToken(){var e=this;return(0,Q.Z)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(e){var n=this;return(0,Q.Z)(function*(){if(n.appCheck){const i=e?yield n.appCheck.getLimitedUseToken():yield n.appCheck.getToken();return i.error?null:i.token}return null})()}getContext(e){var n=this;return(0,Q.Z)(function*(){return{authToken:yield n.getAuthToken(),messagingToken:yield n.getMessagingToken(),appCheckToken:yield n.getAppCheckToken(e)}})()}}const IV="us-central1";class tde{constructor(e,n,i,r,s=IV,l){this.app=e,this.fetchImpl=l,this.emulatorOrigin=null,this.contextProvider=new Jue(n,i,r),this.cancelAllRequests=new Promise(h=>{this.deleteService=()=>Promise.resolve(h())});try{const h=new URL(s);this.customDomain=h.origin,this.region=IV}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const w9="@firebase/functions";function dde(t=(0,Ze.getApp)(),e=IV){const i=(0,Ze._getProvider)((0,$.m9)(t),CV).getImmediate({identifier:e}),r=(0,$.P0)("functions");return r&&function hde(t,e,n){!function nde(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}((0,$.m9)(t),e,n)}(i,...r),i}!function ude(t,e){(0,Ze._registerComponent)(new Yi.wA(CV,(i,{instanceIdentifier:r})=>{const s=i.getProvider("app").getImmediate(),l=i.getProvider("auth-internal"),h=i.getProvider("messaging-internal"),p=i.getProvider("app-check-internal");return new tde(s,l,h,p,r,t)},"PUBLIC").setMultipleInstances(!0)),(0,Ze.registerVersion)(w9,"0.10.0",e),(0,Ze.registerVersion)(w9,"0.10.0","esm2017")}(fetch.bind(self));class AV{constructor(e){return e}}const E9="functions",TV=new u.OlP("angularfire2.functions-instances");function mde(t){return(e,n)=>{const i=e.runOutsideAngular(()=>t(n));return new AV(i)}}const gde={provide:class fde{constructor(){return ca(E9)}},deps:[[new u.FiY,TV]]},_de={provide:AV,useFactory:function pde(t,e){const n=Do(E9,t,e);return n&&new AV(n)},deps:[[new u.FiY,TV],Ts]};let yde=(()=>{class t{constructor(){(0,Ze.registerVersion)("angularfire",pn.full,"fn")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[_de,gde]}),t})();function vde(t,...e){return{ngModule:yde,providers:[{provide:TV,useFactory:mde(t),multi:!0,deps:[u.R0b,u.zs3,ms,da,[new u.FiY,Kc],[new u.FiY,To],...e]}]}}const bde=gs(dde,!0);class MV{constructor(e){return e}}const C9="messaging",RV=new u.OlP("angularfire2.messaging-instances");function Ede(t){return(e,n)=>{if(!Ha.sync())return null;const i=e.runOutsideAngular(()=>t(n));return new MV(i)}}const Cde={provide:class wde{constructor(){return ca(C9)}},deps:[[new u.FiY,RV]]},Ide={provide:MV,useFactory:function xde(t,e){if(!Ha.sync())return null;const n=Do(C9,t,e);return n&&new MV(n)},deps:[[new u.FiY,RV],Ts]};let Sde=(()=>{class t{constructor(){(0,Ze.registerVersion)("angularfire",pn.full,"fcm")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Ide,Cde,{provide:u.ip1,useValue:Ha.async,multi:!0}]}),t})();function Dde(t,...e){return{ngModule:Sde,providers:[{provide:RV,useFactory:Ede(t),multi:!0,deps:[u.R0b,u.zs3,ms,da,...e]}]}}const Ade=gs(_S,!0);class kV{constructor(e){return e}}const I9="remote-config",OV=new u.OlP("angularfire2.remote-config-instances");function Rde(t){return(e,n)=>{if(!F_.sync())return null;const i=e.runOutsideAngular(()=>t(n));return new kV(i)}}const kde={provide:class Tde{constructor(){return ca(I9)}},deps:[[new u.FiY,OV]]},Ode={provide:kV,useFactory:function Mde(t,e){if(!F_.sync())return null;const n=Do(I9,t,e);return n&&new kV(n)},deps:[[new u.FiY,OV],Ts]};let Nde=(()=>{class t{constructor(){(0,Ze.registerVersion)("angularfire",pn.full,"rc")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Ode,kde,{provide:u.ip1,useValue:F_.async,multi:!0}]}),t})();function Pde(t,...e){return{ngModule:Nde,providers:[{provide:OV,useFactory:Rde(t),multi:!0,deps:[u.R0b,u.zs3,ms,da,...e]}]}}const Fde=gs(NU,!0);function S9(t){return new u.vHH(3e3,!1)}function kh(t){switch(t.length){case 0:return new rx;case 1:return t[0];default:return new bH(t)}}function D9(t,e,n=new Map,i=new Map){const r=[],s=[];let l=-1,h=null;if(e.forEach(p=>{const g=p.get("offset"),b=g==l,C=b&&h||new Map;p.forEach((D,R)=>{let B=R,G=D;if("offset"!==R)switch(B=t.normalizePropertyName(B,r),G){case"!":G=n.get(R);break;case su:G=i.get(R);break;default:G=t.normalizeStyleValue(R,B,G,r)}C.set(B,G)}),b||s.push(C),h=C,l=g}),r.length)throw function she(t){return new u.vHH(3502,!1)}();return s}function NV(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&PV(n,"start",t)));break;case"done":t.onDone(()=>i(n&&PV(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&PV(n,"destroy",t)))}}function PV(t,e,n){const s=FV(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),l=t._data;return null!=l&&(s._data=l),s}function FV(t,e,n,i,r="",s=0,l){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!l}}function Lo(t,e,n){let i=t.get(e);return i||t.set(e,i=n),i}function A9(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const _he=(()=>typeof document>"u"?null:document.documentElement)();function LV(t){const e=t.parentNode||t.host||null;return e===_he?null:e}let vm=null,T9=!1;function M9(t,e){for(;e;){if(e===t)return!0;e=LV(e)}return!1}function R9(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const i=t.querySelector(e);return i?[i]:[]}let k9=(()=>{var t;class e{validateStyleProperty(i){return function vhe(t){vm||(vm=function bhe(){return typeof document<"u"?document.body:null}()||{},T9=!!vm.style&&"WebkitAppearance"in vm.style);let e=!0;return vm.style&&!function yhe(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in vm.style,!e&&T9&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in vm.style)),e}(i)}matchesElement(i,r){return!1}containsElement(i,r){return M9(i,r)}getParentElement(i){return LV(i)}query(i,r,s){return R9(i,r,s)}computeStyle(i,r,s){return s||""}animate(i,r,s,l,h,p=[],g){return new rx(s,l)}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})(),BV=(()=>{class e{}return e.NOOP=new k9,e})();const whe=1e3,VV="ng-enter",qM="ng-leave",YM="ng-trigger",KM=".ng-trigger",N9="ng-animating",UV=".ng-animating";function wu(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:jV(parseFloat(e[1]),e[2])}function jV(t,e){return"s"===e?t*whe:t}function ZM(t,e,n){return t.hasOwnProperty("duration")?t:function Ehe(t,e,n){let r,s=0,l="";if("string"==typeof t){const h=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(S9()),{duration:0,delay:0,easing:""};r=jV(parseFloat(h[1]),h[2]);const p=h[3];null!=p&&(s=jV(parseFloat(p),h[4]));const g=h[5];g&&(l=g)}else r=t;if(!n){let h=!1,p=e.length;r<0&&(e.push(function Lde(){return new u.vHH(3100,!1)}()),h=!0),s<0&&(e.push(function Bde(){return new u.vHH(3101,!1)}()),h=!0),h&&e.splice(p,0,S9())}return{duration:r,delay:s,easing:l}}(t,e,n)}function nC(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function P9(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function Oh(t,e=new Map,n){if(n)for(let[i,r]of n)e.set(i,r);for(let[i,r]of t)e.set(i,r);return e}function Ql(t,e,n){e.forEach((i,r)=>{const s=HV(r);n&&!n.has(r)&&n.set(r,t.style[s]),t.style[s]=i})}function bm(t,e){e.forEach((n,i)=>{const r=HV(i);t.style[r]=""})}function iC(t){return Array.isArray(t)?1==t.length?t[0]:vH(t):t}const zV=new RegExp("{{\\s*(.+?)\\s*}}","g");function L9(t){let e=[];if("string"==typeof t){let n;for(;n=zV.exec(t);)e.push(n[1]);zV.lastIndex=0}return e}function rC(t,e,n){const i=t.toString(),r=i.replace(zV,(s,l)=>{let h=e[l];return null==h&&(n.push(function Ude(t){return new u.vHH(3003,!1)}()),h=""),h.toString()});return r==i?t:r}function QM(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const She=/-+([a-z0-9])/g;function HV(t){return t.replace(She,(...e)=>e[1].toUpperCase())}function Bo(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function jde(t){return new u.vHH(3004,!1)}()}}function B9(t,e){return window.getComputedStyle(t)[e]}const XM="*";function The(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(i=>function Mhe(t,e,n){if(":"==t[0]){const p=function Rhe(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,i)=>parseFloat(i)>parseFloat(n);case":decrement":return(n,i)=>parseFloat(i)<parseFloat(n);default:return e.push(function the(t){return new u.vHH(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof p)return void e.push(p);t=p}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(function ehe(t){return new u.vHH(3015,!1)}()),e;const r=i[1],s=i[2],l=i[3];e.push(V9(r,l));"<"==s[0]&&!(r==XM&&l==XM)&&e.push(V9(l,r))}(i,n,e)):n.push(t),n}const JM=new Set(["true","1"]),eR=new Set(["false","0"]);function V9(t,e){const n=JM.has(t)||eR.has(t),i=JM.has(e)||eR.has(e);return(r,s)=>{let l=t==XM||t==r,h=e==XM||e==s;return!l&&n&&"boolean"==typeof r&&(l=r?JM.has(t):eR.has(t)),!h&&i&&"boolean"==typeof s&&(h=s?JM.has(e):eR.has(e)),l&&h}}const khe=new RegExp("s*:selfs*,?","g");function $V(t,e,n,i){return new Ohe(t).build(e,n,i)}class Ohe{constructor(e){this._driver=e}build(e,n,i){const r=new Fhe(n);return this._resetContextStyleTimingState(r),Bo(this,iC(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let i=n.queryCount=0,r=n.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&n.errors.push(function Hde(){return new u.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(n),0==h.type){const p=h,g=p.name;g.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,s.push(this.visitState(p,n))}),p.name=g}else if(1==h.type){const p=this.visitTransition(h,n);i+=p.queryCount,r+=p.depCount,l.push(p)}else n.errors.push(function $de(){return new u.vHH(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,n){const i=this.visitStyle(e.styles,n),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const s=new Set,l=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(p=>{L9(p).forEach(g=>{l.hasOwnProperty(g)||s.add(g)})})}),s.size&&(QM(s.values()),n.errors.push(function Gde(t,e){return new u.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const i=Bo(this,iC(e.animation),n);return{type:1,matchers:The(e.expr,n.errors),animation:i,queryCount:n.queryCount,depCount:n.depCount,options:wm(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(i=>Bo(this,i,n)),options:wm(e.options)}}visitGroup(e,n){const i=n.currentTime;let r=0;const s=e.steps.map(l=>{n.currentTime=i;const h=Bo(this,l,n);return r=Math.max(r,n.currentTime),h});return n.currentTime=r,{type:3,steps:s,options:wm(e.options)}}visitAnimate(e,n){const i=function Bhe(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return GV(ZM(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=GV(0,0,"");return s.dynamic=!0,s.strValue=n,s}const r=ZM(n,e);return GV(r.duration,r.delay,r.easing)}(e.timings,n.errors);n.currentAnimateTimings=i;let r,s=e.styles?e.styles:kp({});if(5==s.type)r=this.visitKeyframes(s,n);else{let l=e.styles,h=!1;if(!l){h=!0;const g={};i.easing&&(g.easing=i.easing),l=kp(g)}n.currentTime+=i.duration+i.delay;const p=this.visitStyle(l,n);p.isEmptyStep=h,r=p}return n.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,n){const i=this._makeStyleAst(e,n);return this._validateStyleAst(i,n),i}_makeStyleAst(e,n){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===su?i.push(h):n.errors.push(new u.vHH(3002,!1)):i.push(P9(h));let s=!1,l=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!s))for(let p of h.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,n){const i=n.currentAnimateTimings;let r=n.currentTime,s=n.currentTime;i&&s>0&&(s-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,p)=>{const g=n.collectedStyles.get(n.currentQuerySelector),b=g.get(p);let C=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(n.errors.push(function qde(t,e,n,i,r){return new u.vHH(3010,!1)}()),C=!1),s=b.startTime),C&&g.set(p,{startTime:s,endTime:r}),n.options&&function Ihe(t,e,n){const i=e.params||{},r=L9(t);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||n.push(function Vde(t){return new u.vHH(3001,!1)}())})}(h,n.options,n.errors)})})}visitKeyframes(e,n){const i={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function Yde(){return new u.vHH(3011,!1)}()),i;let s=0;const l=[];let h=!1,p=!1,g=0;const b=e.steps.map(le=>{const De=this._makeStyleAst(le,n);let Be=null!=De.offset?De.offset:function Lhe(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const i=n;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(De.styles),Ve=0;return null!=Be&&(s++,Ve=De.offset=Be),p=p||Ve<0||Ve>1,h=h||Ve<g,g=Ve,l.push(Ve),De});p&&n.errors.push(function Kde(){return new u.vHH(3012,!1)}()),h&&n.errors.push(function Zde(){return new u.vHH(3200,!1)}());const C=e.steps.length;let D=0;s>0&&s<C?n.errors.push(function Qde(){return new u.vHH(3202,!1)}()):0==s&&(D=1/(C-1));const R=C-1,B=n.currentTime,G=n.currentAnimateTimings,q=G.duration;return b.forEach((le,De)=>{const Be=D>0?De==R?1:D*De:l[De],Ve=Be*q;n.currentTime=B+G.delay+Ve,G.duration=Ve,this._validateStyleAst(le,n),le.offset=Be,i.styles.push(le)}),i}visitReference(e,n){return{type:8,animation:Bo(this,iC(e.animation),n),options:wm(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:wm(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:wm(e.options)}}visitQuery(e,n){const i=n.currentQuerySelector,r=e.options||{};n.queryCount++,n.currentQuery=e;const[s,l]=function Nhe(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(khe,"")),t=t.replace(/@\*/g,KM).replace(/@\w+/g,n=>KM+"-"+n.slice(1)).replace(/:animating/g,UV),[t,e]}(e.selector);n.currentQuerySelector=i.length?i+" "+s:s,Lo(n.collectedStyles,n.currentQuerySelector,new Map);const h=Bo(this,iC(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:h,originalSelector:e.selector,options:wm(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function Xde(){return new u.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:ZM(e.timings,n.errors,!0);return{type:12,animation:Bo(this,iC(e.animation),n),timings:i,options:null}}}class Fhe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function wm(t){return t?(t=nC(t)).params&&(t.params=function Phe(t){return t?nC(t):null}(t.params)):t={},t}function GV(t,e,n){return{duration:t,delay:e,easing:n}}function WV(t,e,n,i,r,s,l=null,h=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:l,subTimeline:h}}class tR{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const jhe=new RegExp(":enter","g"),Hhe=new RegExp(":leave","g");function qV(t,e,n,i,r,s=new Map,l=new Map,h,p,g=[]){return(new $he).buildKeyframes(t,e,n,i,r,s,l,h,p,g)}class $he{buildKeyframes(e,n,i,r,s,l,h,p,g,b=[]){g=g||new tR;const C=new YV(e,n,g,r,s,b,[]);C.options=p;const D=p.delay?wu(p.delay):0;C.currentTimeline.delayNextStep(D),C.currentTimeline.setStyles([l],null,C.errors,p),Bo(this,i,C);const R=C.timelines.filter(B=>B.containsAnimation());if(R.length&&h.size){let B;for(let G=R.length-1;G>=0;G--){const q=R[G];if(q.element===n){B=q;break}}B&&!B.allowOnlyTimelineStyles()&&B.setStyles([h],null,C.errors,p)}return R.length?R.map(B=>B.buildKeyframes()):[WV(n,[],[],[],0,D,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const i=n.subInstructions.get(n.element);if(i){const r=n.createSubContext(e.options),s=n.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);s!=l&&n.transformIntoNewTimeline(l)}n.previousNode=e}visitAnimateRef(e,n){const i=n.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,i),this.visitReference(e.animation,i),n.transformIntoNewTimeline(i.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,i){for(const r of e){const s=r?.delay;if(s){const l="number"==typeof s?s:wu(rC(s,r?.params??{},n.errors));i.delayNextStep(l)}}}_visitSubInstructions(e,n,i){let s=n.currentTimeline.currentTime;const l=null!=i.duration?wu(i.duration):null,h=null!=i.delay?wu(i.delay):null;return 0!==l&&e.forEach(p=>{const g=n.appendInstructionToTimeline(p,l,h);s=Math.max(s,g.duration+g.delay)}),s}visitReference(e,n){n.updateOptions(e.options,!0),Bo(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const i=n.subContextCount;let r=n;const s=e.options;if(s&&(s.params||s.delay)&&(r=n.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=nR);const l=wu(s.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Bo(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const i=[];let r=n.currentTimeline.currentTime;const s=e.options&&e.options.delay?wu(e.options.delay):0;e.steps.forEach(l=>{const h=n.createSubContext(e.options);s&&h.delayNextStep(s),Bo(this,l,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(l=>n.currentTimeline.mergeTimelineCollectedStyles(l)),n.transformIntoNewTimeline(r),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const i=e.strValue;return ZM(n.params?rC(i,n.params,n.errors):i,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const i=n.currentAnimateTimings=this._visitTiming(e.timings,n),r=n.currentTimeline;i.delay&&(n.incrementTime(i.delay),r.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,n):(n.incrementTime(i.duration),this.visitStyle(s,n),r.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const i=n.currentTimeline,r=n.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(s):i.setStyles(e.styles,s,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const i=n.currentAnimateTimings,r=n.currentTimeline.duration,s=i.duration,h=n.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(p=>{h.forwardTime((p.offset||0)*s),h.setStyles(p.styles,p.easing,n.errors,n.options),h.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(h),n.transformIntoNewTimeline(r+s),n.previousNode=e}visitQuery(e,n){const i=n.currentTimeline.currentTime,r=e.options||{},s=r.delay?wu(r.delay):0;s&&(6===n.previousNode.type||0==i&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=nR);let l=i;const h=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,n.errors);n.currentQueryTotal=h.length;let p=null;h.forEach((g,b)=>{n.currentQueryIndex=b;const C=n.createSubContext(e.options,g);s&&C.delayNextStep(s),g===n.element&&(p=C.currentTimeline),Bo(this,e.animation,C),C.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,C.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(l),p&&(n.currentTimeline.mergeTimelineCollectedStyles(p),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const i=n.parentContext,r=n.currentTimeline,s=e.timings,l=Math.abs(s.duration),h=l*(n.currentQueryTotal-1);let p=l*n.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=h-p;break;case"full":p=i.currentStaggerTime}const b=n.currentTimeline;p&&b.delayNextStep(p);const C=b.currentTime;Bo(this,e.animation,n),n.previousNode=e,i.currentStaggerTime=r.currentTime-C+(r.startTime-i.currentTimeline.startTime)}}const nR={};class YV{constructor(e,n,i,r,s,l,h,p){this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nR,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new iR(this._driver,n,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=wu(i.duration)),null!=i.delay&&(r.delay=wu(i.delay));const s=i.params;if(s){let l=r.params;l||(l=this.options.params={}),Object.keys(s).forEach(h=>{(!n||!l.hasOwnProperty(h))&&(l[h]=rC(s[h],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const i=e.params={};Object.keys(n).forEach(r=>{i[r]=n[r]})}}return e}createSubContext(e=null,n,i){const r=n||this.element,s=new YV(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=nR,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,i){const r={duration:n??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},s=new Ghe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,i,r,s,l){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(jhe,"."+this._enterClassName)).replace(Hhe,"."+this._leaveClassName);let g=this._driver.query(this.element,e,1!=i);0!==i&&(g=i<0?g.slice(g.length+i,g.length):g.slice(0,i)),h.push(...g)}return!s&&0==h.length&&l.push(function Jde(t){return new u.vHH(3014,!1)}()),h}}class iR{constructor(e,n,i,r){this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new iR(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,i]of this._globalTimelineStyles)this._backFill.set(n,i||su),this._currentKeyframe.set(n,su);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,i,r){n&&this._previousKeyframe.set("easing",n);const s=r&&r.params||{},l=function Whe(t,e){const n=new Map;let i;return t.forEach(r=>{if("*"===r){i=i||e.keys();for(let s of i)n.set(s,su)}else Oh(r,n)}),n}(e,this._globalTimelineStyles);for(let[h,p]of l){const g=rC(p,s,i);this._pendingStyles.set(h,g),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??su),this._updateStyle(h,g)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,i)=>{const r=this._styleSummary.get(i);(!r||n.time>r.time)&&this._updateStyle(i,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,p)=>{const g=Oh(h,new Map,this._backFill);g.forEach((b,C)=>{"!"===b?e.add(C):b===su&&n.add(C)}),i||g.set("offset",p/this.duration),r.push(g)});const s=e.size?QM(e.values()):[],l=n.size?QM(n.values()):[];if(i){const h=r[0],p=new Map(h);h.set("offset",0),p.set("offset",1),r=[h,p]}return WV(this.element,r,s,l,this.duration,this.startTime,this.easing,!1)}}class Ghe extends iR{constructor(e,n,i,r,s,l,h=!1){super(e,n,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&n){const s=[],l=i+n,h=n/l,p=Oh(e[0]);p.set("offset",0),s.push(p);const g=Oh(e[0]);g.set("offset",z9(h)),s.push(g);const b=e.length-1;for(let C=1;C<=b;C++){let D=Oh(e[C]);const R=D.get("offset");D.set("offset",z9((n+R*i)/l)),s.push(D)}i=l,n=0,r="",e=s}return WV(this.element,e,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}function z9(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class KV{}const qhe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Yhe extends KV{normalizePropertyName(e,n){return HV(e)}normalizeStyleValue(e,n,i,r){let s="";const l=i.toString().trim();if(qhe.has(n)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function zde(t,e){return new u.vHH(3005,!1)}())}return l+s}}function H9(t,e,n,i,r,s,l,h,p,g,b,C,D){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:l,timelines:h,queriedElements:p,preStyleProps:g,postStyleProps:b,totalTime:C,errors:D}}const ZV={};class $9{constructor(e,n,i){this._triggerName=e,this.ast=n,this._stateStyles=i}match(e,n,i,r){return function Khe(t,e,n,i,r){return t.some(s=>s(e,n,i,r))}(this.ast.matchers,e,n,i,r)}buildStyles(e,n,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(n,i):new Map}build(e,n,i,r,s,l,h,p,g,b){const C=[],D=this.ast.options&&this.ast.options.params||ZV,B=this.buildStyles(i,h&&h.params||ZV,C),G=p&&p.params||ZV,q=this.buildStyles(r,G,C),le=new Set,De=new Map,Be=new Map,Ve="void"===r,ft={params:Zhe(G,D),delay:this.ast.options?.delay},wt=b?[]:qV(e,n,this.ast.animation,s,l,B,q,ft,g,C);let Zt=0;if(wt.forEach(is=>{Zt=Math.max(is.duration+is.delay,Zt)}),C.length)return H9(n,this._triggerName,i,r,Ve,B,q,[],[],De,Be,Zt,C);wt.forEach(is=>{const Cu=is.element,$7=Lo(De,Cu,new Set);is.preStyleProps.forEach(Cm=>$7.add(Cm));const cC=Lo(Be,Cu,new Set);is.postStyleProps.forEach(Cm=>cC.add(Cm)),Cu!==n&&le.add(Cu)});const ci=QM(le.values());return H9(n,this._triggerName,i,r,Ve,B,q,wt,ci,De,Be,Zt)}}function Zhe(t,e){const n=nC(e);for(const i in t)t.hasOwnProperty(i)&&null!=t[i]&&(n[i]=t[i]);return n}class Qhe{constructor(e,n,i){this.styles=e,this.defaultParams=n,this.normalizer=i}buildStyles(e,n){const i=new Map,r=nC(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!==l&&(r[s]=l)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((l,h)=>{l&&(l=rC(l,r,n));const p=this.normalizer.normalizePropertyName(h,n);l=this.normalizer.normalizeStyleValue(h,p,l,n),i.set(h,l)})}),i}}class Jhe{constructor(e,n,i){this.name=e,this.ast=n,this._normalizer=i,this.transitionFactories=[],this.states=new Map,n.states.forEach(r=>{this.states.set(r.name,new Qhe(r.style,r.options&&r.options.params||{},i))}),G9(this.states,"true","1"),G9(this.states,"false","0"),n.transitions.forEach(r=>{this.transitionFactories.push(new $9(e,r,this.states))}),this.fallbackTransition=function efe(t,e,n){return new $9(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,i,r){return this.transitionFactories.find(l=>l.match(e,n,i,r))||null}matchStyles(e,n,i){return this.fallbackTransition.buildStyles(e,n,i)}}function G9(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const tfe=new tR;class nfe{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const i=[],s=$V(this._driver,n,i,[]);if(i.length)throw function ohe(t){return new u.vHH(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,n,i){const r=e.element,s=D9(this._normalizer,e.keyframes,n,i);return this._driver.animate(r,s,e.duration,e.delay,e.easing,[],!0)}create(e,n,i={}){const r=[],s=this._animations.get(e);let l;const h=new Map;if(s?(l=qV(this._driver,n,s,VV,qM,new Map,new Map,i,tfe,r),l.forEach(b=>{const C=Lo(h,b.element,new Map);b.postStyleProps.forEach(D=>C.set(D,null))})):(r.push(function ahe(){return new u.vHH(3300,!1)}()),l=[]),r.length)throw function lhe(t){return new u.vHH(3504,!1)}();h.forEach((b,C)=>{b.forEach((D,R)=>{b.set(R,this._driver.computeStyle(C,R,su))})});const g=kh(l.map(b=>{const C=h.get(b.element);return this._buildPlayer(b,new Map,C)}));return this._playersById.set(e,g),g.onDestroy(()=>this.destroy(e)),this.players.push(g),g}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const i=this.players.indexOf(n);i>=0&&this.players.splice(i,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function che(t){return new u.vHH(3301,!1)}();return n}listen(e,n,i,r){const s=FV(n,"","","");return NV(this._getPlayer(e),i,s,r),()=>{}}command(e,n,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,n,r[0]||{});const s=this._getPlayer(e);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const W9="ng-animate-queued",QV="ng-animate-disabled",afe=[],q9={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lfe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},nl="__ng_removed";class XV{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const i=e&&e.hasOwnProperty("value");if(this.value=function hfe(t){return t??null}(i?e.value:e),i){const s=nC(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const i=this.options.params;Object.keys(n).forEach(r=>{null==i[r]&&(i[r]=n[r])})}}}const sC="void",JV=new XV(sC);class cfe{constructor(e,n,i){this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,_a(n,this._hostClassName)}listen(e,n,i,r){if(!this._triggers.has(n))throw function uhe(t,e){return new u.vHH(3302,!1)}();if(null==i||0==i.length)throw function dhe(t){return new u.vHH(3303,!1)}();if(!function ffe(t){return"start"==t||"done"==t}(i))throw function hhe(t,e){return new u.vHH(3400,!1)}();const s=Lo(this._elementListeners,e,[]),l={name:n,phase:i,callback:r};s.push(l);const h=Lo(this._engine.statesByElement,e,new Map);return h.has(n)||(_a(e,YM),_a(e,YM+"-"+n),h.set(n,JV)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(l);p>=0&&s.splice(p,1),this._triggers.has(n)||h.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function fhe(t){return new u.vHH(3401,!1)}();return n}trigger(e,n,i,r=!0){const s=this._getTrigger(n),l=new eU(this.id,n,e);let h=this._engine.statesByElement.get(e);h||(_a(e,YM),_a(e,YM+"-"+n),this._engine.statesByElement.set(e,h=new Map));let p=h.get(n);const g=new XV(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&g.absorbOptions(p.options),h.set(n,g),p||(p=JV),g.value!==sC&&p.value===g.value){if(!function gfe(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const s=n[r];if(!e.hasOwnProperty(s)||t[s]!==e[s])return!1}return!0}(p.params,g.params)){const G=[],q=s.matchStyles(p.value,p.params,G),le=s.matchStyles(g.value,g.params,G);G.length?this._engine.reportError(G):this._engine.afterFlush(()=>{bm(e,q),Ql(e,le)})}return}const D=Lo(this._engine.playersByElement,e,[]);D.forEach(G=>{G.namespaceId==this.id&&G.triggerName==n&&G.queued&&G.destroy()});let R=s.matchTransition(p.value,g.value,e,g.params),B=!1;if(!R){if(!r)return;R=s.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:R,fromState:p,toState:g,player:l,isFallbackTransition:B}),B||(_a(e,W9),l.onStart(()=>{hv(e,W9)})),l.onDone(()=>{let G=this.players.indexOf(l);G>=0&&this.players.splice(G,1);const q=this._engine.playersByElement.get(e);if(q){let le=q.indexOf(l);le>=0&&q.splice(le,1)}}),this.players.push(l),D.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,i)=>{this._elementListeners.set(i,n.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const i=this._engine.driver.query(e,KM,!0);i.forEach(r=>{if(r[nl])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(l=>l.triggerLeaveAnimation(r,n,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,n,i,r){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const h=[];if(s.forEach((p,g)=>{if(l.set(g,p.value),this._triggers.has(g)){const b=this.trigger(e,g,sC,r);b&&h.push(b)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,l),i&&kh(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(n&&i){const r=new Set;n.forEach(s=>{const l=s.name;if(r.has(l))return;r.add(l);const p=this._triggers.get(l).fallbackTransition,g=i.get(l)||JV,b=new XV(sC),C=new eU(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:p,fromState:g,toState:b,player:C,isFallbackTransition:!0})})}}removeNode(e,n){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(e):[];if(s&&s.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,n);else{const s=e[nl];(!s||s===q9)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,n))}}insertNode(e,n){_a(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,l=this._elementListeners.get(s);l&&l.forEach(h=>{if(h.name==i.triggerName){const p=FV(s,i.triggerName,i.fromState.value,i.toState.value);p._data=e,NV(i.player,h.phase,p,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):n.push(i)}),this._queue=[],n.sort((i,r)=>{const s=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class ufe{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,i){this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,n){const i=new cfe(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(i,n):(this.newHostElements.set(n,i),this.collectEnterElement(n)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,n){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,h=this.driver.getParentElement(n);for(;h;){const p=r.get(h);if(p){const g=i.indexOf(p);i.splice(g+1,0,e),l=!0;break}h=this.driver.getParentElement(h)}l||i.unshift(e)}else i.push(e);return r.set(n,e),e}register(e,n){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,n)),i}registerTrigger(e,n,i){let r=this._namespaceLookup[e];r&&r.register(n,i)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&n.add(s)}return n}trigger(e,n,i,r){if(rR(n)){const s=this._fetchNamespace(e);if(s)return s.trigger(n,i,r),!0}return!1}insertNode(e,n,i,r){if(!rR(n))return;const s=n[nl];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(n);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(n,i)}r&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),_a(e,QV)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),hv(e,QV))}removeNode(e,n,i){if(rR(n)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(n,i):this.markElementAsRemoved(e,n,!1,i);const s=this.namespacesByHostElement.get(n);s&&s.id!==e&&s.removeNode(n,i)}else this._onRemovalComplete(n,i)}markElementAsRemoved(e,n,i,r,s){this.collectedLeaveElements.push(n),n[nl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,n,i,r,s){return rR(n)?this._fetchNamespace(e).listen(n,i,r,s):()=>{}}_buildInstruction(e,n,i,r,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,n,s)}destroyInnerAnimations(e){let n=this.driver.query(e,KM,!0);n.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,UV,!0),n.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return kh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[nl];if(n&&n.setForRemoval){if(e[nl]=q9,n.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(QV)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)_a(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{n=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],n.length?kh(n).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function phe(t){return new u.vHH(3402,!1)}()}_flushAnimations(e,n){const i=new tR,r=[],s=new Map,l=[],h=new Map,p=new Map,g=new Map,b=new Set;this.disabledNodes.forEach(pt=>{b.add(pt);const Ct=this.driver.query(pt,".ng-animate-queued",!0);for(let Tt=0;Tt<Ct.length;Tt++)b.add(Ct[Tt])});const C=this.bodyNode,D=Array.from(this.statesByElement.keys()),R=Z9(D,this.collectedEnterElements),B=new Map;let G=0;R.forEach((pt,Ct)=>{const Tt=VV+G++;B.set(Ct,Tt),pt.forEach(mn=>_a(mn,Tt))});const q=[],le=new Set,De=new Set;for(let pt=0;pt<this.collectedLeaveElements.length;pt++){const Ct=this.collectedLeaveElements[pt],Tt=Ct[nl];Tt&&Tt.setForRemoval&&(q.push(Ct),le.add(Ct),Tt.hasAnimation?this.driver.query(Ct,".ng-star-inserted",!0).forEach(mn=>le.add(mn)):De.add(Ct))}const Be=new Map,Ve=Z9(D,Array.from(le));Ve.forEach((pt,Ct)=>{const Tt=qM+G++;Be.set(Ct,Tt),pt.forEach(mn=>_a(mn,Tt))}),e.push(()=>{R.forEach((pt,Ct)=>{const Tt=B.get(Ct);pt.forEach(mn=>hv(mn,Tt))}),Ve.forEach((pt,Ct)=>{const Tt=Be.get(Ct);pt.forEach(mn=>hv(mn,Tt))}),q.forEach(pt=>{this.processLeaveNode(pt)})});const ft=[],wt=[];for(let pt=this._namespaceList.length-1;pt>=0;pt--)this._namespaceList[pt].drainQueuedTransitions(n).forEach(Tt=>{const mn=Tt.player,Br=Tt.element;if(ft.push(mn),this.collectedEnterElements.length){const Is=Br[nl];if(Is&&Is.setForMove){if(Is.previousTriggersValues&&Is.previousTriggersValues.has(Tt.triggerName)){const Im=Is.previousTriggersValues.get(Tt.triggerName),ya=this.statesByElement.get(Tt.element);if(ya&&ya.has(Tt.triggerName)){const hR=ya.get(Tt.triggerName);hR.value=Im,ya.set(Tt.triggerName,hR)}}return void mn.destroy()}}const Xl=!C||!this.driver.containsElement(C,Br),Vo=Be.get(Br),Nh=B.get(Br),wi=this._buildInstruction(Tt,i,Nh,Vo,Xl);if(wi.errors&&wi.errors.length)return void wt.push(wi);if(Xl)return mn.onStart(()=>bm(Br,wi.fromStyles)),mn.onDestroy(()=>Ql(Br,wi.toStyles)),void r.push(mn);if(Tt.isFallbackTransition)return mn.onStart(()=>bm(Br,wi.fromStyles)),mn.onDestroy(()=>Ql(Br,wi.toStyles)),void r.push(mn);const q7=[];wi.timelines.forEach(Is=>{Is.stretchStartingKeyframe=!0,this.disabledNodes.has(Is.element)||q7.push(Is)}),wi.timelines=q7,i.append(Br,wi.timelines),l.push({instruction:wi,player:mn,element:Br}),wi.queriedElements.forEach(Is=>Lo(h,Is,[]).push(mn)),wi.preStyleProps.forEach((Is,Im)=>{if(Is.size){let ya=p.get(Im);ya||p.set(Im,ya=new Set),Is.forEach((hR,dU)=>ya.add(dU))}}),wi.postStyleProps.forEach((Is,Im)=>{let ya=g.get(Im);ya||g.set(Im,ya=new Set),Is.forEach((hR,dU)=>ya.add(dU))})});if(wt.length){const pt=[];wt.forEach(Ct=>{pt.push(function mhe(t,e){return new u.vHH(3505,!1)}())}),ft.forEach(Ct=>Ct.destroy()),this.reportError(pt)}const Zt=new Map,ci=new Map;l.forEach(pt=>{const Ct=pt.element;i.has(Ct)&&(ci.set(Ct,Ct),this._beforeAnimationBuild(pt.player.namespaceId,pt.instruction,Zt))}),r.forEach(pt=>{const Ct=pt.element;this._getPreviousPlayers(Ct,!1,pt.namespaceId,pt.triggerName,null).forEach(mn=>{Lo(Zt,Ct,[]).push(mn),mn.destroy()})});const is=q.filter(pt=>X9(pt,p,g)),Cu=new Map;K9(Cu,this.driver,De,g,su).forEach(pt=>{X9(pt,p,g)&&is.push(pt)});const cC=new Map;R.forEach((pt,Ct)=>{K9(cC,this.driver,new Set(pt),p,"!")}),is.forEach(pt=>{const Ct=Cu.get(pt),Tt=cC.get(pt);Cu.set(pt,new Map([...Ct?.entries()??[],...Tt?.entries()??[]]))});const Cm=[],G7=[],W7={};l.forEach(pt=>{const{element:Ct,player:Tt,instruction:mn}=pt;if(i.has(Ct)){if(b.has(Ct))return Tt.onDestroy(()=>Ql(Ct,mn.toStyles)),Tt.disabled=!0,Tt.overrideTotalTime(mn.totalTime),void r.push(Tt);let Br=W7;if(ci.size>1){let Vo=Ct;const Nh=[];for(;Vo=Vo.parentNode;){const wi=ci.get(Vo);if(wi){Br=wi;break}Nh.push(Vo)}Nh.forEach(wi=>ci.set(wi,Br))}const Xl=this._buildAnimation(Tt.namespaceId,mn,Zt,s,cC,Cu);if(Tt.setRealPlayer(Xl),Br===W7)Cm.push(Tt);else{const Vo=this.playersByElement.get(Br);Vo&&Vo.length&&(Tt.parentPlayer=kh(Vo)),r.push(Tt)}}else bm(Ct,mn.fromStyles),Tt.onDestroy(()=>Ql(Ct,mn.toStyles)),G7.push(Tt),b.has(Ct)&&r.push(Tt)}),G7.forEach(pt=>{const Ct=s.get(pt.element);if(Ct&&Ct.length){const Tt=kh(Ct);pt.setRealPlayer(Tt)}}),r.forEach(pt=>{pt.parentPlayer?pt.syncPlayerEvents(pt.parentPlayer):pt.destroy()});for(let pt=0;pt<q.length;pt++){const Ct=q[pt],Tt=Ct[nl];if(hv(Ct,qM),Tt&&Tt.hasAnimation)continue;let mn=[];if(h.size){let Xl=h.get(Ct);Xl&&Xl.length&&mn.push(...Xl);let Vo=this.driver.query(Ct,UV,!0);for(let Nh=0;Nh<Vo.length;Nh++){let wi=h.get(Vo[Nh]);wi&&wi.length&&mn.push(...wi)}}const Br=mn.filter(Xl=>!Xl.destroyed);Br.length?pfe(this,Ct,Br):this.processLeaveNode(Ct)}return q.length=0,Cm.forEach(pt=>{this.players.push(pt),pt.onDone(()=>{pt.destroy();const Ct=this.players.indexOf(pt);this.players.splice(Ct,1)}),pt.play()}),Cm}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,i,r,s){let l=[];if(n){const h=this.playersByQueriedElement.get(e);h&&(l=h)}else{const h=this.playersByElement.get(e);if(h){const p=!s||s==sC;h.forEach(g=>{g.queued||!p&&g.triggerName!=r||l.push(g)})}}return(i||r)&&(l=l.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),l}_beforeAnimationBuild(e,n,i){const s=n.element,l=n.isRemovalTransition?void 0:e,h=n.isRemovalTransition?void 0:n.triggerName;for(const p of n.timelines){const g=p.element,b=g!==s,C=Lo(i,g,[]);this._getPreviousPlayers(g,b,l,h,n.toState).forEach(R=>{const B=R.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),R.destroy(),C.push(R)})}bm(s,n.fromStyles)}_buildAnimation(e,n,i,r,s,l){const h=n.triggerName,p=n.element,g=[],b=new Set,C=new Set,D=n.timelines.map(B=>{const G=B.element;b.add(G);const q=G[nl];if(q&&q.removedBeforeQueried)return new rx(B.duration,B.delay);const le=G!==p,De=function mfe(t){const e=[];return Q9(t,e),e}((i.get(G)||afe).map(Zt=>Zt.getRealPlayer())).filter(Zt=>!!Zt.element&&Zt.element===G),Be=s.get(G),Ve=l.get(G),ft=D9(this._normalizer,B.keyframes,Be,Ve),wt=this._buildPlayer(B,ft,De);if(B.subTimeline&&r&&C.add(G),le){const Zt=new eU(e,h,G);Zt.setRealPlayer(wt),g.push(Zt)}return wt});g.forEach(B=>{Lo(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function dfe(t,e,n){let i=t.get(e);if(i){if(i.length){const r=i.indexOf(n);i.splice(r,1)}0==i.length&&t.delete(e)}return i}(this.playersByQueriedElement,B.element,B))}),b.forEach(B=>_a(B,N9));const R=kh(D);return R.onDestroy(()=>{b.forEach(B=>hv(B,N9)),Ql(p,n.toStyles)}),C.forEach(B=>{Lo(r,B,[]).push(R)}),R}_buildPlayer(e,n,i){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,i):new rx(e.duration,e.delay)}}class eU{constructor(e,n,i){this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new rx,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,i)=>{n.forEach(r=>NV(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Lo(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function rR(t){return t&&1===t.nodeType}function Y9(t,e){const n=t.style.display;return t.style.display=e??"none",n}function K9(t,e,n,i,r){const s=[];n.forEach(p=>s.push(Y9(p)));const l=[];i.forEach((p,g)=>{const b=new Map;p.forEach(C=>{const D=e.computeStyle(g,C,r);b.set(C,D),(!D||0==D.length)&&(g[nl]=lfe,l.push(g))}),t.set(g,b)});let h=0;return n.forEach(p=>Y9(p,s[h++])),l}function Z9(t,e){const n=new Map;if(t.forEach(h=>n.set(h,[])),0==e.length)return n;const r=new Set(e),s=new Map;function l(h){if(!h)return 1;let p=s.get(h);if(p)return p;const g=h.parentNode;return p=n.has(g)?g:r.has(g)?1:l(g),s.set(h,p),p}return e.forEach(h=>{const p=l(h);1!==p&&n.get(p).push(h)}),n}function _a(t,e){t.classList?.add(e)}function hv(t,e){t.classList?.remove(e)}function pfe(t,e,n){kh(n).onDone(()=>t.processLeaveNode(e))}function Q9(t,e){for(let n=0;n<t.length;n++){const i=t[n];i instanceof bH?Q9(i.players,e):e.push(i)}}function X9(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(s=>r.add(s)):e.set(t,i),n.delete(t),!0}class sR{constructor(e,n,i){this.bodyNode=e,this._driver=n,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new ufe(e,n,i),this._timelineEngine=new nfe(e,n,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(e,n,i,r,s){const l=e+"-"+r;let h=this._triggerCache[l];if(!h){const p=[],b=$V(this._driver,s,p,[]);if(p.length)throw function rhe(t,e){return new u.vHH(3404,!1)}();h=function Xhe(t,e,n){return new Jhe(t,e,n)}(r,b,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(n,r,h)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,i,r){this._transitionEngine.insertNode(e,n,i,r)}onRemove(e,n,i){this._transitionEngine.removeNode(e,n,i)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,i,r){if("@"==i.charAt(0)){const[s,l]=A9(i);this._timelineEngine.command(s,n,l,r)}else this._transitionEngine.trigger(e,n,i,r)}listen(e,n,i,r,s){if("@"==i.charAt(0)){const[l,h]=A9(i);return this._timelineEngine.listen(l,n,h,s)}return this._transitionEngine.listen(e,n,i,r,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let yfe=(()=>{class e{constructor(i,r,s){this._element=i,this._startStyles=r,this._endStyles=s,this._state=0;let l=e.initialStylesByElement.get(i);l||e.initialStylesByElement.set(i,l=new Map),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Ql(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ql(this._element,this._initialStyles),this._endStyles&&(Ql(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(bm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bm(this._element,this._endStyles),this._endStyles=null),Ql(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function tU(t){let e=null;return t.forEach((n,i)=>{(function vfe(t){return"display"===t||"position"===t})(i)&&(e=e||new Map,e.set(i,n))}),e}class J9{constructor(e,n,i,r){this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(i=>{n.push(Object.fromEntries(i))}),n}_triggerWebAnimation(e,n,i){return e.animate(this._convertKeyframesToObject(n),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:B9(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(i=>i()),n.length=0}}class bfe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return M9(e,n)}getParentElement(e){return LV(e)}query(e,n,i){return R9(e,n,i)}computeStyle(e,n,i){return window.getComputedStyle(e)[n]}animate(e,n,i,r,s,l=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const g=new Map,b=l.filter(R=>R instanceof J9);(function Dhe(t,e){return 0===t||0===e})(i,r)&&b.forEach(R=>{R.currentSnapshot.forEach((B,G)=>g.set(G,B))});let C=function Che(t){return t.length?t[0]instanceof Map?t:t.map(e=>P9(e)):[]}(n).map(R=>Oh(R));C=function Ahe(t,e,n){if(n.size&&e.length){let i=e[0],r=[];if(n.forEach((s,l)=>{i.has(l)||r.push(l),i.set(l,s)}),r.length)for(let s=1;s<e.length;s++){let l=e[s];r.forEach(h=>l.set(h,B9(t,h)))}}return e}(e,C,g);const D=function _fe(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=tU(e[0]),e.length>1&&(i=tU(e[e.length-1]))):e instanceof Map&&(n=tU(e)),n||i?new yfe(t,n,i):null}(e,C);return new J9(e,C,p,D)}}let wfe=(()=>{var t;class e extends _H{constructor(i,r){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(r.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(i){const r=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(i)?vH(i):i;return e7(this._renderer,null,r,"register",[s]),new xfe(r,this._renderer)}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(u.FYo),u.LFG(ne))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();class xfe extends cK{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new Efe(this._id,e,n||{},this._renderer)}}class Efe{constructor(e,n,i,r){this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return e7(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function e7(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}const t7="@.disabled";let Cfe=(()=>{var t;class e{constructor(i,r,s){this.delegate=i,this.engine=r,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(l,h)=>{const p=h?.parentNode(l);p&&h.removeChild(p,l)}}createRenderer(i,r){const l=this.delegate.createRenderer(i,r);if(!(i&&r&&r.data&&r.data.animation)){let C=this._rendererCache.get(l);return C||(C=new n7("",l,this.engine,()=>this._rendererCache.delete(l)),this._rendererCache.set(l,C)),C}const h=r.id,p=r.id+"-"+this._currentId;this._currentId++,this.engine.register(p,i);const g=C=>{Array.isArray(C)?C.forEach(g):this.engine.registerTrigger(h,p,i,C.name,C)};return r.data.animation.forEach(g),new Ife(this,p,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(i,r,s){i>=0&&i<this._microtaskId?this._zone.run(()=>r(s)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,p]=l;h(p)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(u.FYo),u.LFG(sR),u.LFG(u.R0b))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();class n7{constructor(e,n,i,r){this.namespaceId=e,this.delegate=n,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,i,r=!0){this.delegate.insertBefore(e,n,i),this.engine.onInsert(this.namespaceId,n,e,r)}removeChild(e,n,i){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,i,r){this.delegate.setAttribute(e,n,i,r)}removeAttribute(e,n,i){this.delegate.removeAttribute(e,n,i)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,i,r){this.delegate.setStyle(e,n,i,r)}removeStyle(e,n,i){this.delegate.removeStyle(e,n,i)}setProperty(e,n,i){"@"==n.charAt(0)&&n==t7?this.disableAnimations(e,!!i):this.delegate.setProperty(e,n,i)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,i){return this.delegate.listen(e,n,i)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class Ife extends n7{constructor(e,n,i,r,s){super(n,i,r,s),this.factory=e,this.namespaceId=n}setProperty(e,n,i){"@"==n.charAt(0)?"."==n.charAt(1)&&n==t7?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,n.slice(1),i):this.delegate.setProperty(e,n,i)}listen(e,n,i){if("@"==n.charAt(0)){const r=function Sfe(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let s=n.slice(1),l="";return"@"!=s.charAt(0)&&([s,l]=function Dfe(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,r,s,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,n,i)}}let Afe=(()=>{var t;class e extends sR{constructor(i,r,s,l){super(i.body,r,s)}ngOnDestroy(){this.flush()}}return(t=e).\u0275fac=function(i){return new(i||t)(u.LFG(ne),u.LFG(BV),u.LFG(KV),u.LFG(u.z2F))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac}),e})();const i7=[{provide:_H,useClass:wfe},{provide:KV,useFactory:function Tfe(){return new Yhe}},{provide:sR,useClass:Afe},{provide:u.FYo,useFactory:function Mfe(t,e,n){return new Cfe(t,e,n)},deps:[dc,sR,u.R0b]}],nU=[{provide:BV,useFactory:()=>new bfe},{provide:u.QbO,useValue:"BrowserAnimations"},...i7],r7=[{provide:BV,useClass:k9},{provide:u.QbO,useValue:"NoopAnimations"},...i7];let Rfe=(()=>{var t;class e{static withConfig(i){return{ngModule:e,providers:i.disableAnimations?r7:nU}}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:nU,imports:[pl]}),e})();const Pfe={provide:u.tb,useFactory:function Nfe(t,e){return()=>{if($s(e)){const n=Array.from(t.querySelectorAll(`[class*=${l7}]`)),i=/\bflex-layout-.+?\b/g;n.forEach(r=>{r.classList.contains(`${l7}ssr`)&&r.parentNode?r.parentNode.removeChild(r):r.className.replace(i,"")})}}},deps:[ne,u.Lbi],multi:!0},l7="flex-layout-";let rU=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[Pfe]}),t})();const sU={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[],multiplier:void 0,defaultUnit:"px",detectLayoutDisplay:!1},il=new u.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>sU}),fv=new u.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),oU=new u.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});EventTarget;let D7=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[rU]}),t})(),R7=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[rU,te]}),t})(),V7=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[rU]}),t})(),Wge=(()=>{class t{constructor(n,i){hi(i)&&!n&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(n,i=[]){return{ngModule:t,providers:n.serverLoaded?[{provide:il,useValue:{...sU,...n}},{provide:oU,useValue:i,multi:!0},{provide:fv,useValue:!0}]:[{provide:il,useValue:{...sU,...n}},{provide:oU,useValue:i,multi:!0}]}}}return t.\u0275fac=function(n){return new(n||t)(u.LFG(fv),u.LFG(u.Lbi))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[R7,D7,V7,R7,D7,V7]}),t})(),Jge=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[Xi,Mn,Xi]}),e})(),s_e=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[Xi,Xi]}),e})(),o_e=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({imports:[Xi,Xi]}),e})(),a_e=(()=>{var t;class e{constructor(){}intercept(i,r){if("True"===i.headers.get("No-Auth"))return r.handle(i);const s=localStorage.getItem("token").replace(/"/g,""),l=this.addToken(i,s);return r.handle(l).pipe(ls(h=>(console.log(h),Ko("Wrong"))))}addToken(i,r){return i.clone({headers:i.headers.append("Authorization","Bearer "+r)})}}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),l_e=(()=>{var t;class e{}return(t=e).\u0275fac=function(i){return new(i||t)},t.\u0275mod=u.oAB({type:t,bootstrap:[tre]}),t.\u0275inj=u.cJS({providers:[fW,P2,{provide:Mo.Dh,useValue:lW.firebase},{provide:Ow,useClass:a_e,multi:!0}],imports:[jH,jie,O2,Zne,Qie,Jge,s_e,o_e,gH,Wge,pl,Jie,Bw,FS(()=>LS(lW.firebase)),Dre(()=>sre()),f1(()=>g1()),Jae(()=>ele()),ale(()=>lle()),mce(()=>gce()),que(()=>Yue()),vde(()=>bde()),Dde(()=>Ade()),Pde(()=>Fde()),Rfe]}),e})();Gm().bootstrapModule(l_e).catch(t=>console.error(t))},9402:function(dt){dt.exports=function(Ee){function P(V){if(u[V])return u[V].exports;var L=u[V]={exports:{},id:V,loaded:!1};return Ee[V].call(L.exports,L,L.exports,P),L.loaded=!0,L.exports}var u={};return P.m=Ee,P.c=u,P.p="dist/",P(0)}([function(Ee,P,u){"use strict";function V(Pe){return Pe&&Pe.__esModule?Pe:{default:Pe}}var L=Object.assign||function(Pe){for(var st=1;st<arguments.length;st++){var Et=arguments[st];for(var Sn in Et)Object.prototype.hasOwnProperty.call(Et,Sn)&&(Pe[Sn]=Et[Sn])}return Pe},ye=(V(u(1)),u(6)),ne=V(ye),Ce=V(u(7)),j=V(u(8)),re=V(u(9)),Le=V(u(10)),Te=V(u(11)),Ue=V(u(14)),tt=[],ct=!1,J={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},ve=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&(ct=!0),ct)return tt=(0,Te.default)(tt,J),(0,Le.default)(tt,J.once),tt},ae=function(){tt=(0,Ue.default)(),ve()};Ee.exports={init:function(Pe){J=L(J,Pe),tt=(0,Ue.default)();var st=document.all&&!window.atob;return function(Pe){return!0===Pe||"mobile"===Pe&&re.default.mobile()||"phone"===Pe&&re.default.phone()||"tablet"===Pe&&re.default.tablet()||"function"==typeof Pe&&!0===Pe()}(J.disable)||st?void tt.forEach(function(Pe,st){Pe.node.removeAttribute("data-aos"),Pe.node.removeAttribute("data-aos-easing"),Pe.node.removeAttribute("data-aos-duration"),Pe.node.removeAttribute("data-aos-delay")}):(J.disableMutationObserver||j.default.isSupported()||(console.info('\n      aos: MutationObserver is not supported on this browser,\n      code mutations observing has been disabled.\n      You may have to call "refreshHard()" by yourself.\n    '),J.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",J.easing),document.querySelector("body").setAttribute("data-aos-duration",J.duration),document.querySelector("body").setAttribute("data-aos-delay",J.delay),"DOMContentLoaded"===J.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?ve(!0):"load"===J.startEvent?window.addEventListener(J.startEvent,function(){ve(!0)}):document.addEventListener(J.startEvent,function(){ve(!0)}),window.addEventListener("resize",(0,Ce.default)(ve,J.debounceDelay,!0)),window.addEventListener("orientationchange",(0,Ce.default)(ve,J.debounceDelay,!0)),window.addEventListener("scroll",(0,ne.default)(function(){(0,Le.default)(tt,J.once)},J.throttleDelay)),J.disableMutationObserver||j.default.ready("[data-aos]",ae),tt)},refresh:ve,refreshHard:ae}},function(Ee,P){},,,,,function(Ee,P){(function(u){"use strict";function V(he,K,Pe){function st(it){var Mt=fe,cn=be;return fe=be=void 0,He=it,_e=he.apply(cn,Mt)}function ui(it){var Mt=it-qe;return void 0===qe||Mt>=K||Mt<0||ut&&it-He>=ce}function ki(){var it=se();return ui(it)?gn(it):void(Ae=setTimeout(ki,function Sn(it){var Dn=K-(it-qe);return ut?ae(Dn,ce-(it-He)):Dn}(it)))}function gn(it){return Ae=void 0,mt&&fe?st(it):(fe=be=void 0,_e)}function de(){var it=se(),Mt=ui(it);if(fe=arguments,be=this,qe=it,Mt){if(void 0===Ae)return function Et(it){return He=it,Ae=setTimeout(ki,K),$t?st(it):_e}(qe);if(ut)return Ae=setTimeout(ki,K),st(qe)}return void 0===Ae&&(Ae=setTimeout(ki,K)),_e}var fe,be,ce,_e,Ae,qe,He=0,$t=!1,ut=!1,mt=!0;if("function"!=typeof he)throw new TypeError(we);return K=Se(K)||0,ie(Pe)&&($t=!!Pe.leading,ce=(ut="maxWait"in Pe)?ve(Se(Pe.maxWait)||0,K):ce,mt="trailing"in Pe?!!Pe.trailing:mt),de.cancel=function zi(){void 0!==Ae&&clearTimeout(Ae),He=0,fe=qe=be=Ae=void 0},de.flush=function br(){return void 0===Ae?_e:gn(se())},de}function ie(he){var K=typeof he>"u"?"undefined":Ce(he);return!!he&&("object"==K||"function"==K)}function ne(he){return"symbol"==(typeof he>"u"?"undefined":Ce(he))||function ye(he){return!!he&&"object"==(typeof he>"u"?"undefined":Ce(he))}(he)&&J.call(he)==z}function Se(he){if("number"==typeof he)return he;if(ne(he))return j;if(ie(he)){var K="function"==typeof he.valueOf?he.valueOf():he;he=ie(K)?K+"":K}if("string"!=typeof he)return 0===he?he:+he;he=he.replace(re,"");var Pe=Le.test(he);return Pe||et.test(he)?Te(he.slice(2),Pe?2:8):Re.test(he)?j:+he}var Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(he){return typeof he}:function(he){return he&&"function"==typeof Symbol&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},we="Expected a function",j=NaN,z="[object Symbol]",re=/^\s+|\s+$/g,Re=/^[-+]0x[0-9a-f]+$/i,Le=/^0b[01]+$/i,et=/^0o[0-7]+$/i,Te=parseInt,Ne="object"==(typeof u>"u"?"undefined":Ce(u))&&u&&u.Object===Object&&u,Ue="object"==(typeof self>"u"?"undefined":Ce(self))&&self&&self.Object===Object&&self,tt=Ne||Ue||Function("return this")(),J=Object.prototype.toString,ve=Math.max,ae=Math.min,se=function(){return tt.Date.now()};Ee.exports=function L(he,K,Pe){var st=!0,Et=!0;if("function"!=typeof he)throw new TypeError(we);return ie(Pe)&&(st="leading"in Pe?!!Pe.leading:st,Et="trailing"in Pe?!!Pe.trailing:Et),V(he,K,{leading:st,maxWait:K,trailing:Et})}}).call(P,function(){return this}())},function(Ee,P){(function(u){"use strict";function L(se){var he=typeof se>"u"?"undefined":Se(se);return!!se&&("object"==he||"function"==he)}function ye(se){return"symbol"==(typeof se>"u"?"undefined":Se(se))||function ie(se){return!!se&&"object"==(typeof se>"u"?"undefined":Se(se))}(se)&&ct.call(se)==j}function ne(se){if("number"==typeof se)return se;if(ye(se))return we;if(L(se)){var he="function"==typeof se.valueOf?se.valueOf():se;se=L(he)?he+"":he}if("string"!=typeof se)return 0===se?se:+se;se=se.replace(z,"");var K=Re.test(se);return K||Le.test(se)?et(se.slice(2),K?2:8):re.test(se)?we:+se}var Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(se){return typeof se}:function(se){return se&&"function"==typeof Symbol&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},Ce="Expected a function",we=NaN,j="[object Symbol]",z=/^\s+|\s+$/g,re=/^[-+]0x[0-9a-f]+$/i,Re=/^0b[01]+$/i,Le=/^0o[0-7]+$/i,et=parseInt,Te="object"==(typeof u>"u"?"undefined":Se(u))&&u&&u.Object===Object&&u,Ne="object"==(typeof self>"u"?"undefined":Se(self))&&self&&self.Object===Object&&self,Ue=Te||Ne||Function("return this")(),ct=Object.prototype.toString,J=Math.max,ve=Math.min,ae=function(){return Ue.Date.now()};Ee.exports=function V(se,he,K){function Pe(mt){var it=de,Mt=fe;return de=fe=void 0,qe=mt,ce=se.apply(Mt,it)}function Sn(mt){var it=mt-Ae;return void 0===Ae||it>=he||it<0||$t&&mt-qe>=be}function ui(){var mt=ae();return Sn(mt)?ki(mt):void(_e=setTimeout(ui,function Et(mt){var cn=he-(mt-Ae);return $t?ve(cn,be-(mt-qe)):cn}(mt)))}function ki(mt){return _e=void 0,ut&&de?Pe(mt):(de=fe=void 0,ce)}function br(){var mt=ae(),it=Sn(mt);if(de=arguments,fe=this,Ae=mt,it){if(void 0===_e)return function st(mt){return qe=mt,_e=setTimeout(ui,he),He?Pe(mt):ce}(Ae);if($t)return _e=setTimeout(ui,he),Pe(Ae)}return void 0===_e&&(_e=setTimeout(ui,he)),ce}var de,fe,be,ce,_e,Ae,qe=0,He=!1,$t=!1,ut=!0;if("function"!=typeof se)throw new TypeError(Ce);return he=ne(he)||0,L(K)&&(He=!!K.leading,be=($t="maxWait"in K)?J(ne(K.maxWait)||0,he):be,ut="trailing"in K?!!K.trailing:ut),br.cancel=function gn(){void 0!==_e&&clearTimeout(_e),qe=0,de=Ae=fe=_e=void 0},br.flush=function zi(){return void 0===_e?ce:ki(ae())},br}}).call(P,function(){return this}())},function(Ee,P){"use strict";function u(Se){var Ce=void 0,we=void 0;for(Ce=0;Ce<Se.length;Ce+=1)if((we=Se[Ce]).dataset&&we.dataset.aos||we.children&&u(we.children))return!0;return!1}function V(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function ye(Se){Se&&Se.forEach(function(Ce){var we=Array.prototype.slice.call(Ce.addedNodes),j=Array.prototype.slice.call(Ce.removedNodes);if(u(we.concat(j)))return ne()})}Object.defineProperty(P,"__esModule",{value:!0});var ne=function(){};P.default={isSupported:function L(){return!!V()},ready:function ie(Se,Ce){var we=window.document,z=new(V())(ye);ne=Ce,z.observe(we.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}}},function(Ee,P){"use strict";function V(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(P,"__esModule",{value:!0});var L=function(){function we(j,z){for(var re=0;re<z.length;re++){var Re=z[re];Re.enumerable=Re.enumerable||!1,Re.configurable=!0,"value"in Re&&(Re.writable=!0),Object.defineProperty(j,Re.key,Re)}}return function(j,z,re){return z&&we(j.prototype,z),re&&we(j,re),j}}(),ie=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,ye=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,ne=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,Se=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,Ce=function(){function we(){!function u(we,j){if(!(we instanceof j))throw new TypeError("Cannot call a class as a function")}(this,we)}return L(we,[{key:"phone",value:function(){var j=V();return!(!ie.test(j)&&!ye.test(j.substr(0,4)))}},{key:"mobile",value:function(){var j=V();return!(!ne.test(j)&&!Se.test(j.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),we}();P.default=new Ce},function(Ee,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.default=function(L,ie){var ye=window.pageYOffset,ne=window.innerHeight;L.forEach(function(Se,Ce){!function(L,ie,ye){var ne=L.node.getAttribute("data-aos-once");ie>L.position?L.node.classList.add("aos-animate"):typeof ne<"u"&&("false"===ne||!ye&&"true"!==ne)&&L.node.classList.remove("aos-animate")}(Se,ne+ye,ie)})}},function(Ee,P,u){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var ie=function V(ne){return ne&&ne.__esModule?ne:{default:ne}}(u(12));P.default=function(ne,Se){return ne.forEach(function(Ce,we){Ce.node.classList.add("aos-init"),Ce.position=(0,ie.default)(Ce.node,Se.offset)}),ne}},function(Ee,P,u){"use strict";Object.defineProperty(P,"__esModule",{value:!0});var ie=function V(ne){return ne&&ne.__esModule?ne:{default:ne}}(u(13));P.default=function(ne,Se){var Ce=0,we=0,j=window.innerHeight,z={offset:ne.getAttribute("data-aos-offset"),anchor:ne.getAttribute("data-aos-anchor"),anchorPlacement:ne.getAttribute("data-aos-anchor-placement")};switch(z.offset&&!isNaN(z.offset)&&(we=parseInt(z.offset)),z.anchor&&document.querySelectorAll(z.anchor)&&(ne=document.querySelectorAll(z.anchor)[0]),Ce=(0,ie.default)(ne).top,z.anchorPlacement){case"top-bottom":break;case"center-bottom":Ce+=ne.offsetHeight/2;break;case"bottom-bottom":Ce+=ne.offsetHeight;break;case"top-center":Ce+=j/2;break;case"bottom-center":Ce+=j/2+ne.offsetHeight;break;case"center-center":Ce+=j/2+ne.offsetHeight/2;break;case"top-top":Ce+=j;break;case"bottom-top":Ce+=ne.offsetHeight+j;break;case"center-top":Ce+=ne.offsetHeight/2+j}return z.anchorPlacement||z.offset||isNaN(Se)||(we=Se),Ce+we}},function(Ee,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.default=function(V){for(var L=0,ie=0;V&&!isNaN(V.offsetLeft)&&!isNaN(V.offsetTop);)L+=V.offsetLeft-("BODY"!=V.tagName?V.scrollLeft:0),ie+=V.offsetTop-("BODY"!=V.tagName?V.scrollTop:0),V=V.offsetParent;return{top:ie,left:L}}},function(Ee,P){"use strict";Object.defineProperty(P,"__esModule",{value:!0}),P.default=function(V){return V=V||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(V,function(L){return{node:L}})}}])},5619:(dt,Ee,P)=>{"use strict";P.d(Ee,{X:()=>V});var u=P(8645);class V extends u.x{constructor(ie){super(),this._value=ie}get value(){return this.getValue()}_subscribe(ie){const ye=super._subscribe(ie);return!ye.closed&&ie.next(this._value),ye}getValue(){const{hasError:ie,thrownError:ye,_value:ne}=this;if(ie)throw ye;return this._throwIfClosed(),ne}next(ie){super.next(this._value=ie)}}},5592:(dt,Ee,P)=>{"use strict";P.d(Ee,{y:()=>Ce});var u=P(305),V=P(7394),L=P(4850),ie=P(8407),ye=P(2653),ne=P(4674),Se=P(1441);let Ce=(()=>{class re{constructor(Le){Le&&(this._subscribe=Le)}lift(Le){const et=new re;return et.source=this,et.operator=Le,et}subscribe(Le,et,Te){const Ne=function z(re){return re&&re instanceof u.Lv||function j(re){return re&&(0,ne.m)(re.next)&&(0,ne.m)(re.error)&&(0,ne.m)(re.complete)}(re)&&(0,V.Nn)(re)}(Le)?Le:new u.Hp(Le,et,Te);return(0,Se.x)(()=>{const{operator:Ue,source:tt}=this;Ne.add(Ue?Ue.call(Ne,tt):tt?this._subscribe(Ne):this._trySubscribe(Ne))}),Ne}_trySubscribe(Le){try{return this._subscribe(Le)}catch(et){Le.error(et)}}forEach(Le,et){return new(et=we(et))((Te,Ne)=>{const Ue=new u.Hp({next:tt=>{try{Le(tt)}catch(ct){Ne(ct),Ue.unsubscribe()}},error:Ne,complete:Te});this.subscribe(Ue)})}_subscribe(Le){var et;return null===(et=this.source)||void 0===et?void 0:et.subscribe(Le)}[L.L](){return this}pipe(...Le){return(0,ie.U)(Le)(this)}toPromise(Le){return new(Le=we(Le))((et,Te)=>{let Ne;this.subscribe(Ue=>Ne=Ue,Ue=>Te(Ue),()=>et(Ne))})}}return re.create=Re=>new re(Re),re})();function we(re){var Re;return null!==(Re=re??ye.config.Promise)&&void 0!==Re?Re:Promise}},8645:(dt,Ee,P)=>{"use strict";P.d(Ee,{x:()=>Se});var u=P(5592),V=P(7394);const ie=(0,P(2306).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ye=P(9039),ne=P(1441);let Se=(()=>{class we extends u.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const re=new Ce(this,this);return re.operator=z,re}_throwIfClosed(){if(this.closed)throw new ie}next(z){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const re of this.currentObservers)re.next(z)}})}error(z){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:re}=this;for(;re.length;)re.shift().error(z)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:re,isStopped:Re,observers:Le}=this;return re||Re?V.Lc:(this.currentObservers=null,Le.push(z),new V.w0(()=>{this.currentObservers=null,(0,ye.P)(Le,z)}))}_checkFinalizedStatuses(z){const{hasError:re,thrownError:Re,isStopped:Le}=this;re?z.error(Re):Le&&z.complete()}asObservable(){const z=new u.y;return z.source=this,z}}return we.create=(j,z)=>new Ce(j,z),we})();class Ce extends Se{constructor(j,z){super(),this.destination=j,this.source=z}next(j){var z,re;null===(re=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===re||re.call(z,j)}error(j){var z,re;null===(re=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===re||re.call(z,j)}complete(){var j,z;null===(z=null===(j=this.destination)||void 0===j?void 0:j.complete)||void 0===z||z.call(j)}_subscribe(j){var z,re;return null!==(re=null===(z=this.source)||void 0===z?void 0:z.subscribe(j))&&void 0!==re?re:V.Lc}}},305:(dt,Ee,P)=>{"use strict";P.d(Ee,{Hp:()=>Te,Lv:()=>re});var u=P(4674),V=P(7394),L=P(2653),ie=P(3894),ye=P(2420);const ne=we("C",void 0,void 0);function we(J,ve,ae){return{kind:J,value:ve,error:ae}}var j=P(7599),z=P(1441);class re extends V.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,V.Nn)(ve)&&ve.add(this)):this.destination=ct}static create(ve,ae,se){return new Te(ve,ae,se)}next(ve){this.isStopped?tt(function Ce(J){return we("N",J,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?tt(function Se(J){return we("E",void 0,J)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?tt(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Re=Function.prototype.bind;function Le(J,ve){return Re.call(J,ve)}class et{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:ae}=this;if(ae.next)try{ae.next(ve)}catch(se){Ne(se)}}error(ve){const{partialObserver:ae}=this;if(ae.error)try{ae.error(ve)}catch(se){Ne(se)}else Ne(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(ae){Ne(ae)}}}class Te extends re{constructor(ve,ae,se){let he;if(super(),(0,u.m)(ve)||!ve)he={next:ve??void 0,error:ae??void 0,complete:se??void 0};else{let K;this&&L.config.useDeprecatedNextContext?(K=Object.create(ve),K.unsubscribe=()=>this.unsubscribe(),he={next:ve.next&&Le(ve.next,K),error:ve.error&&Le(ve.error,K),complete:ve.complete&&Le(ve.complete,K)}):he=ve}this.destination=new et(he)}}function Ne(J){L.config.useDeprecatedSynchronousErrorHandling?(0,z.O)(J):(0,ie.h)(J)}function tt(J,ve){const{onStoppedNotification:ae}=L.config;ae&&j.z.setTimeout(()=>ae(J,ve))}const ct={closed:!0,next:ye.Z,error:function Ue(J){throw J},complete:ye.Z}},7394:(dt,Ee,P)=>{"use strict";P.d(Ee,{Lc:()=>ne,w0:()=>ye,Nn:()=>Se});var u=P(4674);const L=(0,P(2306).d)(we=>function(z){we(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((re,Re)=>`${Re+1}) ${re.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ie=P(9039);class ye{constructor(j){this.initialTeardown=j,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let j;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Le of z)Le.remove(this);else z.remove(this);const{initialTeardown:re}=this;if((0,u.m)(re))try{re()}catch(Le){j=Le instanceof L?Le.errors:[Le]}const{_finalizers:Re}=this;if(Re){this._finalizers=null;for(const Le of Re)try{Ce(Le)}catch(et){j=j??[],et instanceof L?j=[...j,...et.errors]:j.push(et)}}if(j)throw new L(j)}}add(j){var z;if(j&&j!==this)if(this.closed)Ce(j);else{if(j instanceof ye){if(j.closed||j._hasParent(this))return;j._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(j)}}_hasParent(j){const{_parentage:z}=this;return z===j||Array.isArray(z)&&z.includes(j)}_addParent(j){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(j),z):z?[z,j]:j}_removeParent(j){const{_parentage:z}=this;z===j?this._parentage=null:Array.isArray(z)&&(0,ie.P)(z,j)}remove(j){const{_finalizers:z}=this;z&&(0,ie.P)(z,j),j instanceof ye&&j._removeParent(this)}}ye.EMPTY=(()=>{const we=new ye;return we.closed=!0,we})();const ne=ye.EMPTY;function Se(we){return we instanceof ye||we&&"closed"in we&&(0,u.m)(we.remove)&&(0,u.m)(we.add)&&(0,u.m)(we.unsubscribe)}function Ce(we){(0,u.m)(we)?we():we.unsubscribe()}},2653:(dt,Ee,P)=>{"use strict";P.d(Ee,{config:()=>u});const u={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(dt,Ee,P)=>{"use strict";P.d(Ee,{E:()=>V});const V=new(P(5592).y)(ye=>ye.complete())},2459:(dt,Ee,P)=>{"use strict";P.d(Ee,{D:()=>ve});var u=P(4829),V=P(3093),L=P(5137),ne=P(5592),Ce=P(4971),we=P(4674),j=P(7103);function re(ae,se){if(!ae)throw new Error("Iterable cannot be null");return new ne.y(he=>{(0,j.f)(he,se,()=>{const K=ae[Symbol.asyncIterator]();(0,j.f)(he,se,()=>{K.next().then(Pe=>{Pe.done?he.complete():he.next(Pe.value)})},0,!0)})})}var Re=P(8382),Le=P(4026),et=P(4266),Te=P(3664),Ne=P(5726),Ue=P(9853),tt=P(541);function ve(ae,se){return se?function J(ae,se){if(null!=ae){if((0,Re.c)(ae))return function ie(ae,se){return(0,u.Xf)(ae).pipe((0,L.R)(se),(0,V.Q)(se))}(ae,se);if((0,et.z)(ae))return function Se(ae,se){return new ne.y(he=>{let K=0;return se.schedule(function(){K===ae.length?he.complete():(he.next(ae[K++]),he.closed||this.schedule())})})}(ae,se);if((0,Le.t)(ae))return function ye(ae,se){return(0,u.Xf)(ae).pipe((0,L.R)(se),(0,V.Q)(se))}(ae,se);if((0,Ne.D)(ae))return re(ae,se);if((0,Te.T)(ae))return function z(ae,se){return new ne.y(he=>{let K;return(0,j.f)(he,se,()=>{K=ae[Ce.h](),(0,j.f)(he,se,()=>{let Pe,st;try{({value:Pe,done:st}=K.next())}catch(Et){return void he.error(Et)}st?he.complete():he.next(Pe)},0,!0)}),()=>(0,we.m)(K?.return)&&K.return()})}(ae,se);if((0,tt.L)(ae))return function ct(ae,se){return re((0,tt.Q)(ae),se)}(ae,se)}throw(0,Ue.z)(ae)}(ae,se):(0,u.Xf)(ae)}},4829:(dt,Ee,P)=>{"use strict";P.d(Ee,{Xf:()=>Re});var u=P(7582),V=P(4266),L=P(4026),ie=P(5592),ye=P(8382),ne=P(5726),Se=P(9853),Ce=P(3664),we=P(541),j=P(4674),z=P(3894),re=P(4850);function Re(J){if(J instanceof ie.y)return J;if(null!=J){if((0,ye.c)(J))return function Le(J){return new ie.y(ve=>{const ae=J[re.L]();if((0,j.m)(ae.subscribe))return ae.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(J);if((0,V.z)(J))return function et(J){return new ie.y(ve=>{for(let ae=0;ae<J.length&&!ve.closed;ae++)ve.next(J[ae]);ve.complete()})}(J);if((0,L.t)(J))return function Te(J){return new ie.y(ve=>{J.then(ae=>{ve.closed||(ve.next(ae),ve.complete())},ae=>ve.error(ae)).then(null,z.h)})}(J);if((0,ne.D)(J))return Ue(J);if((0,Ce.T)(J))return function Ne(J){return new ie.y(ve=>{for(const ae of J)if(ve.next(ae),ve.closed)return;ve.complete()})}(J);if((0,we.L)(J))return function tt(J){return Ue((0,we.Q)(J))}(J)}throw(0,Se.z)(J)}function Ue(J){return new ie.y(ve=>{(function ct(J,ve){var ae,se,he,K;return(0,u.mG)(this,void 0,void 0,function*(){try{for(ae=(0,u.KL)(J);!(se=yield ae.next()).done;)if(ve.next(se.value),ve.closed)return}catch(Pe){he={error:Pe}}finally{try{se&&!se.done&&(K=ae.return)&&(yield K.call(ae))}finally{if(he)throw he.error}}ve.complete()})})(J,ve).catch(ae=>ve.error(ae))})}},3019:(dt,Ee,P)=>{"use strict";P.d(Ee,{T:()=>ne});var u=P(7537),V=P(4829),L=P(6232),ie=P(9940),ye=P(2459);function ne(...Se){const Ce=(0,ie.yG)(Se),we=(0,ie._6)(Se,1/0),j=Se;return j.length?1===j.length?(0,V.Xf)(j[0]):(0,u.J)(we)((0,ye.D)(j,Ce)):L.E}},2096:(dt,Ee,P)=>{"use strict";P.d(Ee,{of:()=>L});var u=P(9940),V=P(2459);function L(...ie){const ye=(0,u.yG)(ie);return(0,V.D)(ie,ye)}},8251:(dt,Ee,P)=>{"use strict";P.d(Ee,{Q:()=>L,x:()=>V});var u=P(305);function V(ie,ye,ne,Se,Ce){return new L(ie,ye,ne,Se,Ce)}class L extends u.Lv{constructor(ye,ne,Se,Ce,we,j){super(ye),this.onFinalize=we,this.shouldUnsubscribe=j,this._next=ne?function(z){try{ne(z)}catch(re){ye.error(re)}}:super._next,this._error=Ce?function(z){try{Ce(z)}catch(re){ye.error(re)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(z){ye.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ye;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(ye=this.onFinalize)||void 0===ye||ye.call(this))}}}},3997:(dt,Ee,P)=>{"use strict";P.d(Ee,{x:()=>ie});var u=P(2737),V=P(9360),L=P(8251);function ie(ne,Se=u.y){return ne=ne??ye,(0,V.e)((Ce,we)=>{let j,z=!0;Ce.subscribe((0,L.x)(we,re=>{const Re=Se(re);(z||!ne(j,Re))&&(z=!1,j=Re,we.next(re))}))})}function ye(ne,Se){return ne===Se}},7398:(dt,Ee,P)=>{"use strict";P.d(Ee,{U:()=>L});var u=P(9360),V=P(8251);function L(ie,ye){return(0,u.e)((ne,Se)=>{let Ce=0;ne.subscribe((0,V.x)(Se,we=>{Se.next(ie.call(ye,we,Ce++))}))})}},7537:(dt,Ee,P)=>{"use strict";P.d(Ee,{J:()=>L});var u=P(1631),V=P(2737);function L(ie=1/0){return(0,u.z)(V.y,ie)}},1631:(dt,Ee,P)=>{"use strict";P.d(Ee,{z:()=>Ce});var u=P(7398),V=P(4829),L=P(9360),ie=P(7103),ye=P(8251),Se=P(4674);function Ce(we,j,z=1/0){return(0,Se.m)(j)?Ce((re,Re)=>(0,u.U)((Le,et)=>j(re,Le,Re,et))((0,V.Xf)(we(re,Re))),z):("number"==typeof j&&(z=j),(0,L.e)((re,Re)=>function ne(we,j,z,re,Re,Le,et,Te){const Ne=[];let Ue=0,tt=0,ct=!1;const J=()=>{ct&&!Ne.length&&!Ue&&j.complete()},ve=se=>Ue<re?ae(se):Ne.push(se),ae=se=>{Le&&j.next(se),Ue++;let he=!1;(0,V.Xf)(z(se,tt++)).subscribe((0,ye.x)(j,K=>{Re?.(K),Le?ve(K):j.next(K)},()=>{he=!0},void 0,()=>{if(he)try{for(Ue--;Ne.length&&Ue<re;){const K=Ne.shift();et?(0,ie.f)(j,et,()=>ae(K)):ae(K)}J()}catch(K){j.error(K)}}))};return we.subscribe((0,ye.x)(j,ve,()=>{ct=!0,J()})),()=>{Te?.()}}(re,Re,we,z)))}},3093:(dt,Ee,P)=>{"use strict";P.d(Ee,{Q:()=>ie});var u=P(7103),V=P(9360),L=P(8251);function ie(ye,ne=0){return(0,V.e)((Se,Ce)=>{Se.subscribe((0,L.x)(Ce,we=>(0,u.f)(Ce,ye,()=>Ce.next(we),ne),()=>(0,u.f)(Ce,ye,()=>Ce.complete(),ne),we=>(0,u.f)(Ce,ye,()=>Ce.error(we),ne)))})}},3020:(dt,Ee,P)=>{"use strict";P.d(Ee,{B:()=>ye});var u=P(4829),V=P(8645),L=P(305),ie=P(9360);function ye(Se={}){const{connector:Ce=(()=>new V.x),resetOnError:we=!0,resetOnComplete:j=!0,resetOnRefCountZero:z=!0}=Se;return re=>{let Re,Le,et,Te=0,Ne=!1,Ue=!1;const tt=()=>{Le?.unsubscribe(),Le=void 0},ct=()=>{tt(),Re=et=void 0,Ne=Ue=!1},J=()=>{const ve=Re;ct(),ve?.unsubscribe()};return(0,ie.e)((ve,ae)=>{Te++,!Ue&&!Ne&&tt();const se=et=et??Ce();ae.add(()=>{Te--,0===Te&&!Ue&&!Ne&&(Le=ne(J,z))}),se.subscribe(ae),!Re&&Te>0&&(Re=new L.Hp({next:he=>se.next(he),error:he=>{Ue=!0,tt(),Le=ne(ct,we,he),se.error(he)},complete:()=>{Ne=!0,tt(),Le=ne(ct,j),se.complete()}}),(0,u.Xf)(ve).subscribe(Re))})(re)}}function ne(Se,Ce,...we){if(!0===Ce)return void Se();if(!1===Ce)return;const j=new L.Hp({next:()=>{j.unsubscribe(),Se()}});return(0,u.Xf)(Ce(...we)).subscribe(j)}},5137:(dt,Ee,P)=>{"use strict";P.d(Ee,{R:()=>V});var u=P(9360);function V(L,ie=0){return(0,u.e)((ye,ne)=>{ne.add(L.schedule(()=>ye.subscribe(ne),ie))})}},4664:(dt,Ee,P)=>{"use strict";P.d(Ee,{w:()=>ie});var u=P(4829),V=P(9360),L=P(8251);function ie(ye,ne){return(0,V.e)((Se,Ce)=>{let we=null,j=0,z=!1;const re=()=>z&&!we&&Ce.complete();Se.subscribe((0,L.x)(Ce,Re=>{we?.unsubscribe();let Le=0;const et=j++;(0,u.Xf)(ye(Re,et)).subscribe(we=(0,L.x)(Ce,Te=>Ce.next(ne?ne(Re,Te,et,Le++):Te),()=>{we=null,re()}))},()=>{z=!0,re()}))})}},7599:(dt,Ee,P)=>{"use strict";P.d(Ee,{z:()=>u});const u={setTimeout(V,L,...ie){const{delegate:ye}=u;return ye?.setTimeout?ye.setTimeout(V,L,...ie):setTimeout(V,L,...ie)},clearTimeout(V){const{delegate:L}=u;return(L?.clearTimeout||clearTimeout)(V)},delegate:void 0}},4971:(dt,Ee,P)=>{"use strict";P.d(Ee,{h:()=>V});const V=function u(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(dt,Ee,P)=>{"use strict";P.d(Ee,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9940:(dt,Ee,P)=>{"use strict";P.d(Ee,{_6:()=>ne,jO:()=>ie,yG:()=>ye});var u=P(4674),V=P(671);function L(Se){return Se[Se.length-1]}function ie(Se){return(0,u.m)(L(Se))?Se.pop():void 0}function ye(Se){return(0,V.K)(L(Se))?Se.pop():void 0}function ne(Se,Ce){return"number"==typeof L(Se)?Se.pop():Ce}},9039:(dt,Ee,P)=>{"use strict";function u(V,L){if(V){const ie=V.indexOf(L);0<=ie&&V.splice(ie,1)}}P.d(Ee,{P:()=>u})},2306:(dt,Ee,P)=>{"use strict";function u(V){const ie=V(ye=>{Error.call(ye),ye.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}P.d(Ee,{d:()=>u})},1441:(dt,Ee,P)=>{"use strict";P.d(Ee,{O:()=>ie,x:()=>L});var u=P(2653);let V=null;function L(ye){if(u.config.useDeprecatedSynchronousErrorHandling){const ne=!V;if(ne&&(V={errorThrown:!1,error:null}),ye(),ne){const{errorThrown:Se,error:Ce}=V;if(V=null,Se)throw Ce}}else ye()}function ie(ye){u.config.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=ye)}},7103:(dt,Ee,P)=>{"use strict";function u(V,L,ie,ye=0,ne=!1){const Se=L.schedule(function(){ie(),ne?V.add(this.schedule(null,ye)):this.unsubscribe()},ye);if(V.add(Se),!ne)return Se}P.d(Ee,{f:()=>u})},2737:(dt,Ee,P)=>{"use strict";function u(V){return V}P.d(Ee,{y:()=>u})},4266:(dt,Ee,P)=>{"use strict";P.d(Ee,{z:()=>u});const u=V=>V&&"number"==typeof V.length&&"function"!=typeof V},5726:(dt,Ee,P)=>{"use strict";P.d(Ee,{D:()=>V});var u=P(4674);function V(L){return Symbol.asyncIterator&&(0,u.m)(L?.[Symbol.asyncIterator])}},4674:(dt,Ee,P)=>{"use strict";function u(V){return"function"==typeof V}P.d(Ee,{m:()=>u})},8382:(dt,Ee,P)=>{"use strict";P.d(Ee,{c:()=>L});var u=P(4850),V=P(4674);function L(ie){return(0,V.m)(ie[u.L])}},3664:(dt,Ee,P)=>{"use strict";P.d(Ee,{T:()=>L});var u=P(4971),V=P(4674);function L(ie){return(0,V.m)(ie?.[u.h])}},4026:(dt,Ee,P)=>{"use strict";P.d(Ee,{t:()=>V});var u=P(4674);function V(L){return(0,u.m)(L?.then)}},541:(dt,Ee,P)=>{"use strict";P.d(Ee,{L:()=>ie,Q:()=>L});var u=P(7582),V=P(4674);function L(ye){return(0,u.FC)(this,arguments,function*(){const Se=ye.getReader();try{for(;;){const{value:Ce,done:we}=yield(0,u.qq)(Se.read());if(we)return yield(0,u.qq)(void 0);yield yield(0,u.qq)(Ce)}}finally{Se.releaseLock()}})}function ie(ye){return(0,V.m)(ye?.getReader)}},671:(dt,Ee,P)=>{"use strict";P.d(Ee,{K:()=>V});var u=P(4674);function V(L){return L&&(0,u.m)(L.schedule)}},9360:(dt,Ee,P)=>{"use strict";P.d(Ee,{A:()=>V,e:()=>L});var u=P(4674);function V(ie){return(0,u.m)(ie?.lift)}function L(ie){return ye=>{if(V(ye))return ye.lift(function(ne){try{return ie(ne,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(dt,Ee,P)=>{"use strict";function u(){}P.d(Ee,{Z:()=>u})},8407:(dt,Ee,P)=>{"use strict";P.d(Ee,{U:()=>L,z:()=>V});var u=P(2737);function V(...ie){return L(ie)}function L(ie){return 0===ie.length?u.y:1===ie.length?ie[0]:function(ne){return ie.reduce((Se,Ce)=>Ce(Se),ne)}}},3894:(dt,Ee,P)=>{"use strict";P.d(Ee,{h:()=>L});var u=P(2653),V=P(7599);function L(ie){V.z.setTimeout(()=>{const{onUnhandledError:ye}=u.config;if(!ye)throw ie;ye(ie)})}},9853:(dt,Ee,P)=>{"use strict";function u(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(Ee,{z:()=>u})},5879:(dt,Ee,P)=>{"use strict";P.d(Ee,{$8M:()=>Ju,$WT:()=>sl,$Z:()=>Fk,AFp:()=>Rg,AaK:()=>re,CHM:()=>Ds,CRH:()=>kD,EJc:()=>Xj,EiD:()=>iI,EpF:()=>W0,F$t:()=>xO,F4k:()=>Io,FYo:()=>Il,FiY:()=>pe,Gf:()=>Fw,GfV:()=>SI,Gpc:()=>et,HDt:()=>aN,Hsn:()=>EO,Ikx:()=>mp,JOm:()=>Af,JVY:()=>ZC,JZr:()=>ct,KtG:()=>pf,L6k:()=>QC,LAX:()=>YR,LFG:()=>Ge,Lbi:()=>Rb,Lck:()=>Ej,MAs:()=>C_,MMx:()=>x1,MR2:()=>Cb,NdJ:()=>up,Ojb:()=>fk,OlP:()=>yn,Oqu:()=>B_,P3R:()=>rk,PXZ:()=>Iz,Q6J:()=>j0,QGY:()=>D_,QbO:()=>hk,Qsj:()=>CI,R0b:()=>Di,RDi:()=>GC,Rgc:()=>Wd,SBq:()=>xd,Sil:()=>tz,Suo:()=>oy,TTD:()=>sf,TgZ:()=>Od,VuI:()=>lA,W1O:()=>LD,WFA:()=>SS,X6Q:()=>Oz,XFs:()=>gt,Xpm:()=>Tu,Xq5:()=>hS,Xts:()=>gd,Y36:()=>Va,YKP:()=>b1,YNc:()=>x_,Yjl:()=>Ou,Yz7:()=>it,Z0I:()=>hn,ZZ4:()=>rA,_Bn:()=>v1,_UZ:()=>I_,_Vd:()=>bd,_c5:()=>zz,_uU:()=>FO,aQg:()=>Qw,c2e:()=>oN,cJS:()=>cn,cg1:()=>gp,d8E:()=>G_,dDg:()=>wz,dqk:()=>zt,eBb:()=>qR,eFA:()=>gN,eJc:()=>VD,ekj:()=>ms,eoX:()=>hN,f3M:()=>Xe,g9A:()=>gI,h0i:()=>Hd,hGG:()=>Hz,hij:()=>V_,iGM:()=>RD,ifc:()=>Fe,ip1:()=>sN,jDz:()=>E1,kL8:()=>W_,lG2:()=>ku,lqb:()=>$,lri:()=>dN,mCW:()=>zf,n5z:()=>sg,oAB:()=>jh,oxw:()=>MS,pB0:()=>KR,q3G:()=>md,q4F:()=>Sl,qFp:()=>HN,qLn:()=>Dl,qOj:()=>f_,qZA:()=>Nd,qzn:()=>kc,rWj:()=>KD,rg0:()=>rf,sBO:()=>Nz,s_b:()=>Mw,soG:()=>Hw,tb:()=>XD,tp0:()=>Ye,uIk:()=>k0,vHH:()=>J,vpe:()=>oa,wAp:()=>Ld,xp6:()=>Nk,z2F:()=>Tp,z3N:()=>Fa,zSh:()=>Sb,zs3:()=>xo});var u=P(8645),V=P(7394),L=P(5592),ie=P(3019),ye=P(5619),ne=P(2096),Se=P(3020),Ce=P(4664),we=P(3997);function j(o){for(let a in o)if(o[a]===j)return a;throw Error("Could not find renamed property on target object.")}function z(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function re(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(re).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function Re(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const Le=j({__forward_ref__:j});function et(o){return o.__forward_ref__=et,o.toString=function(){return re(this())},o}function Te(o){return Ne(o)?o():o}function Ne(o){return"function"==typeof o&&o.hasOwnProperty(Le)&&o.__forward_ref__===et}function Ue(o){return o&&!!o.\u0275providers}const ct="https://g.co/ng/security#xss";class J extends Error{constructor(a,c){super(function ve(o,a){return`NG0${Math.abs(o)}${a?": "+a:""}`}(a,c)),this.code=a}}function ae(o){return"string"==typeof o?o:null==o?"":String(o)}function st(o,a){throw new J(-201,!1)}function qe(o,a){null==o&&function He(o,a,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${a} <=Actual]`))}(a,o,null,"!=")}function it(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function cn(o){return{providers:o.providers||[],imports:o.imports||[]}}function Dn(o){return Hn(o,er)||Hn(o,tr)}function hn(o){return null!==Dn(o)}function Hn(o,a){return o.hasOwnProperty(a)?o[a]:null}function wr(o){return o&&(o.hasOwnProperty($n)||o.hasOwnProperty(js))?o[$n]:null}const er=j({\u0275prov:j}),$n=j({\u0275inj:j}),tr=j({ngInjectableDef:j}),js=j({ngInjectorDef:j});var gt=function(o){return o[o.Default=0]="Default",o[o.Host=1]="Host",o[o.Self=2]="Self",o[o.SkipSelf=4]="SkipSelf",o[o.Optional=8]="Optional",o}(gt||{});let Rt;function on(o){const a=Rt;return Rt=o,a}function nr(o,a,c){const d=Dn(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&gt.Optional?null:void 0!==a?a:void st(re(o))}const zt=globalThis,Pn={},io="__NG_DI_FLAG__",jr="ngTempTokenPath",W=/\n/gm,N="__source";let F;function ee(o){const a=F;return F=o,a}function Ie(o,a=gt.Default){if(void 0===F)throw new J(-203,!1);return null===F?nr(o,void 0,a):F.get(o,a&gt.Optional?null:void 0,a)}function Ge(o,a=gt.Default){return(function At(){return Rt}()||Ie)(Te(o),a)}function Xe(o,a=gt.Default){return Ge(o,en(a))}function en(o){return typeof o>"u"||"number"==typeof o?o:0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)}function St(o){const a=[];for(let c=0;c<o.length;c++){const d=Te(o[c]);if(Array.isArray(d)){if(0===d.length)throw new J(900,!1);let f,m=gt.Default;for(let v=0;v<d.length;v++){const w=d[v],I=Ft(w);"number"==typeof I?-1===I?f=w.token:m|=I:f=w}a.push(Ge(f,m))}else a.push(Ge(d))}return a}function _n(o,a){return o[io]=a,o.prototype[io]=a,o}function Ft(o){return o[io]}function ge(o){return{toString:o}.toString()}var oe=function(o){return o[o.OnPush=0]="OnPush",o[o.Default=1]="Default",o}(oe||{}),Fe=function(o){return o[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",o}(Fe||{});const ot={},Ke=[],Nt=j({\u0275cmp:j}),sn=j({\u0275dir:j}),di=j({\u0275pipe:j}),Fn=j({\u0275mod:j}),Hi=j({\u0275fac:j}),Hs=j({__NG_ELEMENT_ID__:j}),Iu=j({__NG_ENV_ID__:j});function Ph(o,a,c){let d=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=a.length;if(f+m===d||o.charCodeAt(f+m)<=32)return f}c=f+1}}function rl(o,a,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const m=c[d++],v=c[d++],w=c[d++];o.setAttribute(a,v,w,m)}else{const m=f,v=c[++d];Jl(m)?o.setProperty(a,m,v):o.setAttribute(a,m,v),d++}}return d}function ro(o){return 3===o||4===o||6===o}function Jl(o){return 64===o.charCodeAt(0)}function ec(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let d=0;d<a.length;d++){const f=a[d];"number"==typeof f?c=f:0===c||Sm(o,c,f,null,-1===c||2===c?a[++d]:null)}}return o}function Sm(o,a,c,d,f){let m=0,v=o.length;if(-1===a)v=-1;else for(;m<o.length;){const w=o[m++];if("number"==typeof w){if(w===a){v=-1;break}if(w>a){v=m-1;break}}}for(;m<o.length;){const w=o[m];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==f&&(o[m+1]=f));if(d===o[m+1])return void(o[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(o.splice(v,0,a),m=v+1),o.splice(m++,0,c),null!==d&&o.splice(m++,0,d),null!==f&&o.splice(m++,0,f)}const Ln="ng-template";function mv(o,a,c){let d=0,f=!0;for(;d<o.length;){let m=o[d++];if("string"==typeof m&&f){const v=o[d++];if(c&&"class"===m&&-1!==Ph(v.toLowerCase(),a,0))return!0}else{if(1===m){for(;d<o.length&&"string"==typeof(m=o[d++]);)if(m.toLowerCase()===a)return!0;return!1}"number"==typeof m&&(f=!1)}}return!1}function tc(o){return 4===o.type&&o.value!==Ln}function gv(o,a,c){return a===(4!==o.type||c?o.value:Ln)}function Fh(o,a,c){let d=4;const f=o.attrs||[],m=function nc(o){for(let a=0;a<o.length;a++)if(ro(o[a]))return a;return o.length}(f);let v=!1;for(let w=0;w<a.length;w++){const I=a[w];if("number"!=typeof I){if(!v)if(4&d){if(d=2|1&d,""!==I&&!gv(o,I,c)||""===I&&1===a.length){if(Er(d))return!1;v=!0}}else{const S=8&d?I:a[++w];if(8&d&&null!==o.attrs){if(!mv(o.attrs,S,c)){if(Er(d))return!1;v=!0}continue}const U=Su(8&d?"class":I,f,tc(o),c);if(-1===U){if(Er(d))return!1;v=!0;continue}if(""!==S){let Y;Y=U>m?"":f[U+1].toLowerCase();const te=8&d?Y:null;if(te&&-1!==Ph(te,S,0)||2&d&&S!==Y){if(Er(d))return!1;v=!0}}}}else{if(!v&&!Er(d)&&!Er(I))return!1;if(v&&Er(I))continue;v=!1,d=I|1&d}}return Er(d)||v}function Er(o){return 0==(1&o)}function Su(o,a,c,d){if(null===a)return-1;let f=0;if(d||!c){let m=!1;for(;f<a.length;){const v=a[f];if(v===o)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let w=a[++f];for(;"string"==typeof w;)w=a[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function Lh(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===a)return c;c++}return-1}(a,o)}function Du(o,a,c=!1){for(let d=0;d<a.length;d++)if(Fh(o,a[d],c))return!0;return!1}function Bh(o,a){e:for(let c=0;c<a.length;c++){const d=a[c];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function ic(o,a){return o?":not("+a.trim()+")":a}function Au(o){let a=o[0],c=1,d=2,f="",m=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&d){const w=o[++c];f+="["+v+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Er(v)&&(a+=ic(m,f),f=""),d=v,m=m||!Er(d);c++}return""!==f&&(a+=ic(m,f)),a}function Tu(o){return ge(()=>{const a=Dm(o),c={...a,decls:o.decls,vars:o.vars,template:o.template,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,onPush:o.changeDetection===oe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&o.dependencies||null,getStandaloneInjector:null,signals:o.signals??!1,data:o.data||{},encapsulation:o.encapsulation||Fe.Emulated,styles:o.styles||Ke,_:null,schemas:o.schemas||null,tView:null,id:""};Nu(c);const d=o.dependencies;return c.directiveDefs=jo(d,!1),c.pipeDefs=jo(d,!0),c.id=function Hh(o){let a=0;const c=[o.selectors,o.ngContentSelectors,o.hostVars,o.hostAttrs,o.consts,o.vars,o.decls,o.encapsulation,o.standalone,o.signals,o.exportAs,JSON.stringify(o.inputs),JSON.stringify(o.outputs),Object.getOwnPropertyNames(o.type.prototype),!!o.contentQueries,!!o.viewQuery].join("|");for(const f of c)a=Math.imul(31,a)+f.charCodeAt(0)<<0;return a+=2147483648,"c"+a}(c),c})}function Mu(o){return Yt(o)||Ni(o)}function Uh(o){return null!==o}function jh(o){return ge(()=>({type:o.type,bootstrap:o.bootstrap||Ke,declarations:o.declarations||Ke,imports:o.imports||Ke,exports:o.exports||Ke,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function Ru(o,a){if(null==o)return ot;const c={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=d,a&&(a[f]=m)}return c}function ku(o){return ge(()=>{const a=Dm(o);return Nu(a),a})}function Ou(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function Yt(o){return o[Nt]||null}function Ni(o){return o[sn]||null}function Pi(o){return o[di]||null}function sl(o){const a=Yt(o)||Ni(o)||Pi(o);return null!==a&&a.standalone}function rr(o,a){const c=o[Fn]||null;if(!c&&!0===a)throw new Error(`Type ${re(o)} does not have '\u0275mod' property.`);return c}function Dm(o){const a={};return{type:o.type,providersResolver:null,factory:null,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:a,inputTransforms:null,inputConfig:o.inputs||ot,exportAs:o.exportAs||null,standalone:!0===o.standalone,signals:!0===o.signals,selectors:o.selectors||Ke,viewQuery:o.viewQuery||null,features:o.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ru(o.inputs,a),outputs:Ru(o.outputs)}}function Nu(o){o.features?.forEach(a=>a(o))}function jo(o,a){if(!o)return null;const c=a?Pi:Mu;return()=>("function"==typeof o?o():o).map(d=>c(d)).filter(Uh)}const kn=0,We=1,Pt=2,bn=3,Hr=4,oo=5,sr=6,ba=7,Mn=8,ao=9,zo=10,xt=11,rc=12,$s=13,hi=14,fi=15,ol=16,$r=17,or=18,lo=19,Am=20,wa=21,Gs=22,Pu=23,os=24,Kt=25,Gh=1,sc=2,ar=7,al=9,pi=11;function Cr(o){return Array.isArray(o)&&"object"==typeof o[Gh]}function $i(o){return Array.isArray(o)&&!0===o[Gh]}function Wh(o){return 0!=(4&o.flags)}function co(o){return o.componentOffset>-1}function ac(o){return 1==(1&o.flags)}function as(o){return!!o.template}function ll(o){return 0!=(512&o[Pt])}function uo(o,a){return o.hasOwnProperty(Hi)?o[Hi]:null}let Ci=null,Qh=!1;function cr(o){const a=Ci;return Ci=o,a}const Xh={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Dv(o){if(!Vu(o)||o.dirty){if(!o.producerMustRecompute(o)&&!Tv(o))return void(o.dirty=!1);o.producerRecomputeValue(o),o.dirty=!1}}function Av(o){o.dirty=!0,function km(o){if(void 0===o.liveConsumerNode)return;const a=Qh;Qh=!0;try{for(const c of o.liveConsumerNode)c.dirty||Av(c)}finally{Qh=a}}(o),o.consumerMarkedDirty?.(o)}function Om(o){return o&&(o.nextProducerIndex=0),cr(o)}function Bu(o,a){if(cr(a),o&&void 0!==o.producerNode&&void 0!==o.producerIndexOfThis&&void 0!==o.producerLastReadVersion){if(Vu(o))for(let c=o.nextProducerIndex;c<o.producerNode.length;c++)cc(o.producerNode[c],o.producerIndexOfThis[c]);for(;o.producerNode.length>o.nextProducerIndex;)o.producerNode.pop(),o.producerLastReadVersion.pop(),o.producerIndexOfThis.pop()}}function Tv(o){$o(o);for(let a=0;a<o.producerNode.length;a++){const c=o.producerNode[a],d=o.producerLastReadVersion[a];if(d!==c.version||(Dv(c),d!==c.version))return!0}return!1}function ef(o){if($o(o),Vu(o))for(let a=0;a<o.producerNode.length;a++)cc(o.producerNode[a],o.producerIndexOfThis[a]);o.producerNode.length=o.producerLastReadVersion.length=o.producerIndexOfThis.length=0,o.liveConsumerNode&&(o.liveConsumerNode.length=o.liveConsumerIndexOfThis.length=0)}function cc(o,a){if(function Rv(o){o.liveConsumerNode??=[],o.liveConsumerIndexOfThis??=[]}(o),$o(o),1===o.liveConsumerNode.length)for(let d=0;d<o.producerNode.length;d++)cc(o.producerNode[d],o.producerIndexOfThis[d]);const c=o.liveConsumerNode.length-1;if(o.liveConsumerNode[a]=o.liveConsumerNode[c],o.liveConsumerIndexOfThis[a]=o.liveConsumerIndexOfThis[c],o.liveConsumerNode.length--,o.liveConsumerIndexOfThis.length--,a<o.liveConsumerNode.length){const d=o.liveConsumerIndexOfThis[a],f=o.liveConsumerNode[a];$o(f),f.producerIndexOfThis[d]=a}}function Vu(o){return o.consumerIsAlwaysLive||(o?.liveConsumerNode?.length??0)>0}function $o(o){o.producerNode??=[],o.producerIndexOfThis??=[],o.producerLastReadVersion??=[]}let Ov=null;function rf(o){const a=cr(null);try{return o()}finally{cr(a)}}const Um=()=>{},Pv=(()=>({...Xh,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:o=>{o.schedule(o.ref)},hasRun:!1,cleanupFn:Um}))();class Lv{constructor(a,c,d){this.previousValue=a,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function sf(){return af}function af(o){return o.type.prototype.ngOnChanges&&(o.setInput=ho),zu}function zu(){const o=lf(this),a=o?.current;if(a){const c=o.previous;if(c===ot)o.previous=a;else for(let d in a)c[d]=a[d];o.current=null,this.ngOnChanges(a)}}function ho(o,a,c,d){const f=this.declaredInputs[c],m=lf(o)||function Bv(o,a){return o[dl]=a}(o,{previous:ot,current:null}),v=m.current||(m.current={}),w=m.previous,I=w[f];v[f]=new Lv(I&&I.currentValue,a,w===ot),o[d]=a}sf.ngInherit=!0;const dl="__ngSimpleChanges__";function lf(o){return o[dl]||null}const Ws=function(o,a,c){};function fn(o){for(;Array.isArray(o);)o=o[kn];return o}function fo(o,a){return fn(a[o])}function ur(o,a){return fn(a[o.index])}function uf(o,a){return o.data[a]}function Ir(o,a){const c=a[o];return Cr(c)?c:c[kn]}function Go(o,a){return null==a?null:o[a]}function zm(o){o[$r]=0}function hc(o){1024&o[Pt]||(o[Pt]|=1024,ii(o,1))}function Vv(o){1024&o[Pt]&&(o[Pt]&=-1025,ii(o,-1))}function ii(o,a){let c=o[bn];if(null===c)return;c[oo]+=a;let d=c;for(c=c[bn];null!==c&&(1===a&&1===d[oo]||-1===a&&0===d[oo]);)c[oo]+=a,d=c,c=c[bn]}const Dt={lFrame:Jm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function fl(){return Dt.bindingsEnabled}function Wo(){return null!==Dt.skipHydrationRootTNode}function Me(){return Dt.lFrame.lView}function Qt(){return Dt.lFrame.tView}function Ds(o){return Dt.lFrame.contextLView=o,o[Mn]}function pf(o){return Dt.lFrame.contextLView=null,o}function Fi(){let o=Wu();for(;null!==o&&64===o.type;)o=o.parent;return o}function Wu(){return Dt.lFrame.currentTNode}function qs(o,a){const c=Dt.lFrame;c.currentTNode=o,c.isParent=a}function Ym(){return Dt.lFrame.isParent}function Km(){Dt.lFrame.isParent=!1}function pc(){return Dt.lFrame.bindingIndex++}function Zm(o,a){const c=Dt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Qm(a)}function Qm(o){Dt.lFrame.currentDirectiveIndex=o}function gf(o){const a=Dt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}function Wv(){return Dt.lFrame.currentQueryIndex}function Xm(o){Dt.lFrame.currentQueryIndex=o}function wC(o){const a=o[We];return 2===a.type?a.declTNode:1===a.type?o[sr]:null}function _f(o,a,c){if(c&gt.SkipSelf){let f=a,m=o;for(;!(f=f.parent,null!==f||c&gt.Host||(f=wC(m),null===f||(m=m[hi],10&f.type))););if(null===f)return!1;a=f,o=m}const d=Dt.lFrame=Gi();return d.currentTNode=a,d.lView=o,!0}function On(o){const a=Gi(),c=o[We];Dt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Gi(){const o=Dt.lFrame,a=null===o?null:o.child;return null===a?Jm(o):a}function Jm(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function wn(){const o=Dt.lFrame;return Dt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const at=wn;function Ii(){const o=wn();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function dr(){return Dt.lFrame.selectedIndex}function po(o){Dt.lFrame.selectedIndex=o}function Rn(){const o=Dt.lFrame;return uf(o.tView,o.selectedIndex)}let ml=!0;function mo(){return ml}function go(o){ml=o}function gl(o,a){for(let c=a.directiveStart,d=a.directiveEnd;c<d;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:S,ngOnDestroy:M}=m;v&&(o.contentHooks??=[]).push(-c,v),w&&((o.contentHooks??=[]).push(c,w),(o.contentCheckHooks??=[]).push(c,w)),I&&(o.viewHooks??=[]).push(-c,I),S&&((o.viewHooks??=[]).push(c,S),(o.viewCheckHooks??=[]).push(c,S)),null!=M&&(o.destroyHooks??=[]).push(c,M)}}function Ca(o,a,c){Ku(o,a,3,c)}function _l(o,a,c,d){(3&o[Pt])===c&&Ku(o,a,c,d)}function Yu(o,a){let c=o[Pt];(3&c)===a&&(c&=8191,c+=1,o[Pt]=c)}function Ku(o,a,c,d){const m=d??-1,v=a.length-1;let w=0;for(let I=void 0!==d?65535&o[$r]:0;I<v;I++)if("number"==typeof a[I+1]){if(w=a[I],null!=d&&w>=d)break}else a[I]<0&&(o[$r]+=65536),(w<m||-1==m)&&(mc(o,c,a,I),o[$r]=(4294901760&o[$r])+I+2),I++}function Ia(o,a){Ws(4,o,a);const c=cr(null);try{a.call(o)}finally{cr(c),Ws(5,o,a)}}function mc(o,a,c,d){const f=c[d]<0,m=c[d+1],w=o[f?-c[d]:c[d]];f?o[Pt]>>13<o[$r]>>16&&(3&o[Pt])===a&&(o[Pt]+=8192,Ia(w,m)):Ia(w,m)}const Ys=-1;class Yo{constructor(a,c,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Zu(o){return o!==Ys}function jt(o){return 32767&o}function Gr(o,a){let c=function Vn(o){return o>>16}(o),d=a;for(;c>0;)d=d[hi],c--;return d}let Zo=!0;function xn(o){const a=Zo;return Zo=o,a}const _c=255,yc=5;let Yv=0;const gi={};function En(o,a){const c=Qu(o,a);if(-1!==c)return c;const d=a[We];d.firstCreatePass&&(o.injectorIndex=a.length,ls(d.data,o),ls(a,null),ls(d.blueprint,null));const f=Da(o,a),m=o.injectorIndex;if(Zu(f)){const v=jt(f),w=Gr(f,a),I=w[We].data;for(let S=0;S<8;S++)a[m+S]=w[v+S]|I[v+S]}return a[m+8]=f,m}function ls(o,a){o.push(0,0,0,0,0,0,0,0,a)}function Qu(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Da(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,f=a;for(;null!==f;){if(d=ag(f),null===d)return Ys;if(c++,f=f[hi],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return Ys}function yl(o,a,c){!function Qo(o,a,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Hs)&&(d=c[Hs]),null==d&&(d=c[Hs]=Yv++);const f=d&_c;a.data[o+(f>>yc)]|=1<<f}(o,a,c)}function wf(o,a,c){if(c&gt.Optional||void 0!==o)return o;st()}function Aa(o,a,c,d){if(c&gt.Optional&&void 0===d&&(d=null),!(c&(gt.Self|gt.Host))){const f=o[ao],m=on(void 0);try{return f?f.get(a,d,c&gt.Optional):nr(a,d,c&gt.Optional)}finally{on(m)}}return wf(d,0,c)}function xf(o,a,c,d=gt.Default,f){if(null!==o){if(2048&a[Pt]&&!(d&gt.Self)){const v=function og(o,a,c,d,f){let m=o,v=a;for(;null!==m&&null!==v&&2048&v[Pt]&&!(512&v[Pt]);){const w=Si(m,v,c,d|gt.Self,gi);if(w!==gi)return w;let I=m.parent;if(!I){const S=v[Am];if(S){const M=S.get(c,gi,d);if(M!==gi)return M}I=ag(v),v=v[hi]}m=I}return f}(o,a,c,d,gi);if(v!==gi)return v}const m=Si(o,a,c,d,gi);if(m!==gi)return m}return Aa(a,c,d,f)}function Si(o,a,c,d,f){const m=function Jo(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(Hs)?o[Hs]:void 0;return"number"==typeof a?a>=0?a&_c:ea:a}(c);if("function"==typeof m){if(!_f(a,o,d))return d&gt.Host?wf(f,0,d):Aa(a,c,d,f);try{let v;if(v=m(d),null!=v||d&gt.Optional)return v;st()}finally{at()}}else if("number"==typeof m){let v=null,w=Qu(o,a),I=Ys,S=d&gt.Host?a[fi][sr]:null;for((-1===w||d&gt.SkipSelf)&&(I=-1===w?Da(o,a):a[w+8],I!==Ys&&ig(d,!1)?(v=a[We],w=jt(I),a=Gr(I,a)):w=-1);-1!==w;){const M=a[We];if(ng(m,w,M.data)){const U=Lt(w,a,c,v,d,S);if(U!==gi)return U}I=a[w+8],I!==Ys&&ig(d,a[We].data[w+8]===S)&&ng(m,w,a)?(v=M,w=jt(I),a=Gr(I,a)):w=-1}}return f}function Lt(o,a,c,d,f,m){const v=a[We],w=v.data[o+8],M=Xo(w,v,c,null==d?co(w)&&Zo:d!=v&&0!=(3&w.type),f&gt.Host&&m===w);return null!==M?Ta(a,v,M,w):gi}function Xo(o,a,c,d,f){const m=o.providerIndexes,v=a.data,w=1048575&m,I=o.directiveStart,M=m>>20,Y=f?w+M:o.directiveEnd;for(let te=d?w:w+M;te<Y;te++){const xe=v[te];if(te<I&&c===xe||te>=I&&xe.type===c)return te}if(f){const te=v[I];if(te&&as(te)&&te.type===c)return I}return null}function Ta(o,a,c,d){let f=o[c];const m=a.data;if(function Sa(o){return o instanceof Yo}(f)){const v=f;v.resolving&&function he(o,a){const c=a?`. Dependency path: ${a.join(" > ")} > ${o}`:"";throw new J(-200,`Circular dependency in DI detected for ${o}${c}`)}(function se(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ae(o)}(m[c]));const w=xn(v.canSeeViewProviders);v.resolving=!0;const S=v.injectImpl?on(v.injectImpl):null;_f(o,d,gt.Default);try{f=o[c]=v.factory(void 0,m,o,d),a.firstCreatePass&&c>=d.directiveStart&&function mi(o,a,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=a.type.prototype;if(d){const v=af(a);(c.preOrderHooks??=[]).push(o,v),(c.preOrderCheckHooks??=[]).push(o,v)}f&&(c.preOrderHooks??=[]).push(0-o,f),m&&((c.preOrderHooks??=[]).push(o,m),(c.preOrderCheckHooks??=[]).push(o,m))}(c,m[c],a)}finally{null!==S&&on(S),xn(w),v.resolving=!1,at()}}return f}function ng(o,a,c){return!!(c[a+(o>>yc)]&1<<o)}function ig(o,a){return!(o&gt.Self||o&gt.Host&&a)}class _i{constructor(a,c){this._tNode=a,this._lView=c}get(a,c,d){return xf(this._tNode,this._lView,a,en(d),c)}}function ea(){return new _i(Fi(),Me())}function sg(o){return ge(()=>{const a=o.prototype.constructor,c=a[Hi]||Xu(a),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const m=f[Hi]||Xu(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Xu(o){return Ne(o)?()=>{const a=Xu(Te(o));return a&&a()}:uo(o)}function ag(o){const a=o[We],c=a.type;return 2===c?a.declTNode:1===c?o[sr]:null}function Ju(o){return function tg(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const m=c[f];if(ro(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(m===a)return c[f+1];f+=2}}}return null}(Fi(),o)}const Ma="__parameters__";function tn(o,a,c){return ge(()=>{const d=function ta(o){return function(...c){if(o){const d=o(...c);for(const f in d)this[f]=d[f]}}}(a);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return w.annotation=v,w;function w(I,S,M){const U=I.hasOwnProperty(Ma)?I[Ma]:Object.defineProperty(I,Ma,{value:[]})[Ma];for(;U.length<=M;)U.push(null);return(U[M]=U[M]||[]).push(v),I}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}function bl(o,a){o.forEach(c=>Array.isArray(c)?bl(c,a):a(c))}function Zv(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function wl(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function na(o,a){const c=[];for(let d=0;d<o;d++)c.push(a);return c}function Wr(o,a,c){let d=xl(o,a);return d>=0?o[1|d]=c:(d=~d,function ug(o,a,c,d){let f=o.length;if(f==a)o.push(c,d);else if(1===f)o.push(d,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=d}}(o,d,a,c)),d}function If(o,a){const c=xl(o,a);if(c>=0)return o[1|c]}function xl(o,a){return function sd(o,a,c){let d=0,f=o.length>>c;for(;f!==d;){const m=d+(f-d>>1),v=o[m<<c];if(a===v)return m<<c;v>a?f=m:d=m+1}return~(f<<c)}(o,a,1)}const pe=_n(tn("Optional"),8),Ye=_n(tn("SkipSelf"),4);function fg(o){return 128==(128&o.flags)}var Af=function(o){return o[o.Important=1]="Important",o[o.DashCase=2]="DashCase",o}(Af||{});const Tf=new Map;let CR=0;const gg="__ngContext__";function Dr(o,a){Cr(a)?(o[gg]=a[lo],function MC(o){Tf.set(o[lo],o)}(a)):o[gg]=a}let kf;function As(o,a){return kf(o,a)}function Pa(o){const a=o[bn];return $i(a)?a[bn]:a}function OC(o){return Of(o[rc])}function lb(o){return Of(o[Hr])}function Of(o){for(;null!==o&&!$i(o);)o=o[Hr];return o}function dd(o,a,c,d,f){if(null!=d){let m,v=!1;$i(d)?m=d:Cr(d)&&(v=!0,d=d[kn]);const w=fn(d);0===o&&null!==c?null==f?LC(a,c,w):Tc(a,c,w,f||null,!0):1===o&&null!==c?Tc(a,c,w,f||null,!0):2===o?function xg(o,a,c){const d=wg(o,a);d&&function VR(o,a,c,d){o.removeChild(a,c,d)}(o,d,a,c)}(a,w,v):3===o&&a.destroyNode(w),null!=m&&function jR(o,a,c,d,f){const m=c[ar];m!==fn(c)&&dd(a,o,d,m,f);for(let w=pi;w<c.length;w++){const I=c[w];Vf(I[We],I,o,a,d,m)}}(a,o,m,c,f)}}function vg(o,a,c){return o.createElement(a,c)}function NC(o,a){const c=o[al],d=c.indexOf(a);Vv(a),c.splice(d,1)}function bg(o,a){if(o.length<=pi)return;const c=pi+a,d=o[c];if(d){const f=d[ol];null!==f&&f!==o&&NC(f,d),a>0&&(o[c-1][Hr]=d[Hr]);const m=wl(o,pi+a);!function NR(o,a){Vf(o,a,a[xt],2,null,null),a[kn]=null,a[sr]=null}(d[We],d);const v=m[or];null!==v&&v.detachView(m[We]),d[bn]=null,d[Hr]=null,d[Pt]&=-129}return d}function cb(o,a){if(!(256&a[Pt])){const c=a[xt];a[Pu]&&ef(a[Pu]),a[os]&&ef(a[os]),c.destroyNode&&Vf(o,a,c,3,null,null),function PR(o){let a=o[rc];if(!a)return PC(o[We],o);for(;a;){let c=null;if(Cr(a))c=a[rc];else{const d=a[pi];d&&(c=d)}if(!c){for(;a&&!a[Hr]&&a!==o;)Cr(a)&&PC(a[We],a),a=a[bn];null===a&&(a=o),Cr(a)&&PC(a[We],a),c=a&&a[Hr]}a=c}}(a)}}function PC(o,a){if(!(256&a[Pt])){a[Pt]&=-129,a[Pt]|=256,function FC(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const f=a[c[d]];if(!(f instanceof Yo)){const m=c[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const w=f[m[v]],I=m[v+1];Ws(4,w,I);try{I.call(w)}finally{Ws(5,w,I)}}else{Ws(4,f,m);try{m.call(f)}finally{Ws(5,f,m)}}}}}(o,a),function BR(o,a){const c=o.cleanup,d=a[ba];if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+3];v>=0?d[v]():d[-v].unsubscribe(),m+=2}else c[m].call(d[c[m+1]]);null!==d&&(a[ba]=null);const f=a[wa];if(null!==f){a[wa]=null;for(let m=0;m<f.length;m++)(0,f[m])()}}(o,a),1===a[We].type&&a[xt].destroy();const c=a[ol];if(null!==c&&$i(a[bn])){c!==a[bn]&&NC(c,a);const d=a[or];null!==d&&d.detachView(o)}!function Mf(o){Tf.delete(o[lo])}(a)}}function hd(o,a,c){return function Ac(o,a,c){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return c[kn];{const{componentOffset:f}=d;if(f>-1){const{encapsulation:m}=o.data[d.directiveStart+f];if(m===Fe.None||m===Fe.Emulated)return null}return ur(d,c)}}(o,a.parent,c)}function Tc(o,a,c,d,f){o.insertBefore(a,c,d,f)}function LC(o,a,c){o.appendChild(a,c)}function BC(o,a,c,d,f){null!==d?Tc(o,a,c,d,f):LC(o,a,c)}function wg(o,a){return o.parentNode(a)}function VC(o,a,c){return ub(o,a,c)}let db,Eg,$C,Cg,ub=function UC(o,a,c){return 40&o.type?ur(o,c):null};function Lf(o,a,c,d){const f=hd(o,d,a),m=a[xt],w=VC(d.parent||a[sr],d,a);if(null!=f)if(Array.isArray(c))for(let I=0;I<c.length;I++)BC(m,f,c[I],w,!1);else BC(m,f,c,w,!1);void 0!==db&&db(m,d,a,c,f)}function sa(o,a){if(null!==a){const c=a.type;if(3&c)return ur(a,o);if(4&c)return fb(-1,o[a.index]);if(8&c){const d=a.child;if(null!==d)return sa(o,d);{const f=o[a.index];return $i(f)?fb(-1,f):fn(f)}}if(32&c)return As(a,o)()||fn(o[a.index]);{const d=hb(o,a);return null!==d?Array.isArray(d)?d[0]:sa(Pa(o[fi]),d):sa(o,a.next)}}return null}function hb(o,a){return null!==a?o[fi][sr].projection[a.projection]:null}function fb(o,a){const c=pi+o+1;if(c<a.length){const d=a[c],f=d[We].firstChild;if(null!==f)return sa(d,f)}return a[ar]}function Bf(o,a,c,d,f,m,v){for(;null!=c;){const w=d[c.index],I=c.type;if(v&&0===a&&(w&&Dr(fn(w),d),c.flags|=2),32!=(32&c.flags))if(8&I)Bf(o,a,c.child,d,f,m,!1),dd(a,o,f,w,m);else if(32&I){const S=As(c,d);let M;for(;M=S();)dd(a,o,f,M,m);dd(a,o,f,w,m)}else 16&I?mb(o,a,d,c,f,m):dd(a,o,f,w,m);c=v?c.projectionNext:c.next}}function Vf(o,a,c,d,f,m){Bf(c,d,o.firstChild,a,f,m,!1)}function mb(o,a,c,d,f,m){const v=c[fi],I=v[sr].projection[d.projection];if(Array.isArray(I))for(let S=0;S<I.length;S++)dd(a,o,f,I[S],m);else{let S=I;const M=v[bn];fg(d)&&(S.flags|=128),Bf(o,a,S,M,f,m,!0)}}function zC(o,a,c){""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c)}function Uf(o,a,c){const{mergedAttrs:d,classes:f,styles:m}=c;null!==d&&rl(o,a,d),null!==f&&zC(o,a,f),null!==m&&function HR(o,a,c){o.setAttribute(a,"style",c)}(o,a,m)}function fd(o){return function gb(){if(void 0===Eg&&(Eg=null,zt.trustedTypes))try{Eg=zt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Eg}()?.createHTML(o)||o}function GC(o){$C=o}function YC(o){return function _b(){if(void 0===Cg&&(Cg=null,zt.trustedTypes))try{Cg=zt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return Cg}()?.createScriptURL(o)||o}class Rc{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ct})`}}class KC extends Rc{getTypeName(){return"HTML"}}class yb extends Rc{getTypeName(){return"Style"}}class pd extends Rc{getTypeName(){return"Script"}}class vb extends Rc{getTypeName(){return"URL"}}class WR extends Rc{getTypeName(){return"ResourceURL"}}function Fa(o){return o instanceof Rc?o.changingThisBreaksApplicationSecurity:o}function kc(o,a){const c=function Ig(o){return o instanceof Rc&&o.getTypeName()||null}(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see ${ct})`)}return c===a}function ZC(o){return new KC(o)}function QC(o){return new yb(o)}function qR(o){return new pd(o)}function YR(o){return new vb(o)}function KR(o){return new WR(o)}class Sg{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(fd(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch{return null}}}class ZR{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const c=this.inertDocument.createElement("template");return c.innerHTML=fd(a),c}}const jf=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zf(o){return(o=String(o)).match(jf)?o:"unsafe:"+o}function La(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function Hf(...o){const a={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(a[d]=!0);return a}const JC=La("area,br,col,hr,img,wbr"),eI=La("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ar=La("rp,rt"),bb=Hf(JC,Hf(eI,La("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Hf(Ar,La("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Hf(Ar,eI)),wb=La("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ek=Hf(wb,La("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),La("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),tk=La("script,style,template");class xb{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!bb.hasOwnProperty(c))return this.sanitizedSomething=!0,!tk.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=a.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,w=v.toLowerCase();if(!ek.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let I=m.value;wb[w]&&(I=zf(I)),this.buf.push(" ",v,'="',Eb(I),'"')}return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();bb.hasOwnProperty(c)&&!JC.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(Eb(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const nI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,wU=/([^\#-~ |!])/g;function Eb(o){return o.replace(/&/g,"&amp;").replace(nI,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(wU,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zs;function iI(o,a){let c=null;try{Zs=Zs||function XC(o){const a=new ZR(o);return function QR(){try{return!!(new window.DOMParser).parseFromString(fd(""),"text/html")}catch{return!1}}()?new Sg(a):a}(o);let d=a?String(a):"";c=Zs.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=c.innerHTML,c=Zs.getInertBodyElement(d)}while(d!==m);return fd((new xb).sanitizeChildren(rI(c)||c))}finally{if(c){const d=rI(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function rI(o){return"content"in o&&function xU(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var md=function(o){return o[o.NONE=0]="NONE",o[o.HTML=1]="HTML",o[o.STYLE=2]="STYLE",o[o.SCRIPT=3]="SCRIPT",o[o.URL=4]="URL",o[o.RESOURCE_URL=5]="RESOURCE_URL",o}(md||{});function Dg(o){const a=$f();return a?a.sanitize(md.URL,o)||"":kc(o,"URL")?Fa(o):zf(ae(o))}function aI(o){const a=$f();if(a)return YC(a.sanitize(md.RESOURCE_URL,o)||"");if(kc(o,"ResourceURL"))return YC(Fa(o));throw new J(904,!1)}function rk(o,a,c){return function ik(o,a){return"src"===a&&("embed"===o||"frame"===o||"iframe"===o||"media"===o||"script"===o)||"href"===a&&("base"===o||"link"===o)?aI:Dg}(a,c)(o)}function $f(){const o=Me();return o&&o[zo].sanitizer}class yn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=it({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const gd=new yn("ENVIRONMENT_INITIALIZER"),cI=new yn("INJECTOR",-1),uI=new yn("INJECTOR_DEF_TYPES");class Ag{get(a,c=Pn){if(c===Pn){const d=new Error(`NullInjectorError: No provider for ${re(a)}!`);throw d.name="NullInjectorError",d}return c}}function Cb(o){return{\u0275providers:o}}function sk(...o){return{\u0275providers:dI(0,o),\u0275fromNgModule:!0}}function dI(o,...a){const c=[],d=new Set;let f;const m=v=>{c.push(v)};return bl(a,v=>{const w=v;Tg(w,m,[],d)&&(f||=[],f.push(w))}),void 0!==f&&hI(f,m),c}function hI(o,a){for(let c=0;c<o.length;c++){const{ngModule:d,providers:f}=o[c];Ib(f,m=>{a(m,d)})}}function Tg(o,a,c,d){if(!(o=Te(o)))return!1;let f=null,m=wr(o);const v=!m&&Yt(o);if(m||v){if(v&&!v.standalone)return!1;f=o}else{const I=o.ngModule;if(m=wr(I),!m)return!1;f=I}const w=d.has(f);if(v){if(w)return!1;if(d.add(f),v.dependencies){const I="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of I)Tg(S,a,c,d)}}else{if(!m)return!1;{if(null!=m.imports&&!w){let S;d.add(f);try{bl(m.imports,M=>{Tg(M,a,c,d)&&(S||=[],S.push(M))})}finally{}void 0!==S&&hI(S,a)}if(!w){const S=uo(f)||(()=>new f);a({provide:f,useFactory:S,deps:Ke},f),a({provide:uI,useValue:f,multi:!0},f),a({provide:gd,useValue:()=>Ge(f),multi:!0},f)}const I=m.providers;if(null!=I&&!w){const S=o;Ib(I,M=>{a(M,S)})}}}return f!==o&&void 0!==o.providers}function Ib(o,a){for(let c of o)Ue(c)&&(c=c.\u0275providers),Array.isArray(c)?Ib(c,a):a(c)}const CU=j({provide:String,useValue:j});function fI(o){return null!==o&&"object"==typeof o&&CU in o}function _d(o){return"function"==typeof o}const Sb=new yn("Set Injector scope."),Ze={},ck={};let Db;function Q(){return void 0===Db&&(Db=new Ag),Db}class ${}class Yi extends ${get destroyed(){return this._destroyed}constructor(a,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mg(a,v=>this.processProvider(v)),this.records.set(cI,yd(void 0,this)),f.has("environment")&&this.records.set($,yd(void 0,this));const m=this.records.get(Sb);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(uI.multi,Ke,gt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const c of this._ngOnDestroyHooks)c.ngOnDestroy();const a=this._onDestroyHooks;this._onDestroyHooks=[];for(const c of a)c()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(a){return this.assertNotDestroyed(),this._onDestroyHooks.push(a),()=>this.removeOnDestroy(a)}runInContext(a){this.assertNotDestroyed();const c=ee(this),d=on(void 0);try{return a()}finally{ee(c),on(d)}}get(a,c=Pn,d=gt.Default){if(this.assertNotDestroyed(),a.hasOwnProperty(Iu))return a[Iu](this);d=en(d);const m=ee(this),v=on(void 0);try{if(!(d&gt.SkipSelf)){let I=this.records.get(a);if(void 0===I){const S=function Tb(o){return"function"==typeof o||"object"==typeof o&&o instanceof yn}(a)&&Dn(a);I=S&&this.injectableDefInScope(S)?yd(pr(a),Ze):null,this.records.set(a,I)}if(null!=I)return this.hydrate(a,I)}return(d&gt.Self?Q():this.parent).get(a,c=d&gt.Optional&&c===Pn?null:c)}catch(w){if("NullInjectorError"===w.name){if((w[jr]=w[jr]||[]).unshift(re(a)),m)throw w;return function ir(o,a,c,d){const f=o[jr];throw a[N]&&f.unshift(a[N]),o.message=function va(o,a,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=re(a);if(Array.isArray(a))f=a.map(re).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let w=a[v];m.push(v+":"+("string"==typeof w?JSON.stringify(w):re(w)))}f=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${o.replace(W,"\n  ")}`}("\n"+o.message,f,c,d),o.ngTokenPath=f,o[jr]=null,o}(w,a,"R3InjectorError",this.source)}throw w}finally{on(v),ee(m)}}resolveInjectorInitializers(){const a=ee(this),c=on(void 0);try{const f=this.get(gd.multi,Ke,gt.Self);for(const m of f)m()}finally{ee(a),on(c)}}toString(){const a=[],c=this.records;for(const d of c.keys())a.push(re(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(a){let c=_d(a=Te(a))?a:Te(a&&a.provide);const d=function pI(o){return fI(o)?yd(void 0,o.useValue):yd(Ab(o),Ze)}(a);if(_d(a)||!0!==a.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=yd(void 0,Ze,!0),f.factory=()=>St(f.multi),this.records.set(c,f)),c=a,f.multi.push(a)}this.records.set(c,d)}hydrate(a,c){return c.value===Ze&&(c.value=ck,c.value=c.factory()),"object"==typeof c.value&&c.value&&function mI(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(a){if(!a.providedIn)return!1;const c=Te(a.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}removeOnDestroy(a){const c=this._onDestroyHooks.indexOf(a);-1!==c&&this._onDestroyHooks.splice(c,1)}}function pr(o){const a=Dn(o),c=null!==a?a.factory:uo(o);if(null!==c)return c;if(o instanceof yn)throw new J(204,!1);if(o instanceof Function)return function uk(o){const a=o.length;if(a>0)throw na(a,"?"),new J(204,!1);const c=function Vr(o){return o&&(o[er]||o[tr])||null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new J(204,!1)}function Ab(o,a,c){let d;if(_d(o)){const f=Te(o);return uo(f)||pr(f)}if(fI(o))d=()=>Te(o.useValue);else if(function lk(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...St(o.deps||[]));else if(function ak(o){return!(!o||!o.useExisting)}(o))d=()=>Ge(Te(o.useExisting));else{const f=Te(o&&(o.useClass||o.provide));if(!function dk(o){return!!o.deps}(o))return uo(f)||pr(f);d=()=>new f(...St(o.deps))}return d}function yd(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function Mg(o,a){for(const c of o)Array.isArray(c)?Mg(c,a):c&&Ue(c)?Mg(c.\u0275providers,a):a(c)}const Rg=new yn("AppId",{providedIn:"root",factory:()=>Mb}),Mb="ng",gI=new yn("Platform Initializer"),Rb=new yn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),hk=new yn("AnimationModuleType"),fk=new yn("CSP nonce",{providedIn:"root",factory:()=>function Mc(){if(void 0!==$C)return $C;if(typeof document<"u")return document;throw new J(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Fb=(o,a,c)=>null;function qf(o,a,c=!1){return Fb(o,a,c)}class gk{}class zg{}class vd{resolveComponentFactory(a){throw function _k(o){const a=Error(`No component factory found for ${re(o)}.`);return a.ngComponent=o,a}(a)}}let bd=(()=>{class a{}return a.NULL=new vd,a})();function yk(){return wd(Fi(),Me())}function wd(o,a){return new xd(ur(o,a))}let xd=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=yk,a})();function vk(o){return o instanceof xd?o.nativeElement:o}class Il{}let CI=(()=>{class a{constructor(){this.destroyNode=null}}return a.__NG_ELEMENT_ID__=()=>function II(){const o=Me(),c=Ir(Fi().index,o);return(Cr(c)?c:o)[xt]}(),a})(),bk=(()=>{var o;class a{}return(o=a).\u0275prov=it({token:o,providedIn:"root",factory:()=>null}),a})();class SI{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const Sl=new SI("16.2.10"),Kf={};function AI(o,a=null,c=null,d){const f=Gg(o,a,c,d);return f.resolveInjectorInitializers(),f}function Gg(o,a=null,c=null,d,f=new Set){const m=[c||Ke,sk(o)];return d=d||("object"==typeof o?void 0:re(o)),new Yi(m,a||Q(),d||null,f)}let xo=(()=>{var o;class a{static create(d,f){if(Array.isArray(d))return AI({name:""},f,d,"");{const m=d.name??"";return AI({name:m},d.parent,d.providers,m)}}}return(o=a).THROW_IF_NOT_FOUND=Pn,o.NULL=new Ag,o.\u0275prov=it({token:o,providedIn:"any",factory:()=>Ge(cI)}),o.__NG_ELEMENT_ID__=-1,a})();function qg(o){return o.ngOriginalError}class Dl{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a);this._console.error("ERROR",a),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(a){let c=a&&qg(a);for(;c&&qg(c);)c=qg(c);return c||null}}function Zf(o){return a=>{setTimeout(o,void 0,a)}}const oa=class Wb extends u.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,d){let f=a,m=c||(()=>null),v=d;if(a&&"object"==typeof a){const I=a;f=I.next?.bind(I),m=I.error?.bind(I),v=I.complete?.bind(I)}this.__isAsync&&(m=Zf(m),f&&(f=Zf(f)),v&&(v=Zf(v)));const w=super.subscribe({next:f,error:m,complete:v});return a instanceof V.w0&&a.add(w),w}};function Yg(...o){}class Di{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new oa(!1),this.onMicrotaskEmpty=new oa(!1),this.onStable=new oa(!1),this.onError=new oa(!1),typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function TI(){const o="function"==typeof zt.requestAnimationFrame;let a=zt[o?"requestAnimationFrame":"setTimeout"],c=zt[o?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&a&&c){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const f=c[Zone.__symbol__("OriginalDelegate")];f&&(c=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function Ck(o){const a=()=>{!function Ek(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(zt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Yb(o),o.isCheckStableRunning=!0,qb(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Yb(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,m,v,w)=>{if(function Kb(o){return!(!Array.isArray(o)||1!==o.length)&&!0===o[0].data?.__ignore_ng_zone__}(w))return c.invokeTask(f,m,v,w);try{return RI(o),c.invokeTask(f,m,v,w)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&a(),Kg(o)}},onInvoke:(c,d,f,m,v,w,I)=>{try{return RI(o),c.invoke(f,m,v,w,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),Kg(o)}},onHasTask:(c,d,f,m)=>{c.hasTask(f,m),d===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Yb(o),qb(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,f,m)=>(c.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Di.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(Di.isInAngularZone())throw new J(909,!1)}run(a,c,d){return this._inner.run(a,c,d)}runTask(a,c,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,a,MI,Yg,Yg);try{return m.runTask(v,c,d)}finally{m.cancelTask(v)}}runGuarded(a,c,d){return this._inner.runGuarded(a,c,d)}runOutsideAngular(a){return this._outer.run(a)}}const MI={};function qb(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Yb(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function RI(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Kg(o){o._nesting--,qb(o)}class Ik{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new oa,this.onMicrotaskEmpty=new oa,this.onStable=new oa,this.onError=new oa}run(a,c,d){return a.apply(c,d)}runGuarded(a,c,d){return a.apply(c,d)}runOutsideAngular(a){return a()}runTask(a,c,d,f){return a.apply(c,d)}}const Zg=new yn("",{providedIn:"root",factory:kI});function kI(){const o=Xe(Di);let a=!0;const c=new L.y(f=>{a=o.isStable&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks,o.runOutsideAngular(()=>{f.next(a),f.complete()})}),d=new L.y(f=>{let m;o.runOutsideAngular(()=>{m=o.onStable.subscribe(()=>{Di.assertNotInAngularZone(),queueMicrotask(()=>{!a&&!o.hasPendingMacrotasks&&!o.hasPendingMicrotasks&&(a=!0,f.next(!0))})})});const v=o.onUnstable.subscribe(()=>{Di.assertInAngularZone(),a&&(a=!1,o.runOutsideAngular(()=>{f.next(!1)}))});return()=>{m.unsubscribe(),v.unsubscribe()}});return(0,ie.T)(c,d.pipe((0,Se.B)()))}function Eo(o){return o instanceof Function?o():o}let Xb=(()=>{var o;class a{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(o=a).\u0275prov=it({token:o,providedIn:"root",factory:()=>new o}),a})();function Jf(o){for(;o;){o[Pt]|=64;const a=Pa(o);if(ll(o)&&!a)return o;o=a}return null}const Jg=new yn("",{providedIn:"root",factory:()=>!1});let t_=null;function n_(o,a){return o[a]??Ok()}function BI(o,a){const c=Ok();c.producerNode?.length&&(o[a]=t_,c.lView=o,t_=i_())}const kk={...Xh,consumerIsAlwaysLive:!0,consumerMarkedDirty:o=>{Jf(o.lView)},lView:null};function i_(){return Object.create(kk)}function Ok(){return t_??=i_(),t_}const Vt={};function Nk(o){Pk(Qt(),Me(),dr()+o,!1)}function Pk(o,a,c,d){if(!d)if(3==(3&a[Pt])){const m=o.preOrderCheckHooks;null!==m&&Ca(a,m,c)}else{const m=o.preOrderHooks;null!==m&&_l(a,m,0,c)}po(c)}function Va(o,a=gt.Default){const c=Me();return null===c?Ge(o,a):xf(Fi(),c,Te(o),a)}function Fk(){throw new Error("invalid")}function r_(o,a,c,d,f,m,v,w,I,S,M){const U=a.blueprint.slice();return U[kn]=f,U[Pt]=140|d,(null!==S||o&&2048&o[Pt])&&(U[Pt]|=2048),zm(U),U[bn]=U[hi]=o,U[Mn]=c,U[zo]=v||o&&o[zo],U[xt]=w||o&&o[xt],U[ao]=I||o&&o[ao]||null,U[sr]=m,U[lo]=function mg(){return CR++}(),U[Gs]=M,U[Am]=S,U[fi]=2==a.type?o[fi]:U,U}function Id(o,a,c,d,f){let m=o.data[a];if(null===m)m=function Jb(o,a,c,d,f){const m=Wu(),v=Ym(),I=o.data[a]=function PU(o,a,c,d,f,m){let v=a?a.injectorIndex:-1,w=0;return Wo()&&(w|=128),{type:c,index:d,insertBeforeIndex:null,injectorIndex:v,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,a,d,f);return null===o.firstChild&&(o.firstChild=I),null!==m&&(v?null==m.child&&null!==I.parent&&(m.child=I):null===m.next&&(m.next=I,I.prev=m)),I}(o,a,c,d,f),function Gv(){return Dt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=c,m.value=d,m.attrs=f;const v=function fc(){const o=Dt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return qs(m,!0),m}function ep(o,a,c,d){if(0===c)return-1;const f=a.length;for(let m=0;m<c;m++)a.push(d),o.blueprint.push(d),o.data.push(null);return f}function VI(o,a,c,d,f){const m=n_(a,Pu),v=dr(),w=2&d;try{po(-1),w&&a.length>Kt&&Pk(o,a,Kt,!1),Ws(w?2:0,f);const S=w?m:null,M=Om(S);try{null!==S&&(S.dirty=!1),c(d,f)}finally{Bu(S,M)}}finally{w&&null===a[Pu]&&BI(a,Pu),po(v),Ws(w?3:1,f)}}function e0(o,a,c){if(Wh(a)){const d=cr(null);try{const m=a.directiveEnd;for(let v=a.directiveStart;v<m;v++){const w=o.data[v];w.contentQueries&&w.contentQueries(1,c[v],v)}}finally{cr(d)}}}function t0(o,a,c){fl()&&(function o0(o,a,c,d){const f=c.directiveStart,m=c.directiveEnd;co(c)&&function WI(o,a,c){const d=ur(a,o),f=UI(c);let v=16;c.signals?v=4096:c.onPush&&(v=64);const w=tp(o,r_(o,f,null,v,d,a,null,o[zo].rendererFactory.createRenderer(d,c),null,null,null));o[a.index]=w}(a,c,o.data[f+c.componentOffset]),o.firstCreatePass||En(c,a),Dr(d,a);const v=c.initialInputs;for(let w=f;w<m;w++){const I=o.data[w],S=Ta(a,o,w,c);Dr(S,a),null!==v&&Yk(0,w-f,S,I,0,v),as(I)&&(Ir(c.index,a)[Mn]=Ta(a,o,w,c))}}(o,a,c,ur(c,a)),64==(64&c.flags)&&GI(o,a,c))}function n0(o,a,c=ur){const d=a.localNames;if(null!==d){let f=a.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],w=-1===v?c(a,o):o[v];o[f++]=w}}}function UI(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Sd(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts,o.id):a}function Sd(o,a,c,d,f,m,v,w,I,S,M){const U=Kt+d,Y=U+f,te=function Fc(o,a){const c=[];for(let d=0;d<a;d++)c.push(d<o?null:Vt);return c}(U,Y),xe="function"==typeof S?S():S;return te[We]={type:o,blueprint:te,template:c,queries:null,viewQuery:w,declTNode:a,data:te.slice().fill(null,U),bindingStartIndex:U,expandoStartIndex:Y,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:I,consts:xe,incompleteFirstPass:!1,ssrId:M}}let jI=o=>null;function s_(o,a,c,d){for(let f in o)if(o.hasOwnProperty(f)){c=null===c?{}:c;const m=o[f];null===d?zI(c,a,f,m):d.hasOwnProperty(f)&&zI(c,a,d[f],m)}return c}function zI(o,a,c,d){o.hasOwnProperty(c)?o[c].push(a,d):o[c]=[a,d]}function fs(o,a,c,d,f,m,v,w){const I=ur(a,c);let M,S=a.inputs;!w&&null!=S&&(M=S[d])?(Dd(o,c,M,d,f),co(a)&&function HI(o,a){const c=Ir(a,o);16&c[Pt]||(c[Pt]|=64)}(c,a.index)):3&a.type&&(d=function Hk(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,a.value||"",d):f,m.setProperty(I,d,f))}function o_(o,a,c,d){if(fl()){const f=null===d?null:{"":-1},m=function a0(o,a){const c=o.directiveRegistry;let d=null,f=null;if(c)for(let m=0;m<c.length;m++){const v=c[m];if(Du(a,v.selectors,!1))if(d||(d=[]),as(v))if(null!==v.findHostDirectiveDefs){const w=[];f=f||new Map,v.findHostDirectiveDefs(v,w,f),d.unshift(...w,v),l0(o,a,w.length)}else d.unshift(v),l0(o,a,0);else f=f||new Map,v.findHostDirectiveDefs?.(v,d,f),d.push(v)}return null===d?null:[d,f]}(o,c);let v,w;null===m?v=w=null:[v,w]=m,null!==v&&a_(o,a,c,v,f,w),f&&function Wk(o,a,c){if(a){const d=o.localNames=[];for(let f=0;f<a.length;f+=2){const m=c[a[f+1]];if(null==m)throw new J(-301,!1);d.push(a[f],m)}}}(c,d,f)}c.mergedAttrs=ec(c.mergedAttrs,c.attrs)}function a_(o,a,c,d,f,m){for(let S=0;S<d.length;S++)yl(En(c,a),o,d[S].type);!function Ua(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}(c,o.data.length,d.length);for(let S=0;S<d.length;S++){const M=d[S];M.providersResolver&&M.providersResolver(M)}let v=!1,w=!1,I=ep(o,a,d.length,null);for(let S=0;S<d.length;S++){const M=d[S];c.mergedAttrs=ec(c.mergedAttrs,M.hostAttrs),c0(o,c,a,I,M),qk(I,M,f),null!==M.contentQueries&&(c.flags|=4),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(c.flags|=64);const U=M.type.prototype;!v&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((o.preOrderHooks??=[]).push(c.index),v=!0),!w&&(U.ngOnChanges||U.ngDoCheck)&&((o.preOrderCheckHooks??=[]).push(c.index),w=!0),I++}!function r0(o,a,c){const f=a.directiveEnd,m=o.data,v=a.attrs,w=[];let I=null,S=null;for(let M=a.directiveStart;M<f;M++){const U=m[M],Y=c?c.get(U):null,xe=Y?Y.outputs:null;I=s_(U.inputs,M,I,Y?Y.inputs:null),S=s_(U.outputs,M,S,xe);const je=null===I||null===v||tc(a)?null:qI(I,M,v);w.push(je)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=8),I.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=w,a.inputs=I,a.outputs=S}(o,c,m)}function GI(o,a,c){const d=c.directiveStart,f=c.directiveEnd,m=c.index,v=function bC(){return Dt.lFrame.currentDirectiveIndex}();try{po(m);for(let w=d;w<f;w++){const I=o.data[w],S=a[w];Qm(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Gk(I,S)}}finally{po(-1),Qm(v)}}function Gk(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function l0(o,a,c){a.componentOffset=c,(o.components??=[]).push(a.index)}function qk(o,a,c){if(c){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)c[a.exportAs[d]]=o;as(a)&&(c[""]=o)}}function c0(o,a,c,d,f){o.data[d]=f;const m=f.factory||(f.factory=uo(f.type)),v=new Yo(m,as(f),Va);o.blueprint[d]=v,c[d]=v,function $I(o,a,c,d,f){const m=f.hostBindings;if(m){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const w=~a.index;(function s0(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(v)!=w&&v.push(w),v.push(c,d,m)}}(o,a,d,ep(o,c,f.hostVars,Vt),f)}function Qs(o,a,c,d,f,m){const v=ur(o,a);!function u0(o,a,c,d,f,m,v){if(null==m)o.removeAttribute(a,f,c);else{const w=null==v?ae(m):v(m,d||"",f);o.setAttribute(a,f,w,c)}}(a[xt],v,m,o.value,c,d,f)}function Yk(o,a,c,d,f,m){const v=m[a];if(null!==v)for(let w=0;w<v.length;)l_(d,c,v[w++],v[w++],v[w++])}function l_(o,a,c,d,f){const m=cr(null);try{const v=o.inputTransforms;null!==v&&v.hasOwnProperty(d)&&(f=v[d].call(a,f)),null!==o.setInput?o.setInput(a,f,c,d):a[d]=f}finally{cr(m)}}function qI(o,a,c){let d=null,f=0;for(;f<c.length;){const m=c[f];if(0!==m)if(5!==m){if("number"==typeof m)break;if(o.hasOwnProperty(m)){null===d&&(d=[]);const v=o[m];for(let w=0;w<v.length;w+=2)if(v[w]===a){d.push(m,v[w+1],c[f+1]);break}}f+=2}else f+=2;else f+=4}return d}function YI(o,a,c,d){return[o,!0,!1,a,null,0,d,c,null,null,null]}function KI(o,a){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const m=c[d+1];if(-1!==m){const v=o.data[m];Xm(c[d]),v.contentQueries(2,a[m],m)}}}function tp(o,a){return o[rc]?o[$s][Hr]=a:o[rc]=a,o[$s]=a,a}function d0(o,a,c){Xm(0);const d=cr(null);try{a(o,c)}finally{cr(d)}}function ZI(o){return o[ba]||(o[ba]=[])}function QI(o){return o.cleanup||(o.cleanup=[])}function XI(o,a,c){return(null===o||as(o))&&(c=function dc(o){for(;Array.isArray(o);){if("object"==typeof o[Gh])return o;o=o[kn]}return null}(c[a.index])),c[xt]}function JI(o,a){const c=o[ao],d=c?c.get(Dl,null):null;d&&d.handleError(a)}function Dd(o,a,c,d,f){for(let m=0;m<c.length;){const v=c[m++],w=c[m++];l_(o.data[v],a[v],d,w,f)}}function Zk(o,a){const c=Ir(a,o),d=c[We];!function h0(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])}(d,c);const f=c[kn];null!==f&&null===c[Gs]&&(c[Gs]=qf(f,c[ao])),f0(d,c,c[Mn])}function f0(o,a,c){On(a);try{const d=o.viewQuery;null!==d&&d0(1,d,c);const f=o.template;null!==f&&VI(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&KI(o,a),o.staticViewQueries&&d0(2,o.viewQuery,c);const m=o.components;null!==m&&function eS(o,a){for(let c=0;c<a.length;c++)Zk(o,a[c])}(a,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{a[Pt]&=-5,Ii()}}let tS=(()=>{var o;class a{constructor(){this.all=new Set,this.queue=new Map}create(d,f,m){const v=typeof Zone>"u"?null:Zone.current,w=function Vm(o,a,c){const d=Object.create(Pv);c&&(d.consumerAllowSignalWrites=!0),d.fn=o,d.schedule=a;const f=v=>{d.cleanupFn=v};return d.ref={notify:()=>Av(d),run:()=>{if(d.dirty=!1,d.hasRun&&!Tv(d))return;d.hasRun=!0;const v=Om(d);try{d.cleanupFn(),d.cleanupFn=Um,d.fn(f)}finally{Bu(d,v)}},cleanup:()=>d.cleanupFn()},d.ref}(d,M=>{this.all.has(M)&&this.queue.set(M,v)},m);let I;this.all.add(w),w.notify();const S=()=>{w.cleanup(),I?.(),this.all.delete(w),this.queue.delete(w)};return I=f?.onDestroy(S),{destroy:S}}flush(){if(0!==this.queue.size)for(const[d,f]of this.queue)this.queue.delete(d),f?f.run(()=>d.run()):d.run()}get isQueueEmpty(){return 0===this.queue.size}}return(o=a).\u0275prov=it({token:o,providedIn:"root",factory:()=>new o}),a})();function c_(o,a,c){let d=c?o.styles:null,f=c?o.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const w=a[v];"number"==typeof w?m=w:1==m?f=Re(f,w):2==m&&(d=Re(d,w+": "+a[++v]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=f:o.classesWithoutHost=f}function np(o,a,c,d,f=!1){for(;null!==c;){const m=a[c.index];null!==m&&d.push(fn(m)),$i(m)&&nS(m,d);const v=c.type;if(8&v)np(o,a,c.child,d);else if(32&v){const w=As(c,a);let I;for(;I=w();)d.push(I)}else if(16&v){const w=hb(a,c);if(Array.isArray(w))d.push(...w);else{const I=Pa(a[fi]);np(I[We],I,w,d,!0)}}c=f?c.projectionNext:c.next}return d}function nS(o,a){for(let c=pi;c<o.length;c++){const d=o[c],f=d[We].firstChild;null!==f&&np(d[We],d,f,a)}o[ar]!==o[kn]&&a.push(o[ar])}function aa(o,a,c,d=!0){const f=a[zo],m=f.rendererFactory,v=f.afterRenderEventManager;m.begin?.(),v?.begin();try{g0(o,a,o.template,c)}catch(I){throw d&&JI(a,I),I}finally{m.end?.(),f.effectManager?.flush(),v?.end()}}function g0(o,a,c,d){const f=a[Pt];if(256!=(256&f)){a[zo].effectManager?.flush(),On(a);try{zm(a),function $v(o){return Dt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&VI(o,a,c,2,d);const v=3==(3&f);if(v){const S=o.preOrderCheckHooks;null!==S&&Ca(a,S,null)}else{const S=o.preOrderHooks;null!==S&&_l(a,S,0,null),Yu(a,0)}if(function _0(o){for(let a=OC(o);null!==a;a=lb(a)){if(!a[sc])continue;const c=a[al];for(let d=0;d<c.length;d++){hc(c[d])}}}(a),u_(a,2),null!==o.contentQueries&&KI(o,a),v){const S=o.contentCheckHooks;null!==S&&Ca(a,S)}else{const S=o.contentHooks;null!==S&&_l(a,S,1),Yu(a,1)}!function Lk(o,a){const c=o.hostBindingOpCodes;if(null===c)return;const d=n_(a,os);try{for(let f=0;f<c.length;f++){const m=c[f];if(m<0)po(~m);else{const v=m,w=c[++f],I=c[++f];Zm(w,v),d.dirty=!1;const S=Om(d);try{I(2,a[v])}finally{Bu(d,S)}}}}finally{null===a[os]&&BI(a,os),po(-1)}}(o,a);const w=o.components;null!==w&&d_(a,w,0);const I=o.viewQuery;if(null!==I&&d0(2,I,d),v){const S=o.viewCheckHooks;null!==S&&Ca(a,S)}else{const S=o.viewHooks;null!==S&&_l(a,S,2),Yu(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),a[Pt]&=-73,Vv(a)}finally{Ii()}}}function u_(o,a){for(let c=OC(o);null!==c;c=lb(c))for(let d=pi;d<c.length;d++)rS(c[d],a)}function y0(o,a,c){rS(Ir(a,o),c)}function rS(o,a){if(!function yC(o){return 128==(128&o[Pt])}(o))return;const c=o[We],d=o[Pt];if(80&d&&0===a||1024&d||2===a)g0(c,o,c.template,o[Mn]);else if(o[oo]>0){u_(o,1);const f=c.components;null!==f&&d_(o,f,1)}}function d_(o,a,c){for(let d=0;d<a.length;d++)y0(o,a[d],c)}class Lc{get rootNodes(){const a=this._lView,c=a[We];return np(c,a,c.firstChild,[])}constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mn]}set context(a){this._lView[Mn]=a}get destroyed(){return 256==(256&this._lView[Pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[bn];if($i(a)){const c=a[8],d=c?c.indexOf(this):-1;d>-1&&(bg(a,d),wl(c,d))}this._attachedToViewContainer=!1}cb(this._lView[We],this._lView)}onDestroy(a){!function hf(o,a){if(256==(256&o[Pt]))throw new J(911,!1);null===o[wa]&&(o[wa]=[]),o[wa].push(a)}(this._lView,a)}markForCheck(){Jf(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pt]&=-129}reattach(){this._lView[Pt]|=128}detectChanges(){aa(this._lView[We],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Pf(o,a){Vf(o,a,a[xt],2,null,null)}(this._lView[We],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=a}}class Qk extends Lc{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;aa(a[We],a,a[Mn],!1)}checkNoChanges(){}get context(){return null}}class Ki extends bd{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=Yt(a);return new Bc(c,this.ngModule)}}function sS(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}class Xk{constructor(a,c){this.injector=a,this.parentInjector=c}get(a,c,d){d=en(d);const f=this.injector.get(a,Kf,d);return f!==Kf||c===Kf?f:this.parentInjector.get(a,c,d)}}class Bc extends zg{get inputs(){const a=this.componentDef,c=a.inputTransforms,d=sS(a.inputs);if(null!==c)for(const f of d)c.hasOwnProperty(f.propName)&&(f.transform=c[f.propName]);return d}get outputs(){return sS(this.componentDef.outputs)}constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=function uC(o){return o.map(Au).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}create(a,c,d,f){let m=(f=f||this.ngModule)instanceof $?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new Xk(a,m):a,w=v.get(Il,null);if(null===w)throw new J(407,!1);const U={rendererFactory:w,sanitizer:v.get(bk,null),effectManager:v.get(tS,null),afterRenderEventManager:v.get(Xb,null)},Y=w.createRenderer(null,this.componentDef),te=this.componentDef.selectors[0][0]||"div",xe=d?function Bk(o,a,c,d){const m=d.get(Jg,!1)||c===Fe.ShadowDom,v=o.selectRootElement(a,m);return function Vk(o){jI(o)}(v),v}(Y,d,this.componentDef.encapsulation,v):vg(Y,te,function v0(o){const a=o.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(te)),_t=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ke=null;null!==xe&&(ke=qf(xe,v,!0));const kt=Sd(0,null,null,1,0,null,null,null,null,null,null),qt=r_(null,kt,null,_t,null,null,U,Y,v,null,ke);let Cn,ks;On(qt);try{const kl=this.componentDef;let ru,cA=null;kl.findHostDirectiveDefs?(ru=[],cA=new Map,kl.findHostDirectiveDefs(kl,ru,cA),ru.push(kl)):ru=[kl];const sH=function b0(o,a){const c=o[We],d=Kt;return o[d]=a,Id(c,d,2,"#host",null)}(qt,xe),$N=function w0(o,a,c,d,f,m,v){const w=f[We];!function x0(o,a,c,d){for(const f of o)a.mergedAttrs=ec(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(c_(a,a.mergedAttrs,!0),null!==c&&Uf(d,c,a))}(d,o,a,v);let I=null;null!==a&&(I=qf(a,f[ao]));const S=m.rendererFactory.createRenderer(a,c);let M=16;c.signals?M=4096:c.onPush&&(M=64);const U=r_(f,UI(c),null,M,f[o.index],o,m,S,null,null,I);return w.firstCreatePass&&l0(w,o,d.length-1),tp(f,U),f[o.index]=U}(sH,xe,kl,ru,qt,U,Y);ks=uf(kt,Kt),xe&&function aS(o,a,c,d){if(d)rl(o,c,["ng-version",Sl.full]);else{const{attrs:f,classes:m}=function zr(o){const a=[],c=[];let d=1,f=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===f?""!==m&&a.push(m,o[++d]):8===f&&c.push(m);else{if(!Er(f))break;f=m}d++}return{attrs:a,classes:c}}(a.selectors[0]);f&&rl(o,c,f),m&&m.length>0&&zC(o,c,m.join(" "))}}(Y,kl,xe,d),void 0!==c&&function Jk(o,a,c){const d=o.projection=[];for(let f=0;f<a.length;f++){const m=c[f];d.push(null!=m?Array.from(m):null)}}(ks,this.ngContentSelectors,c),Cn=function E0(o,a,c,d,f,m){const v=Fi(),w=f[We],I=ur(v,f);a_(w,f,v,c,null,d);for(let M=0;M<c.length;M++)Dr(Ta(f,w,v.directiveStart+M,v),f);GI(w,f,v),I&&Dr(I,f);const S=Ta(f,w,v.directiveStart+v.componentOffset,v);if(o[Mn]=f[Mn]=S,null!==m)for(const M of m)M(S,a);return e0(w,v,o),S}($N,kl,ru,cA,qt,[eO]),f0(kt,qt,null)}finally{Ii()}return new oS(this.componentType,Cn,wd(ks,qt),qt,ks)}}class oS extends gk{constructor(a,c,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.previousInputValues=null,this.instance=c,this.hostView=this.changeDetectorRef=new Qk(f),this.componentType=a}setInput(a,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[a])){if(this.previousInputValues??=new Map,this.previousInputValues.has(a)&&Object.is(this.previousInputValues.get(a),c))return;const m=this._rootLView;Dd(m[We],m,f,a,c),this.previousInputValues.set(a,c),Jf(Ir(this._tNode.index,m))}}get injector(){return new _i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function eO(){const o=Fi();gl(Me()[We],o)}function f_(o){let a=function h_(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;a;){let f;if(as(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new J(903,!1);f=a.\u0275dir}if(f){if(c){d.push(f);const v=o;v.inputs=p_(o.inputs),v.inputTransforms=p_(o.inputTransforms),v.declaredInputs=p_(o.declaredInputs),v.outputs=p_(o.outputs);const w=f.hostBindings;w&&S0(o,w);const I=f.viewQuery,S=f.contentQueries;if(I&&I0(o,I),S&&lS(o,S),z(o.inputs,f.inputs),z(o.declaredInputs,f.declaredInputs),z(o.outputs,f.outputs),null!==f.inputTransforms&&(null===v.inputTransforms&&(v.inputTransforms={}),z(v.inputTransforms,f.inputTransforms)),as(f)&&f.data.animation){const M=o.data;M.animation=(M.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const w=m[v];w&&w.ngInherit&&w(o),w===f_&&(c=!1)}}a=Object.getPrototypeOf(a)}!function C0(o){let a=0,c=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=a+=f.hostVars,f.hostAttrs=ec(f.hostAttrs,c=ec(c,f.hostAttrs))}}(d)}function p_(o){return o===ot?{}:o===Ke?[]:o}function I0(o,a){const c=o.viewQuery;o.viewQuery=c?(d,f)=>{a(d,f),c(d,f)}:a}function lS(o,a){const c=o.contentQueries;o.contentQueries=c?(d,f,m)=>{a(d,f,m),c(d,f,m)}:a}function S0(o,a){const c=o.hostBindings;o.hostBindings=c?(d,f)=>{a(d,f),c(d,f)}:a}function hS(o){const a=o.inputConfig,c={};for(const d in a)if(a.hasOwnProperty(d)){const f=a[d];Array.isArray(f)&&f[2]&&(c[d]=f[2])}o.inputTransforms=c}function m_(o){return!!M0(o)&&(Array.isArray(o)||!(o instanceof Map)&&Symbol.iterator in o)}function M0(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function gr(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function k0(o,a,c,d){const f=Me();return gr(f,pc(),a)&&(Qt(),Qs(Rn(),f,o,a,c,d)),k0}function x_(o,a,c,d,f,m,v,w){const I=Me(),S=Qt(),M=o+Kt,U=S.firstCreatePass?function mO(o,a,c,d,f,m,v,w,I){const S=a.consts,M=Id(a,o,4,v||null,Go(S,w));o_(a,c,M,Go(S,I)),gl(a,M);const U=M.tView=Sd(2,M,d,f,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,S,null);return null!==a.queries&&(a.queries.template(a,M),U.queries=a.queries.embeddedTView(M)),M}(M,S,I,a,c,d,f,m,v):S.data[M];qs(U,!1);const Y=CS(S,I,U,o);mo()&&Lf(S,I,Y,U),Dr(Y,I),tp(I,I[M]=YI(Y,I,Y,U)),ac(U)&&t0(S,I,U),null!=v&&n0(I,U,w)}let CS=function E_(o,a,c,d){return go(!0),a[xt].createComment("")};function C_(o){return function hl(o,a){return o[a]}(function zv(){return Dt.lFrame.contextLView}(),Kt+o)}function j0(o,a,c){const d=Me();return gr(d,pc(),a)&&fs(Qt(),Rn(),d,o,a,d[xt],c,!1),j0}function lp(o,a,c,d,f){const v=f?"class":"style";Dd(o,c,a.inputs[v],v,d)}function Od(o,a,c,d){const f=Me(),m=Qt(),v=Kt+o,w=f[xt],I=m.firstCreatePass?function yO(o,a,c,d,f,m){const v=a.consts,I=Id(a,o,2,d,Go(v,f));return o_(a,c,I,Go(v,m)),null!==I.attrs&&c_(I,I.attrs,!1),null!==I.mergedAttrs&&c_(I,I.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,I),I}(v,m,f,a,c,d):m.data[v],S=z0(m,f,I,w,a,o);f[v]=S;const M=ac(I);return qs(I,!0),Uf(w,S,I),32!=(32&I.flags)&&mo()&&Lf(m,f,S,I),0===function $m(){return Dt.lFrame.elementDepthCount}()&&Dr(S,f),function Gm(){Dt.lFrame.elementDepthCount++}(),M&&(t0(m,f,I),e0(m,I,f)),null!==d&&n0(f,I),Od}function Nd(){let o=Fi();Ym()?Km():(o=o.parent,qs(o,!1));const a=o;(function pl(o){return Dt.skipHydrationRootTNode===o})(a)&&function qm(){Dt.skipHydrationRootTNode=null}(),function Uv(){Dt.lFrame.elementDepthCount--}();const c=Qt();return c.firstCreatePass&&(gl(c,o),Wh(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function _o(o){return 0!=(8&o.flags)}(a)&&lp(c,a,Me(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function yo(o){return 0!=(16&o.flags)}(a)&&lp(c,a,Me(),a.stylesWithoutHost,!1),Nd}function I_(o,a,c,d){return Od(o,a,c,d),Nd(),I_}let z0=(o,a,c,d,f,m)=>(go(!0),vg(d,f,function eg(){return Dt.lFrame.currentNamespace}()));function W0(){return Me()}function D_(o){return!!o&&"function"==typeof o.then}function Io(o){return!!o&&"function"==typeof o.subscribe}function up(o,a,c,d){const f=Me(),m=Qt(),v=Fi();return DS(m,f,f[xt],v,o,a,d),up}function SS(o,a){const c=Fi(),d=Me(),f=Qt();return DS(f,d,XI(gf(f.data),c,d),c,o,a),SS}function DS(o,a,c,d,f,m,v){const w=ac(d),S=o.firstCreatePass&&QI(o),M=a[Mn],U=ZI(a);let Y=!0;if(3&d.type||v){const je=ur(d,a),Je=v?v(je):je,_t=U.length,ke=v?qt=>v(fn(qt[d.index])):d.index;let kt=null;if(!v&&w&&(kt=function wO(o,a,c,d){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===c&&f[m+1]===d){const w=a[ba],I=f[m+2];return w.length>I?w[I]:null}"string"==typeof v&&(m+=2)}return null}(o,a,f,d.index)),null!==kt)(kt.__ngLastListenerFn__||kt).__ngNextListenerFn__=m,kt.__ngLastListenerFn__=m,Y=!1;else{m=TS(d,a,M,m,!1);const qt=c.listen(Je,f,m);U.push(m,qt),S&&S.push(f,ke,_t,_t+1)}}else m=TS(d,a,M,m,!1);const te=d.outputs;let xe;if(Y&&null!==te&&(xe=te[f])){const je=xe.length;if(je)for(let Je=0;Je<je;Je+=2){const Cn=a[xe[Je]][xe[Je+1]].subscribe(m),ks=U.length;U.push(m,Cn),S&&S.push(f,d.index,ks,-(ks+1))}}}function AS(o,a,c,d){try{return Ws(6,a,c),!1!==c(d)}catch(f){return JI(o,f),!1}finally{Ws(7,a,c)}}function TS(o,a,c,d,f){return function m(v){if(v===Function)return d;Jf(o.componentOffset>-1?Ir(o.index,a):a);let I=AS(a,c,d,v),S=m.__ngNextListenerFn__;for(;S;)I=AS(a,c,S,v)&&I,S=S.__ngNextListenerFn__;return f&&!1===I&&v.preventDefault(),I}}function MS(o=1){return function qu(o){return(Dt.lFrame.contextLView=function yf(o,a){for(;o>0;)a=a[hi],o--;return a}(o,Dt.lFrame.contextLView))[Mn]}(o)}function q0(o,a){let c=null;const d=function _v(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(!(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const m=a[f];if("*"!==m){if(null===d?Du(o,m,!0):Bh(d,m))return f}else c=f}return c}function xO(o){const a=Me()[fi][sr];if(!a.projection){const d=a.projection=na(o?o.length:1,null),f=d.slice();let m=a.child;for(;null!==m;){const v=o?q0(m,o):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function EO(o,a=0,c){const d=Me(),f=Qt(),m=Id(f,Kt+o,16,null,c||null);null===m.projection&&(m.projection=a),Km(),(!d[Gs]||Wo())&&32!=(32&m.flags)&&function pb(o,a,c){mb(a[xt],0,a,c,hd(o,c,a),VC(c.parent||a[sr],c,a))}(f,d,m)}function T_(o,a){return o<<17|a<<2}function So(o){return o>>17&32767}function X0(o){return 2|o}function za(o){return(131068&o)>>2}function Hc(o,a){return-131069&o|a<<2}function J0(o){return 1|o}function Pd(o,a,c,d,f){const m=o[c+1],v=null===a;let w=d?So(m):za(m),I=!1;for(;0!==w&&(!1===I||v);){const M=o[w+1];Fd(o[w],a)&&(I=!0,o[w+1]=d?J0(M):X0(M)),w=d?So(M):za(M)}I&&(o[c+1]=d?X0(m):J0(m))}function Fd(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&xl(o,a)>=0}function ms(o,a){return function ua(o,a,c,d){const f=Me(),m=Qt(),v=function Sr(o){const a=Dt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}(2);m.firstUpdatePass&&function NS(o,a,c,d){const f=o.data;if(null===f[c+1]){const m=f[dr()],v=function OS(o,a){return a>=o.expandoStartIndex}(o,c);(function LS(o,a){return 0!=(o.flags&(a?8:16))})(m,d)&&null===a&&!v&&(a=!1),a=function gs(o,a,c,d){const f=gf(o);let m=d?a.residualClasses:a.residualStyles;if(null===f)0===(d?a.classBindings:a.styleBindings)&&(c=Wc(c=iw(null,o,a,c,d),a.attrs,d),m=null);else{const v=a.directiveStylingLast;if(-1===v||o[v]!==f)if(c=iw(f,o,a,c,d),null===m){let I=function Ts(o,a,c){const d=c?a.classBindings:a.styleBindings;if(0!==za(d))return o[So(d)]}(o,a,d);void 0!==I&&Array.isArray(I)&&(I=iw(null,o,a,I[1],d),I=Wc(I,a.attrs,d),function da(o,a,c,d){o[So(c?a.classBindings:a.styleBindings)]=d}(o,a,d,I))}else m=function HU(o,a,c){let d;const f=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<f;m++)d=Wc(d,o[m].hostAttrs,c);return Wc(d,a.attrs,c)}(o,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),c}(f,m,a,d),function dp(o,a,c,d,f,m){let v=m?a.classBindings:a.styleBindings,w=So(v),I=za(v);o[d]=c;let M,S=!1;if(Array.isArray(c)?(M=c[1],(null===M||xl(c,M)>0)&&(S=!0)):M=c,f)if(0!==I){const Y=So(o[w+1]);o[d+1]=T_(Y,w),0!==Y&&(o[Y+1]=Hc(o[Y+1],d)),o[w+1]=function M_(o,a){return 131071&o|a<<17}(o[w+1],d)}else o[d+1]=T_(w,0),0!==w&&(o[w+1]=Hc(o[w+1],d)),w=d;else o[d+1]=T_(I,0),0===w?w=d:o[I+1]=Hc(o[I+1],d),I=d;S&&(o[d+1]=X0(o[d+1])),Pd(o,M,d,!0),Pd(o,M,d,!1),function TO(o,a,c,d,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof a&&xl(m,a)>=0&&(c[d+1]=J0(c[d+1]))}(a,M,o,d,m),v=T_(w,I),m?a.classBindings=v:a.styleBindings=v}(f,m,a,c,v,d)}}(m,o,v,d),a!==Vt&&gr(f,v,a)&&function FS(o,a,c,d,f,m,v,w){if(!(3&a.type))return;const I=o.data,S=I[w+1],M=function R_(o){return 1==(1&o)}(S)?PO(I,a,c,f,za(S),v):void 0;rw(M)||(rw(m)||function AO(o){return 2==(2&o)}(S)&&(m=PO(I,null,c,f,w,v)),function zR(o,a,c,d,f){if(a)f?o.addClass(c,d):o.removeClass(c,d);else{let m=-1===d.indexOf("-")?void 0:Af.DashCase;null==f?o.removeStyle(c,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Af.Important),o.setStyle(c,d,f,m))}}(d,v,fo(dr(),c),f,m))}(m,m.data[dr()],f,f[xt],o,f[v+1]=function $U(o,a){return null==o||""===o||("string"==typeof a?o+=a:"object"==typeof o&&(o=re(Fa(o)))),o}(a,c),d,v)}(o,a,null,!0),ms}function iw(o,a,c,d,f){let m=null;const v=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<v&&(m=a[w],d=Wc(d,m.hostAttrs,f),m!==o);)w++;return null!==o&&(c.directiveStylingLast=w),d}function Wc(o,a,c){const d=c?1:2;let f=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Wr(o,v,!!c||a[++m]))}return void 0===o?null:o}function PO(o,a,c,d,f,m){const v=null===a;let w;for(;f>0;){const I=o[f],S=Array.isArray(I),M=S?I[1]:I,U=null===M;let Y=c[f+1];Y===Vt&&(Y=U?Ke:void 0);let te=U?If(Y,d):M===d?Y:void 0;if(S&&!rw(te)&&(te=If(I,d)),rw(te)&&(w=te,v))return w;const xe=o[f+1];f=v?So(xe):za(xe)}if(null!==a){let I=m?a.residualClasses:a.residualStyles;null!=I&&(w=If(I,d))}return w}function rw(o){return void 0!==o}function FO(o,a=""){const c=Me(),d=Qt(),f=o+Kt,m=d.firstCreatePass?Id(d,f,1,a,null):d.data[f],v=LO(d,c,m,a,o);c[f]=v,mo()&&Lf(d,c,v,m),qs(m,!1)}let LO=(o,a,c,d,f)=>(go(!0),function yg(o,a){return o.createText(a)}(a[xt],d));function B_(o){return V_("",o,""),B_}function V_(o,a,c){const d=Me(),f=function Al(o,a,c,d){return gr(o,pc(),c)?a+ae(c)+d:Vt}(d,o,a,c);return f!==Vt&&function mr(o,a,c){const d=fo(a,o);!function Sc(o,a,c){o.setValue(a,c)}(o[xt],d,c)}(d,dr(),f),V_}function mp(o,a,c){const d=Me();return gr(d,pc(),a)&&fs(Qt(),Rn(),d,o,a,d[xt],c,!0),mp}function G_(o,a,c){const d=Me();if(gr(d,pc(),a)){const m=Qt(),v=Rn();fs(m,v,d,o,a,XI(gf(m.data),v,d),c,!0)}return G_}const Ao=void 0;var fw=["en",[["a","p"],["AM","PM"],Ao],[["AM","PM"],Ao,Ao],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ao,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ao,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ao,"{1} 'at' {0}",Ao],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function WO(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Ml={};function gp(o){const a=function qO(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=q_(a);if(c)return c;const d=a.split("-")[0];if(c=q_(d),c)return c;if("en"===d)return fw;throw new J(701,!1)}function W_(o){return gp(o)[Ld.PluralCase]}function q_(o){return o in Ml||(Ml[o]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[o]),Ml[o]}var Ld=function(o){return o[o.LocaleId=0]="LocaleId",o[o.DayPeriodsFormat=1]="DayPeriodsFormat",o[o.DayPeriodsStandalone=2]="DayPeriodsStandalone",o[o.DaysFormat=3]="DaysFormat",o[o.DaysStandalone=4]="DaysStandalone",o[o.MonthsFormat=5]="MonthsFormat",o[o.MonthsStandalone=6]="MonthsStandalone",o[o.Eras=7]="Eras",o[o.FirstDayOfWeek=8]="FirstDayOfWeek",o[o.WeekendRange=9]="WeekendRange",o[o.DateFormat=10]="DateFormat",o[o.TimeFormat=11]="TimeFormat",o[o.DateTimeFormat=12]="DateTimeFormat",o[o.NumberSymbols=13]="NumberSymbols",o[o.NumberFormats=14]="NumberFormats",o[o.CurrencyCode=15]="CurrencyCode",o[o.CurrencySymbol=16]="CurrencySymbol",o[o.CurrencyName=17]="CurrencyName",o[o.Currencies=18]="Currencies",o[o.Directionality=19]="Directionality",o[o.PluralCase=20]="PluralCase",o[o.ExtraData=21]="ExtraData",o}(Ld||{});const qc="en-US";let gw=qc;function uD(o,a,c,d,f){if(o=Te(o),Array.isArray(o))for(let m=0;m<o.length;m++)uD(o[m],a,c,d,f);else{const m=Qt(),v=Me(),w=Fi();let I=_d(o)?o:Te(o.provide);const S=Ab(o),M=1048575&w.providerIndexes,U=w.directiveStart,Y=w.providerIndexes>>20;if(_d(o)||!o.multi){const te=new Yo(S,f,Va),xe=hD(I,a,f?M:M+Y,U);-1===xe?(yl(En(w,v),m,I),dD(m,o,a.length),a.push(I),w.directiveStart++,w.directiveEnd++,f&&(w.providerIndexes+=1048576),c.push(te),v.push(te)):(c[xe]=te,v[xe]=te)}else{const te=hD(I,a,M+Y,U),xe=hD(I,a,M,M+Y),Je=xe>=0&&c[xe];if(f&&!Je||!f&&!(te>=0&&c[te])){yl(En(w,v),m,I);const _t=function xj(o,a,c,d,f){const m=new Yo(o,c,Va);return m.multi=[],m.index=a,m.componentProviders=0,y1(m,f,d&&!c),m}(f?wj:bj,c.length,f,d,S);!f&&Je&&(c[xe].providerFactory=_t),dD(m,o,a.length,0),a.push(I),w.directiveStart++,w.directiveEnd++,f&&(w.providerIndexes+=1048576),c.push(_t),v.push(_t)}else dD(m,o,te>-1?te:xe,y1(c[f?xe:te],S,!f&&d));!f&&d&&Je&&c[xe].componentProviders++}}}function dD(o,a,c,d){const f=_d(a),m=function IU(o){return!!o.useClass}(a);if(f||m){const I=(m?Te(a.useClass):a).prototype.ngOnDestroy;if(I){const S=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const M=S.indexOf(c);-1===M?S.push(c,[d,I]):S[M+1].push(d,I)}else S.push(c,I)}}}function y1(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function hD(o,a,c,d){for(let f=c;f<d;f++)if(a[f]===o)return f;return-1}function bj(o,a,c,d){return fD(this.multi,[])}function wj(o,a,c,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,w=Ta(c,c[We],this.providerFactory.index,d);m=w.slice(0,v),fD(f,m);for(let I=v;I<w.length;I++)m.push(w[I])}else m=[],fD(f,m);return m}function fD(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function v1(o,a=[]){return c=>{c.providersResolver=(d,f)=>function vj(o,a,c){const d=Qt();if(d.firstCreatePass){const f=as(o);uD(c,d.data,d.blueprint,f,!0),uD(a,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,a)}}class Hd{}class b1{}function Ej(o,a){return new pD(o,a??null,[])}class pD extends Hd{constructor(a,c,d){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ki(this);const f=rr(a);this._bootstrapComponents=Eo(f.bootstrap),this._r3Injector=Gg(a,c,[{provide:Hd,useValue:this},{provide:bd,useValue:this.componentFactoryResolver},...d],re(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class mD extends b1{constructor(a){super(),this.moduleType=a}create(a){return new pD(this.moduleType,a,[])}}class w1 extends Hd{constructor(a){super(),this.componentFactoryResolver=new Ki(this),this.instance=null;const c=new Yi([...a.providers,{provide:Hd,useValue:this},{provide:bd,useValue:this.componentFactoryResolver}],a.parent||Q(),a.debugName,new Set(["environment"]));this.injector=c,a.runEnvironmentInitializers&&c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function x1(o,a,c=null){return new w1({providers:o,parent:a,debugName:c,runEnvironmentInitializers:!0}).injector}let Ij=(()=>{var o;class a{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d)){const f=dI(0,d.type),m=f.length>0?x1([f],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d,m)}return this.cachedInjectors.get(d)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return(o=a).\u0275prov=it({token:o,providedIn:"environment",factory:()=>new o(Ge($))}),a})();function E1(o){o.getStandaloneInjector=a=>a.get(Ij).getOrCreateStandaloneInjector(o)}function ry(){return this._results[Symbol.iterator]()}class ha{get changes(){return this._changes||(this._changes=new oa)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=ha.prototype;c[Symbol.iterator]||(c[Symbol.iterator]=ry)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const d=this;d.dirty=!1;const f=function fr(o){return o.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function cg(o,a,c){if(o.length!==a.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],m=a[d];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function L1(o,a,c,d=!0){const f=a[We];if(function FR(o,a,c,d){const f=pi+d,m=c.length;d>0&&(c[f-1][Hr]=a),d<m-pi?(a[Hr]=c[f],Zv(c,pi+d,a)):(c.push(a),a[Hr]=null),a[bn]=c;const v=a[ol];null!==v&&c!==v&&function LR(o,a){const c=o[al];a[fi]!==a[bn][bn][fi]&&(o[sc]=!0),null===c?o[al]=[a]:c.push(a)}(v,a);const w=a[or];null!==w&&w.insertView(o),a[Pt]|=128}(f,a,o,c),d){const m=fb(c,o),v=a[xt],w=wg(v,o[ar]);null!==w&&function Nf(o,a,c,d,f,m){d[kn]=f,d[sr]=a,Vf(o,d,c,1,f,m)}(f,o[sr],v,a,w,m)}}let Wd=(()=>{class a{}return a.__NG_ELEMENT_ID__=wp,a})();const wD=Wd,V1=class extends wD{constructor(a,c,d){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=d}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(a,c){return this.createEmbeddedViewImpl(a,c)}createEmbeddedViewImpl(a,c,d){const f=function Fj(o,a,c,d){const f=a.tView,w=r_(o,f,c,4096&o[Pt]?4096:16,null,a,null,null,null,d?.injector??null,d?.hydrationInfo??null);w[ol]=o[a.index];const S=o[or];return null!==S&&(w[or]=S.createEmbeddedView(f)),f0(f,w,c),w}(this._declarationLView,this._declarationTContainer,a,{injector:c,hydrationInfo:d});return new Lc(f)}};function wp(){return Wa(Fi(),Me())}function Wa(o,a){return 4&o.type?new V1(a,o,wd(o,a)):null}let Mw=(()=>{class a{}return a.__NG_ELEMENT_ID__=xD,a})();function xD(){return Ow(Fi(),Me())}const Vj=Mw,Rw=class extends Vj{constructor(a,c,d){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=d}get element(){return wd(this._hostTNode,this._hostLView)}get injector(){return new _i(this._hostTNode,this._hostLView)}get parentInjector(){const a=Da(this._hostTNode,this._hostLView);if(Zu(a)){const c=Gr(a,this._hostLView),d=jt(a);return new _i(c[We].data[d+8],c)}return new _i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=ED(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-pi}createEmbeddedView(a,c,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const w=a.createEmbeddedViewImpl(c||{},m,null);return this.insertImpl(w,f,false),w}createComponent(a,c,d,f,m){const v=a&&!function bo(o){return"function"==typeof o}(a);let w;if(v)w=c;else{const je=c||{};w=je.index,d=je.injector,f=je.projectableNodes,m=je.environmentInjector||je.ngModuleRef}const I=v?a:new Bc(Yt(a)),S=d||this.parentInjector;if(!m&&null==I.ngModule){const Je=(v?S:this.parentInjector).get($,null);Je&&(m=Je)}Yt(I.componentType??{});const te=I.create(S,f,null,m);return this.insertImpl(te.hostView,w,false),te}insert(a,c){return this.insertImpl(a,c,!1)}insertImpl(a,c,d){const f=a._lView;if(function $u(o){return $i(o[bn])}(f)){const I=this.indexOf(a);if(-1!==I)this.detach(I);else{const S=f[bn],M=new Rw(S,S[sr],S[bn]);M.detach(M.indexOf(a))}}const v=this._adjustIndex(c),w=this._lContainer;return L1(w,f,v,!d),a.attachToViewContainerRef(),Zv(kw(w),v,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=ED(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),d=bg(this._lContainer,c);d&&(wl(kw(this._lContainer),c),cb(d[We],d))}detach(a){const c=this._adjustIndex(a,-1),d=bg(this._lContainer,c);return d&&null!=wl(kw(this._lContainer),c)?new Lc(d):null}_adjustIndex(a,c=0){return a??this.length+c}};function ED(o){return o[8]}function kw(o){return o[8]||(o[8]=[])}function Ow(o,a){let c;const d=a[o.index];return $i(d)?c=d:(c=YI(d,a,null,o),a[o.index]=c,tp(a,c)),Nw(c,a,o,d),new Rw(c,o,a)}let Nw=function CD(o,a,c,d){if(o[ar])return;let f;f=8&c.type?fn(d):function Cp(o,a){const c=o[xt],d=c.createComment(""),f=ur(a,o);return Tc(c,wg(c,f),d,function UR(o,a){return o.nextSibling(a)}(c,f),!1),d}(a,c),o[ar]=f};class SD{constructor(a){this.queryList=a,this.matches=null}clone(){return new SD(this.queryList)}setDirty(){this.queryList.setDirty()}}class DD{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const d=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let m=0;m<d;m++){const v=c.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new DD(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==FD(a,c).matches&&this.queries[c].setDirty()}}class z1{constructor(a,c,d=null){this.predicate=a,this.flags=c,this.read=d}}class AD{constructor(a=[]){this.queries=a}elementStart(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(a,f);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new AD(c):null}template(a,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class TD{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new TD(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(a,c,H1(c,m)),this.matchTNodeWithReadOption(a,c,Xo(c,a,m,!1,!1))}else d===Wd?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Xo(c,a,d,!1,!1))}matchTNodeWithReadOption(a,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===xd||f===Mw||f===Wd&&4&c.type)this.addMatch(c.index,-2);else{const m=Xo(c,a,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function H1(o,a){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===a)return c[d+1];return null}function MD(o,a,c,d){return-1===c?function $1(o,a){return 11&o.type?wd(o,a):4&o.type?Wa(o,a):null}(a,o):-2===c?function G1(o,a,c){return c===xd?wd(a,o):c===Wd?Wa(a,o):c===Mw?Ow(a,o):void 0}(o,a,d):Ta(o,o[We],c,a)}function W1(o,a,c,d){const f=a[or].queries[d];if(null===f.matches){const m=o.data,v=c.matches,w=[];for(let I=0;I<v.length;I+=2){const S=v[I];w.push(S<0?null:MD(a,m[S],v[I+1],c.metadata.read))}f.matches=w}return f.matches}function Pw(o,a,c,d){const f=o.queries.getByIndex(c),m=f.matches;if(null!==m){const v=W1(o,a,f,c);for(let w=0;w<m.length;w+=2){const I=m[w];if(I>0)d.push(v[w/2]);else{const S=m[w+1],M=a[-I];for(let U=pi;U<M.length;U++){const Y=M[U];Y[ol]===Y[bn]&&Pw(Y[We],Y,S,d)}if(null!==M[al]){const U=M[al];for(let Y=0;Y<U.length;Y++){const te=U[Y];Pw(te[We],te,S,d)}}}}}return d}function RD(o){const a=Me(),c=Qt(),d=Wv();Xm(d+1);const f=FD(c,d);if(o.dirty&&function df(o){return 4==(4&o[Pt])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?Pw(c,a,d,[]):W1(c,a,f,d);o.reset(m,vk),o.notifyOnChanges()}return!0}return!1}function Fw(o,a,c){const d=Qt();d.firstCreatePass&&(Lw(d,new z1(o,a,c),-1),2==(2&a)&&(d.staticViewQueries=!0)),ND(d,Me(),a)}function oy(o,a,c,d){const f=Qt();if(f.firstCreatePass){const m=Fi();Lw(f,new z1(a,c,d),m.index),function PD(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}ND(f,Me(),c)}function kD(){return function OD(o,a){return o[or].queries[a].queryList}(Me(),Wv())}function ND(o,a,c){const d=new ha(4==(4&c));(function zk(o,a,c,d){const f=ZI(a);f.push(c),o.firstCreatePass&&QI(o).push(d,f.length-1)})(o,a,d,d.destroy),null===a[or]&&(a[or]=new DD),a[or].queries.push(new SD(d))}function Lw(o,a,c){null===o.queries&&(o.queries=new AD),o.queries.track(new TD(a,c))}function FD(o,a){return o.queries.getByIndex(a)}function LD(o,a){return Wa(o,a)}function VD(o){return!!rr(o)}const sN=new yn("Application Initializer");let WD=(()=>{var o;class a{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f}),this.appInits=Xe(sN,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const d=[];for(const m of this.appInits){const v=m();if(D_(v))d.push(v);else if(Io(v)){const w=new Promise((I,S)=>{v.subscribe({complete:I,error:S})});d.push(w)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(d).then(()=>{f()}).catch(m=>{this.reject(m)}),0===d.length&&f(),this.initialized=!0}}return(o=a).\u0275fac=function(d){return new(d||o)},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"root"}),a})(),oN=(()=>{var o;class a{log(d){console.log(d)}warn(d){console.warn(d)}}return(o=a).\u0275fac=function(d){return new(d||o)},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"platform"}),a})();const Hw=new yn("LocaleId",{providedIn:"root",factory:()=>Xe(Hw,gt.Optional|gt.SkipSelf)||function Qj(){return typeof $localize<"u"&&$localize.locale||qc}()}),Xj=new yn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let aN=(()=>{var o;class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ye.X(!1)}add(){this.hasPendingTasks.next(!0);const d=this.taskId++;return this.pendingTasks.add(d),d}remove(d){this.pendingTasks.delete(d),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(o=a).\u0275fac=function(d){return new(d||o)},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();class ez{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}let tz=(()=>{var o;class a{compileModuleSync(d){return new mD(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),v=Eo(rr(d).declarations).reduce((w,I)=>{const S=Yt(I);return S&&w.push(new Bc(S)),w},[]);return new ez(f,v)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return(o=a).\u0275fac=function(d){return new(d||o)},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();const dN=new yn(""),KD=new yn("");let ZD,wz=(()=>{var o;class a{constructor(d,f,m){this._ngZone=d,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ZD||(function xz(o){ZD=o}(m),m.addToWindow(f)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Di.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,m){let v=-1;f&&f>0&&(v=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==v),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:v,updateCb:m})}whenStable(d,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,f,m){return[]}}return(o=a).\u0275fac=function(d){return new(d||o)(Ge(Di),Ge(hN),Ge(KD))},o.\u0275prov=it({token:o,factory:o.\u0275fac}),a})(),hN=(()=>{var o;class a{constructor(){this._applications=new Map}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return ZD?.findTestabilityInTree(this,d,f)??null}}return(o=a).\u0275fac=function(d){return new(d||o)},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"platform"}),a})(),tu=null;const fN=new yn("AllowMultipleToken"),QD=new yn("PlatformDestroyListeners"),XD=new yn("appBootstrapListener");class Iz{constructor(a,c){this.name=a,this.token=c}}function gN(o,a,c=[]){const d=`Platform: ${a}`,f=new yn(d);return(m=[])=>{let v=JD();if(!v||v.injector.get(fN,!1)){const w=[...c,...m,{provide:f,useValue:!0}];o?o(w):function Sz(o){if(tu&&!tu.get(fN,!1))throw new J(400,!1);(function pN(){!function Fm(o){Ov=o}(()=>{throw new J(600,!1)})})(),tu=o;const a=o.get(yN);(function mN(o){o.get(gI,null)?.forEach(c=>c())})(o)}(function _N(o=[],a){return xo.create({name:a,providers:[{provide:Sb,useValue:"platform"},{provide:QD,useValue:new Set([()=>tu=null])},...o]})}(w,d))}return function Az(o){const a=JD();if(!a)throw new J(401,!1);return a}()}}function JD(){return tu?.get(yN)??null}let yN=(()=>{var o;class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const m=function Tz(o="zone.js",a){return"noop"===o?new Ik:"zone.js"===o?new Di(a):o}(f?.ngZone,function vN(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:o?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:o?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return m.run(()=>{const v=function Cj(o,a,c){return new pD(o,a,c)}(d.moduleType,this.injector,function CN(o){return[{provide:Di,useFactory:o},{provide:gd,multi:!0,useFactory:()=>{const a=Xe(Rz,{optional:!0});return()=>a.initialize()}},{provide:EN,useFactory:Mz},{provide:Zg,useFactory:kI}]}(()=>m)),w=v.injector.get(Dl,null);return m.runOutsideAngular(()=>{const I=m.onError.subscribe({next:S=>{w.handleError(S)}});v.onDestroy(()=>{Gw(this._modules,v),I.unsubscribe()})}),function bN(o,a,c){try{const d=c();return D_(d)?d.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw a.runOutsideAngular(()=>o.handleError(d)),d}}(w,m,()=>{const I=v.injector.get(WD);return I.runInitializers(),I.donePromise.then(()=>(function Yc(o){qe(o,"Expected localeId to be defined"),"string"==typeof o&&(gw=o.toLowerCase().replace(/_/g,"-"))}(v.injector.get(Hw,qc)||qc),this._moduleDoBootstrap(v),v))})})}bootstrapModule(d,f=[]){const m=wN({},f);return function Ez(o,a,c){const d=new mD(c);return Promise.resolve(d)}(0,0,d).then(v=>this.bootstrapModuleFactory(v,m))}_moduleDoBootstrap(d){const f=d.injector.get(Tp);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new J(-403,!1);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const d=this._injector.get(QD,null);d&&(d.forEach(f=>f()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(o=a).\u0275fac=function(d){return new(d||o)(Ge(xo))},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"platform"}),a})();function wN(o,a){return Array.isArray(a)?a.reduce(wN,o):{...o,...a}}let Tp=(()=>{var o;class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Xe(EN),this.zoneIsStable=Xe(Zg),this.componentTypes=[],this.components=[],this.isStable=Xe(aN).hasPendingTasks.pipe((0,Ce.w)(d=>d?(0,ne.of)(!1):this.zoneIsStable),(0,we.x)(),(0,Se.B)()),this._injector=Xe($)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(d,f){const m=d instanceof zg;if(!this._injector.get(WD).done)throw!m&&sl(d),new J(405,!1);let w;w=m?d:this._injector.get(bd).resolveComponentFactory(d),this.componentTypes.push(w.componentType);const I=function Cz(o){return o.isBoundToModule}(w)?void 0:this._injector.get(Hd),M=w.create(xo.NULL,[],f||w.selector,I),U=M.location.nativeElement,Y=M.injector.get(dN,null);return Y?.registerApplication(U),M.onDestroy(()=>{this.detachView(M.hostView),Gw(this.components,M),Y?.unregisterApplication(U)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new J(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this.internalErrorHandler(d)}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;Gw(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const f=this._injector.get(XD,[]);f.push(...this._bootstrapListeners),f.forEach(m=>m(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Gw(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new J(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(o=a).\u0275fac=function(d){return new(d||o)},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();function Gw(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}const EN=new yn("",{providedIn:"root",factory:()=>Xe(Dl).handleError.bind(void 0)});function Mz(){const o=Xe(Di),a=Xe(Dl);return c=>o.runOutsideAngular(()=>a.handleError(c))}let Rz=(()=>{var o;class a{constructor(){this.zone=Xe(Di),this.applicationRef=Xe(Tp)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(o=a).\u0275fac=function(d){return new(d||o)},o.\u0275prov=it({token:o,factory:o.\u0275fac,providedIn:"root"}),a})();function Oz(){return!1}let Nz=(()=>{class a{}return a.__NG_ELEMENT_ID__=Pz,a})();function Pz(o){return function Fz(o,a,c){if(co(o)&&!c){const d=Ir(o.index,a);return new Lc(d,d)}return 47&o.type?new Lc(a[fi],a):null}(Fi(),Me(),16==(16&o))}class SN{constructor(){}supports(a){return m_(a)}create(a){return new iu(a)}}const tA=(o,a)=>a;class iu{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||tA}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,d=this._removalsHead,f=0,m=null;for(;c||d;){const v=!d||c&&c.currentIndex<uy(d,f,m)?c:d,w=uy(v,f,m),I=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{m||(m=[]);const S=w-f,M=I-f;if(S!=M){for(let Y=0;Y<S;Y++){const te=Y<m.length?m[Y]:m[Y]=0,xe=te+Y;M<=xe&&xe<S&&(m[Y]=te+1)}m[v.previousIndex]=M-S}}w!==I&&a(v,w,I)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!m_(a))throw new J(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,m,v,c=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let w=0;w<this.length;w++)m=a[w],v=this._trackByFn(w,m),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,m,v,w)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,w),d=!0),c=c._next}else f=0,function T0(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Symbol.iterator]();let d;for(;!(d=c.next()).done;)a(d.value)}}(a,w=>{v=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,w,v,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,d,f){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,m,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,m,f)):a=this._addAfter(new DN(c,d),m,f),a}_verifyReinsertion(a,c,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,m=a._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(a,c,d),this._addToMoves(a,d),a}_moveAfter(a,c,d){return this._unlink(a),this._insertAfter(a,c,d),this._addToMoves(a,d),a}_addAfter(a,c,d){return this._insertAfter(a,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,d){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new nA),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,d=a._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new nA),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class DN{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AN{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const c=a._prevDup,d=a._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class nA{constructor(){this.map=new Map}put(a){const c=a.trackById;let d=this.map.get(c);d||(d=new AN,this.map.set(c,d)),d.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function uy(o,a,c){const d=o.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+a+f}class Zw{constructor(){}supports(a){return a instanceof Map||M0(a)}create(){return new TN}}class TN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||M0(a)))throw new J(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const d=a._prev;return c._next=a,c._prev=d,a._prev=c,d&&(d._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new iA(a);return this._records.set(a,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(d=>c(a[d],d))}}class iA{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function MN(){return new rA([new SN])}let rA=(()=>{var o;class a{constructor(d){this.factories=d}static create(d,f){if(null!=f){const m=f.factories.slice();d=d.concat(m)}return new a(d)}static extend(d){return{provide:a,useFactory:f=>a.create(d,f||MN()),deps:[[a,new Ye,new pe]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(null!=f)return f;throw new J(901,!1)}}return(o=a).\u0275prov=it({token:o,providedIn:"root",factory:MN}),a})();function kN(){return new Qw([new Zw])}let Qw=(()=>{var o;class a{constructor(d){this.factories=d}static create(d,f){if(f){const m=f.factories.slice();d=d.concat(m)}return new a(d)}static extend(d){return{provide:a,useFactory:f=>a.create(d,f||kN()),deps:[[a,new Ye,new pe]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(f)return f;throw new J(901,!1)}}return(o=a).\u0275prov=it({token:o,providedIn:"root",factory:kN}),a})();const zz=gN(null,"core",[]);let Hz=(()=>{var o;class a{constructor(d){}}return(o=a).\u0275fac=function(d){return new(d||o)(Ge(Tp))},o.\u0275mod=jh({type:o}),o.\u0275inj=cn({}),a})();function lA(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}function HN(o){const a=Yt(o);if(!a)return null;const c=new Bc(a);return{get selector(){return c.selector},get type(){return c.componentType},get inputs(){return c.inputs},get outputs(){return c.outputs},get ngContentSelectors(){return c.ngContentSelectors},get isStandalone(){return a.standalone},get isSignal(){return a.signals}}}},3106:(dt,Ee,P)=>{"use strict";P.d(Ee,{Z:()=>et});var u=P(9058),V=P(4537),L=P(534),ie=P(7879);class ye{constructor(Ne,Ue){this._delegate=Ne,this.firebase=Ue,(0,L._addComponent)(Ne,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=Ne.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ne){this._delegate.automaticDataCollectionEnabled=Ne}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ne=>{this._delegate.checkDestroyed(),Ne()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(Ne,Ue=L._DEFAULT_ENTRY_NAME){var tt;this._delegate.checkDestroyed();const ct=this._delegate.container.getProvider(Ne);return!ct.isInitialized()&&"EXPLICIT"===(null===(tt=ct.getComponent())||void 0===tt?void 0:tt.instantiationMode)&&ct.initialize(),ct.getImmediate({identifier:Ue})}_removeServiceInstance(Ne,Ue=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ne).clearInstance(Ue)}_addComponent(Ne){(0,L._addComponent)(this._delegate,Ne)}_addOrOverwriteComponent(Ne){(0,L._addOrOverwriteComponent)(this._delegate,Ne)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),j=function we(){const Te=function Ce(Te){const Ne={},Ue={__esModule:!0,initializeApp:function J(he,K={}){const Pe=L.initializeApp(he,K);if((0,u.r3)(Ne,Pe.name))return Ne[Pe.name];const st=new Te(Pe,Ue);return Ne[Pe.name]=st,st},app:ct,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function ae(he){const K=he.name,Pe=K.replace("-compat","");if(L._registerComponent(he)&&"PUBLIC"===he.type){const st=(Et=ct())=>{if("function"!=typeof Et[Pe])throw Se.create("invalid-app-argument",{appName:K});return Et[Pe]()};void 0!==he.serviceProps&&(0,u.ZB)(st,he.serviceProps),Ue[Pe]=st,Te.prototype[Pe]=function(...Et){return this._getService.bind(this,K).apply(this,he.multipleInstances?Et:[])}}return"PUBLIC"===he.type?Ue[Pe]:null},removeApp:function tt(he){delete Ne[he]},useAsService:function se(he,K){return"serverAuth"===K?null:K},modularAPIs:L}};function ct(he){if(!(0,u.r3)(Ne,he=he||L._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:he});return Ne[he]}return Ue.default=Ue,Object.defineProperty(Ue,"apps",{get:function ve(){return Object.keys(Ne).map(he=>Ne[he])}}),ct.App=Te,Ue}(ye);return Te.INTERNAL=Object.assign(Object.assign({},Te.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function Ne(Ue){(0,u.ZB)(Te,Ue)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Te}(),z=new ie.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Te=self.firebase.SDK_VERSION;Te&&Te.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const et=j;!function Le(Te){(0,L.registerVersion)("@firebase/app-compat","0.2.13",Te)}()},534:(dt,Ee,P)=>{"use strict";P.r(Ee),P.d(Ee,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>rs,_DEFAULT_ENTRY_NAME:()=>gt,_addComponent:()=>nr,_addOrOverwriteComponent:()=>Ur,_apps:()=>At,_clearComponents:()=>rn,_components:()=>on,_getProvider:()=>Gn,_registerComponent:()=>zt,_removeServiceInstance:()=>no,deleteApp:()=>Ei,getApp:()=>zs,getApps:()=>xi,initializeApp:()=>ss,onLog:()=>Pn,registerVersion:()=>xr,setLogLevel:()=>io});var u=P(5861),V=P(4537),L=P(7879),ie=P(9058);const ye=(ge,oe)=>oe.some(Fe=>ge instanceof Fe);let ne,Se;const j=new WeakMap,z=new WeakMap,re=new WeakMap,Re=new WeakMap,Le=new WeakMap;let Ne={get(ge,oe,Fe){if(ge instanceof IDBTransaction){if("done"===oe)return z.get(ge);if("objectStoreNames"===oe)return ge.objectStoreNames||re.get(ge);if("store"===oe)return Fe.objectStoreNames[1]?void 0:Fe.objectStore(Fe.objectStoreNames[0])}return J(ge[oe])},set:(ge,oe,Fe)=>(ge[oe]=Fe,!0),has:(ge,oe)=>ge instanceof IDBTransaction&&("done"===oe||"store"===oe)||oe in ge};function ct(ge){return"function"==typeof ge?function tt(ge){return ge!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ge)?function(...oe){return ge.apply(ve(this),oe),J(j.get(this))}:function(...oe){return J(ge.apply(ve(this),oe))}:function(oe,...Fe){const ot=ge.call(ve(this),oe,...Fe);return re.set(ot,oe.sort?oe.sort():[oe]),J(ot)}}(ge):(ge instanceof IDBTransaction&&function Te(ge){if(z.has(ge))return;const oe=new Promise((Fe,ot)=>{const Ke=()=>{ge.removeEventListener("complete",Nt),ge.removeEventListener("error",sn),ge.removeEventListener("abort",sn)},Nt=()=>{Fe(),Ke()},sn=()=>{ot(ge.error||new DOMException("AbortError","AbortError")),Ke()};ge.addEventListener("complete",Nt),ge.addEventListener("error",sn),ge.addEventListener("abort",sn)});z.set(ge,oe)}(ge),ye(ge,function Ce(){return ne||(ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ge,Ne):ge)}function J(ge){if(ge instanceof IDBRequest)return function et(ge){const oe=new Promise((Fe,ot)=>{const Ke=()=>{ge.removeEventListener("success",Nt),ge.removeEventListener("error",sn)},Nt=()=>{Fe(J(ge.result)),Ke()},sn=()=>{ot(ge.error),Ke()};ge.addEventListener("success",Nt),ge.addEventListener("error",sn)});return oe.then(Fe=>{Fe instanceof IDBCursor&&j.set(Fe,ge)}).catch(()=>{}),Le.set(oe,ge),oe}(ge);if(Re.has(ge))return Re.get(ge);const oe=ct(ge);return oe!==ge&&(Re.set(ge,oe),Le.set(oe,ge)),oe}const ve=ge=>Le.get(ge),he=["get","getKey","getAll","getAllKeys","count"],K=["put","add","delete","clear"],Pe=new Map;function st(ge,oe){if(!(ge instanceof IDBDatabase)||oe in ge||"string"!=typeof oe)return;if(Pe.get(oe))return Pe.get(oe);const Fe=oe.replace(/FromIndex$/,""),ot=oe!==Fe,Ke=K.includes(Fe);if(!(Fe in(ot?IDBIndex:IDBObjectStore).prototype)||!Ke&&!he.includes(Fe))return;const Nt=function(){var sn=(0,u.Z)(function*(di,...Fn){const Hi=this.transaction(di,Ke?"readwrite":"readonly");let Hs=Hi.store;return ot&&(Hs=Hs.index(Fn.shift())),(yield Promise.all([Hs[Fe](...Fn),Ke&&Hi.done]))[0]});return function(Fn){return sn.apply(this,arguments)}}();return Pe.set(oe,Nt),Nt}!function Ue(ge){Ne=ge(Ne)}(ge=>({...ge,get:(oe,Fe,ot)=>st(oe,Fe)||ge.get(oe,Fe,ot),has:(oe,Fe)=>!!st(oe,Fe)||ge.has(oe,Fe)}));class Et{constructor(oe){this.container=oe}getPlatformInfoString(){return this.container.getProviders().map(Fe=>{if(function Sn(ge){const oe=ge.getComponent();return"VERSION"===oe?.type}(Fe)){const ot=Fe.getImmediate();return`${ot.library}/${ot.version}`}return null}).filter(Fe=>Fe).join(" ")}}const ui="@firebase/app",gn=new L.Yd("@firebase/app"),gt="[DEFAULT]",Rt={[ui]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},At=new Map,on=new Map;function nr(ge,oe){try{ge.container.addComponent(oe)}catch(Fe){gn.debug(`Component ${oe.name} failed to register with FirebaseApp ${ge.name}`,Fe)}}function Ur(ge,oe){ge.container.addOrOverwriteComponent(oe)}function zt(ge){const oe=ge.name;if(on.has(oe))return gn.debug(`There were multiple attempts to register component ${oe}.`),!1;on.set(oe,ge);for(const Fe of At.values())nr(Fe,ge);return!0}function Gn(ge,oe){const Fe=ge.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),ge.container.getProvider(oe)}function no(ge,oe,Fe=gt){Gn(ge,oe).clearInstance(Fe)}function rn(){on.clear()}const Ot=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wn{constructor(oe,Fe,ot){this._isDeleted=!1,this._options=Object.assign({},oe),this._config=Object.assign({},Fe),this._name=Fe.name,this._automaticDataCollectionEnabled=Fe.automaticDataCollectionEnabled,this._container=ot,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(oe){this._isDeleted=oe}checkDestroyed(){if(this.isDeleted)throw Ot.create("app-deleted",{appName:this._name})}}const rs="9.23.0";function ss(ge,oe={}){let Fe=ge;"object"!=typeof oe&&(oe={name:oe});const ot=Object.assign({name:gt,automaticDataCollectionEnabled:!1},oe),Ke=ot.name;if("string"!=typeof Ke||!Ke)throw Ot.create("bad-app-name",{appName:String(Ke)});if(Fe||(Fe=(0,ie.aH)()),!Fe)throw Ot.create("no-options");const Nt=At.get(Ke);if(Nt){if((0,ie.vZ)(Fe,Nt.options)&&(0,ie.vZ)(ot,Nt.config))return Nt;throw Ot.create("duplicate-app",{appName:Ke})}const sn=new V.H0(Ke);for(const Fn of on.values())sn.addComponent(Fn);const di=new Wn(Fe,ot,sn);return At.set(Ke,di),di}function zs(ge=gt){const oe=At.get(ge);if(!oe&&ge===gt&&(0,ie.aH)())return ss();if(!oe)throw Ot.create("no-app",{appName:ge});return oe}function xi(){return Array.from(At.values())}function Ei(ge){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,u.Z)(function*(ge){const oe=ge.name;At.has(oe)&&(At.delete(oe),yield Promise.all(ge.container.getProviders().map(Fe=>Fe.delete())),ge.isDeleted=!0)})).apply(this,arguments)}function xr(ge,oe,Fe){var ot;let Ke=null!==(ot=Rt[ge])&&void 0!==ot?ot:ge;Fe&&(Ke+=`-${Fe}`);const Nt=Ke.match(/\s|\//),sn=oe.match(/\s|\//);if(Nt||sn){const di=[`Unable to register library "${Ke}" with version "${oe}":`];return Nt&&di.push(`library name "${Ke}" contains illegal characters (whitespace or "/")`),Nt&&sn&&di.push("and"),sn&&di.push(`version name "${oe}" contains illegal characters (whitespace or "/")`),void gn.warn(di.join(" "))}zt(new V.wA(`${Ke}-version`,()=>({library:Ke,version:oe}),"VERSION"))}function Pn(ge,oe){if(null!==ge&&"function"!=typeof ge)throw Ot.create("invalid-log-argument");(0,L.Am)(ge,oe)}function io(ge){(0,L.Ub)(ge)}const jr="firebase-heartbeat-database",Ss=1,W="firebase-heartbeat-store";let H=null;function N(){return H||(H=function ae(ge,oe,{blocked:Fe,upgrade:ot,blocking:Ke,terminated:Nt}={}){const sn=indexedDB.open(ge,oe),di=J(sn);return ot&&sn.addEventListener("upgradeneeded",Fn=>{ot(J(sn.result),Fn.oldVersion,Fn.newVersion,J(sn.transaction),Fn)}),Fe&&sn.addEventListener("blocked",Fn=>Fe(Fn.oldVersion,Fn.newVersion,Fn)),di.then(Fn=>{Nt&&Fn.addEventListener("close",()=>Nt()),Ke&&Fn.addEventListener("versionchange",Hi=>Ke(Hi.oldVersion,Hi.newVersion,Hi))}).catch(()=>{}),di}(jr,Ss,{upgrade:(ge,oe)=>{0===oe&&ge.createObjectStore(W)}}).catch(ge=>{throw Ot.create("idb-open",{originalErrorMessage:ge.message})})),H}function k(){return(k=(0,u.Z)(function*(ge){try{return yield(yield N()).transaction(W).objectStore(W).get(Ge(ge))}catch(oe){if(oe instanceof ie.ZR)gn.warn(oe.message);else{const Fe=Ot.create("idb-get",{originalErrorMessage:oe?.message});gn.warn(Fe.message)}}})).apply(this,arguments)}function ee(ge,oe){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,u.Z)(function*(ge,oe){try{const ot=(yield N()).transaction(W,"readwrite");yield ot.objectStore(W).put(oe,Ge(ge)),yield ot.done}catch(Fe){if(Fe instanceof ie.ZR)gn.warn(Fe.message);else{const ot=Ot.create("idb-set",{originalErrorMessage:Fe?.message});gn.warn(ot.message)}}})).apply(this,arguments)}function Ge(ge){return`${ge.name}!${ge.options.appId}`}class en{constructor(oe){this.container=oe,this._heartbeatsCache=null;const Fe=this.container.getProvider("app").getImmediate();this._storage=new Ft(Fe),this._heartbeatsCachePromise=this._storage.read().then(ot=>(this._heartbeatsCache=ot,ot))}triggerHeartbeat(){var oe=this;return(0,u.Z)(function*(){const ot=oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ke=St();if(null===oe._heartbeatsCache&&(oe._heartbeatsCache=yield oe._heartbeatsCachePromise),oe._heartbeatsCache.lastSentHeartbeatDate!==Ke&&!oe._heartbeatsCache.heartbeats.some(Nt=>Nt.date===Ke))return oe._heartbeatsCache.heartbeats.push({date:Ke,agent:ot}),oe._heartbeatsCache.heartbeats=oe._heartbeatsCache.heartbeats.filter(Nt=>{const sn=new Date(Nt.date).valueOf();return Date.now()-sn<=2592e6}),oe._storage.overwrite(oe._heartbeatsCache)})()}getHeartbeatsHeader(){var oe=this;return(0,u.Z)(function*(){if(null===oe._heartbeatsCache&&(yield oe._heartbeatsCachePromise),null===oe._heartbeatsCache||0===oe._heartbeatsCache.heartbeats.length)return"";const Fe=St(),{heartbeatsToSend:ot,unsentEntries:Ke}=function _n(ge,oe=1024){const Fe=[];let ot=ge.slice();for(const Ke of ge){const Nt=Fe.find(sn=>sn.agent===Ke.agent);if(Nt){if(Nt.dates.push(Ke.date),ir(Fe)>oe){Nt.dates.pop();break}}else if(Fe.push({agent:Ke.agent,dates:[Ke.date]}),ir(Fe)>oe){Fe.pop();break}ot=ot.slice(1)}return{heartbeatsToSend:Fe,unsentEntries:ot}}(oe._heartbeatsCache.heartbeats),Nt=(0,ie.L)(JSON.stringify({version:2,heartbeats:ot}));return oe._heartbeatsCache.lastSentHeartbeatDate=Fe,Ke.length>0?(oe._heartbeatsCache.heartbeats=Ke,yield oe._storage.overwrite(oe._heartbeatsCache)):(oe._heartbeatsCache.heartbeats=[],oe._storage.overwrite(oe._heartbeatsCache)),Nt})()}}function St(){return(new Date).toISOString().substring(0,10)}class Ft{constructor(oe){this.app=oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,u.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var oe=this;return(0,u.Z)(function*(){return(yield oe._canUseIndexedDBPromise)&&(yield function F(ge){return k.apply(this,arguments)}(oe.app))||{heartbeats:[]}})()}overwrite(oe){var Fe=this;return(0,u.Z)(function*(){var ot;if(yield Fe._canUseIndexedDBPromise){const Nt=yield Fe.read();return ee(Fe.app,{lastSentHeartbeatDate:null!==(ot=oe.lastSentHeartbeatDate)&&void 0!==ot?ot:Nt.lastSentHeartbeatDate,heartbeats:oe.heartbeats})}})()}add(oe){var Fe=this;return(0,u.Z)(function*(){var ot;if(yield Fe._canUseIndexedDBPromise){const Nt=yield Fe.read();return ee(Fe.app,{lastSentHeartbeatDate:null!==(ot=oe.lastSentHeartbeatDate)&&void 0!==ot?ot:Nt.lastSentHeartbeatDate,heartbeats:[...Nt.heartbeats,...oe.heartbeats]})}})()}}function ir(ge){return(0,ie.L)(JSON.stringify({version:2,heartbeats:ge})).length}!function va(ge){zt(new V.wA("platform-logger",oe=>new Et(oe),"PRIVATE")),zt(new V.wA("heartbeat",oe=>new en(oe),"PRIVATE")),xr(ui,"0.9.13",ge),xr(ui,"0.9.13","esm2017"),xr("fire-js","")}("")},4537:(dt,Ee,P)=>{"use strict";P.d(Ee,{H0:()=>Ce,wA:()=>L});var u=P(5861),V=P(9058);class L{constructor(j,z,re){this.name=j,this.instanceFactory=z,this.type=re,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(j){return this.instantiationMode=j,this}setMultipleInstances(j){return this.multipleInstances=j,this}setServiceProps(j){return this.serviceProps=j,this}setInstanceCreatedCallback(j){return this.onInstanceCreated=j,this}}const ie="[DEFAULT]";class ye{constructor(j,z){this.name=j,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(j){const z=this.normalizeInstanceIdentifier(j);if(!this.instancesDeferred.has(z)){const re=new V.BH;if(this.instancesDeferred.set(z,re),this.isInitialized(z)||this.shouldAutoInitialize())try{const Re=this.getOrInitializeService({instanceIdentifier:z});Re&&re.resolve(Re)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(j){var z;const re=this.normalizeInstanceIdentifier(j?.identifier),Re=null!==(z=j?.optional)&&void 0!==z&&z;if(!this.isInitialized(re)&&!this.shouldAutoInitialize()){if(Re)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:re})}catch(Le){if(Re)return null;throw Le}}getComponent(){return this.component}setComponent(j){if(j.name!==this.name)throw Error(`Mismatching Component ${j.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=j,this.shouldAutoInitialize()){if(function Se(we){return"EAGER"===we.instantiationMode}(j))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[z,re]of this.instancesDeferred.entries()){const Re=this.normalizeInstanceIdentifier(z);try{const Le=this.getOrInitializeService({instanceIdentifier:Re});re.resolve(Le)}catch{}}}}clearInstance(j=ie){this.instancesDeferred.delete(j),this.instancesOptions.delete(j),this.instances.delete(j)}delete(){var j=this;return(0,u.Z)(function*(){const z=Array.from(j.instances.values());yield Promise.all([...z.filter(re=>"INTERNAL"in re).map(re=>re.INTERNAL.delete()),...z.filter(re=>"_delete"in re).map(re=>re._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(j=ie){return this.instances.has(j)}getOptions(j=ie){return this.instancesOptions.get(j)||{}}initialize(j={}){const{options:z={}}=j,re=this.normalizeInstanceIdentifier(j.instanceIdentifier);if(this.isInitialized(re))throw Error(`${this.name}(${re}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Re=this.getOrInitializeService({instanceIdentifier:re,options:z});for(const[Le,et]of this.instancesDeferred.entries())re===this.normalizeInstanceIdentifier(Le)&&et.resolve(Re);return Re}onInit(j,z){var re;const Re=this.normalizeInstanceIdentifier(z),Le=null!==(re=this.onInitCallbacks.get(Re))&&void 0!==re?re:new Set;Le.add(j),this.onInitCallbacks.set(Re,Le);const et=this.instances.get(Re);return et&&j(et,Re),()=>{Le.delete(j)}}invokeOnInitCallbacks(j,z){const re=this.onInitCallbacks.get(z);if(re)for(const Re of re)try{Re(j,z)}catch{}}getOrInitializeService({instanceIdentifier:j,options:z={}}){let re=this.instances.get(j);if(!re&&this.component&&(re=this.component.instanceFactory(this.container,{instanceIdentifier:(we=j,we===ie?void 0:we),options:z}),this.instances.set(j,re),this.instancesOptions.set(j,z),this.invokeOnInitCallbacks(re,j),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,j,re)}catch{}var we;return re||null}normalizeInstanceIdentifier(j=ie){return this.component?this.component.multipleInstances?j:ie:j}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ce{constructor(j){this.name=j,this.providers=new Map}addComponent(j){const z=this.getProvider(j.name);if(z.isComponentSet())throw new Error(`Component ${j.name} has already been registered with ${this.name}`);z.setComponent(j)}addOrOverwriteComponent(j){this.getProvider(j.name).isComponentSet()&&this.providers.delete(j.name),this.addComponent(j)}getProvider(j){if(this.providers.has(j))return this.providers.get(j);const z=new ye(j,this);return this.providers.set(j,z),z}getProviders(){return Array.from(this.providers.values())}}},7879:(dt,Ee,P)=>{"use strict";P.d(Ee,{Am:()=>we,Ub:()=>Ce,Yd:()=>Se,in:()=>V});const u=[];var V=function(j){return j[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",j}(V||{});const L={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},ie=V.INFO,ye={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},ne=(j,z,...re)=>{if(z<j.logLevel)return;const Re=(new Date).toISOString(),Le=ye[z];if(!Le)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Le](`[${Re}]  ${j.name}:`,...re)};class Se{constructor(z){this.name=z,this._logLevel=ie,this._logHandler=ne,this._userLogHandler=null,u.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in V))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?L[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...z),this._logHandler(this,V.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...z),this._logHandler(this,V.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,V.INFO,...z),this._logHandler(this,V.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,V.WARN,...z),this._logHandler(this,V.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...z),this._logHandler(this,V.ERROR,...z)}}function Ce(j){u.forEach(z=>{z.setLogLevel(j)})}function we(j,z){for(const re of u){let Re=null;z&&z.level&&(Re=L[z.level]),re.userLogHandler=null===j?null:(Le,et,...Te)=>{const Ne=Te.map(Ue=>{if(null==Ue)return null;if("string"==typeof Ue)return Ue;if("number"==typeof Ue||"boolean"==typeof Ue)return Ue.toString();if(Ue instanceof Error)return Ue.message;try{return JSON.stringify(Ue)}catch{return null}}).filter(Ue=>Ue).join(" ");et>=(Re??Le.logLevel)&&j({level:V[et].toLowerCase(),message:Ne,args:Te,type:Le.name})}}}},7142:(dt,Ee,P)=>{"use strict";P.d(Ee,{Z:()=>u.Z});var u=P(3106);u.Z.registerVersion("firebase","9.23.0","app-compat")},6365:(dt,Ee,P)=>{"use strict";P.r(Ee);var u=P(5861),V=P(3106),L=P(6878),ie=P(9058),Se=(P(534),P(7879),P(4537));function Ce(){return window}function z(){return z=(0,u.Z)(function*(N,F,k){var ee;const{BuildInfo:Ie}=Ce();(0,L.as)(F.sessionId,"AuthEvent did not contain a session ID");const Ge=yield function Ue(N){return tt.apply(this,arguments)}(F.sessionId),It={};return(0,L.at)()?It.ibi=Ie.packageName:(0,L.au)()?It.apn=Ie.packageName:(0,L.av)(N,"operation-not-supported-in-this-environment"),Ie.displayName&&(It.appDisplayName=Ie.displayName),It.sessionId=Ge,(0,L.aw)(N,k,F.type,void 0,null!==(ee=F.eventId)&&void 0!==ee?ee:void 0,It)}),z.apply(this,arguments)}function Re(){return(Re=(0,u.Z)(function*(N){const{BuildInfo:F}=Ce(),k={};(0,L.at)()?k.iosBundleId=F.packageName:(0,L.au)()?k.androidPackageName=F.packageName:(0,L.av)(N,"operation-not-supported-in-this-environment"),yield(0,L.ax)(N,k)})).apply(this,arguments)}function Te(){return(Te=(0,u.Z)(function*(N,F,k){const{cordova:ee}=Ce();let Ie=()=>{};try{yield new Promise((Ge,It)=>{let Xe=null;function en(){var Ft;Ge();const ir=null===(Ft=ee.plugins.browsertab)||void 0===Ft?void 0:Ft.close;"function"==typeof ir&&ir(),"function"==typeof k?.close&&k.close()}function St(){Xe||(Xe=window.setTimeout(()=>{It((0,L.az)(N,"redirect-cancelled-by-user"))},2e3))}function _n(){"visible"===document?.visibilityState&&St()}F.addPassiveListener(en),document.addEventListener("resume",St,!1),(0,L.au)()&&document.addEventListener("visibilitychange",_n,!1),Ie=()=>{F.removePassiveListener(en),document.removeEventListener("resume",St,!1),document.removeEventListener("visibilitychange",_n,!1),Xe&&window.clearTimeout(Xe)}})}finally{Ie()}})).apply(this,arguments)}function tt(){return(tt=(0,u.Z)(function*(N){const F=function ct(N){if((0,L.as)(/[0-9a-zA-Z]+/.test(N),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(N);const F=new ArrayBuffer(N.length),k=new Uint8Array(F);for(let ee=0;ee<N.length;ee++)k[ee]=N.charCodeAt(ee);return k}(N),k=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(k)).map(Ie=>Ie.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class ve extends L.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(F)),super.onEvent(F)}initialized(){var F=this;return(0,u.Z)(function*(){yield F.initPromise})()}}function he(N){return K.apply(this,arguments)}function K(){return(K=(0,u.Z)(function*(N){const F=yield Et()._get(Sn(N));return F&&(yield Et()._remove(Sn(N))),F})).apply(this,arguments)}function st(){const N=[];for(let k=0;k<20;k++){const ee=Math.floor(62*Math.random());N.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(ee))}return N.join("")}function Et(){return(0,L.aC)(L.b)}function Sn(N){return(0,L.aD)("authEvent",N.config.apiKey,N.name)}function gn(N){if(!N?.includes("?"))return{};const[F,...k]=N.split("?");return(0,ie.zd)(k.join("?"))}const de=class br{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aE,this._overrideRedirectResult=L.aF}_initialize(F){var k=this;return(0,u.Z)(function*(){const ee=F._key();let Ie=k.eventManagers.get(ee);return Ie||(Ie=new ve(F),k.eventManagers.set(ee,Ie),k.attachCallbackListeners(F,Ie)),Ie})()}_openPopup(F){(0,L.av)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,k,ee,Ie){var Ge=this;return(0,u.Z)(function*(){!function Ne(N){var F,k,ee,Ie,Ge,It,Xe,en,St,_n;const Ft=Ce();(0,L.aA)("function"==typeof(null===(F=Ft?.universalLinks)||void 0===F?void 0:F.subscribe),N,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.aA)(typeof(null===(k=Ft?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.aA)("function"==typeof(null===(Ge=null===(Ie=null===(ee=Ft?.cordova)||void 0===ee?void 0:ee.plugins)||void 0===Ie?void 0:Ie.browsertab)||void 0===Ge?void 0:Ge.openUrl),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aA)("function"==typeof(null===(en=null===(Xe=null===(It=Ft?.cordova)||void 0===It?void 0:It.plugins)||void 0===Xe?void 0:Xe.browsertab)||void 0===en?void 0:en.isAvailable),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aA)("function"==typeof(null===(_n=null===(St=Ft?.cordova)||void 0===St?void 0:St.InAppBrowser)||void 0===_n?void 0:_n.open),N,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const It=yield Ge._initialize(F);yield It.initialized(),It.resetRedirect(),(0,L.aG)(),yield Ge._originValidation(F);const Xe=function ae(N,F,k=null){return{type:F,eventId:k,urlResponse:null,sessionId:st(),postBody:null,tenantId:N.tenantId,error:(0,L.az)(N,"no-auth-event")}}(F,ee,Ie);yield function se(N,F){return Et()._set(Sn(N),F)}(F,Xe);const en=yield function j(N,F,k){return z.apply(this,arguments)}(F,Xe,k),St=yield function Le(N){const{cordova:F}=Ce();return new Promise(k=>{F.plugins.browsertab.isAvailable(ee=>{let Ie=null;ee?F.plugins.browsertab.openUrl(N):Ie=F.InAppBrowser.open(N,(0,L.ay)()?"_blank":"_system","location=yes"),k(Ie)})})}(en);return function et(N,F,k){return Te.apply(this,arguments)}(F,It,St)})()}_isIframeWebStorageSupported(F,k){throw new Error("Method not implemented.")}_originValidation(F){const k=F._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function re(N){return Re.apply(this,arguments)}(F)),this.originValidationPromises[k]}attachCallbackListeners(F,k){const{universalLinks:ee,handleOpenURL:Ie,BuildInfo:Ge}=Ce(),It=setTimeout((0,u.Z)(function*(){yield he(F),k.onEvent(fe())}),500),Xe=function(){var _n=(0,u.Z)(function*(Ft){clearTimeout(It);const ir=yield he(F);let va=null;ir&&Ft?.url&&(va=function Pe(N,F){var k,ee;const Ie=function ki(N){const F=gn(N),k=F.link?decodeURIComponent(F.link):void 0,ee=gn(k).link,Ie=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return gn(Ie).link||Ie||ee||k||N}(F);if(Ie.includes("/__/auth/callback")){const Ge=gn(Ie),It=Ge.firebaseError?function ui(N){try{return JSON.parse(N)}catch{return null}}(decodeURIComponent(Ge.firebaseError)):null,Xe=null===(ee=null===(k=It?.code)||void 0===k?void 0:k.split("auth/"))||void 0===ee?void 0:ee[1],en=Xe?(0,L.az)(Xe):null;return en?{type:N.type,eventId:N.eventId,tenantId:N.tenantId,error:en,urlResponse:null,sessionId:null,postBody:null}:{type:N.type,eventId:N.eventId,tenantId:N.tenantId,sessionId:N.sessionId,urlResponse:Ie,postBody:null}}return null}(ir,Ft.url)),k.onEvent(va||fe())});return function(ir){return _n.apply(this,arguments)}}();typeof ee<"u"&&"function"==typeof ee.subscribe&&ee.subscribe(null,Xe);const en=Ie,St=`${Ge.packageName.toLowerCase()}://`;Ce().handleOpenURL=function(){var _n=(0,u.Z)(function*(Ft){if(Ft.toLowerCase().startsWith(St)&&Xe({url:Ft}),"function"==typeof en)try{en(Ft)}catch(ir){console.error(ir)}});return function(Ft){return _n.apply(this,arguments)}}()}};function fe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.az)("no-auth-event")}}function qe(){var N;return(null===(N=self?.location)||void 0===N?void 0:N.protocol)||null}function $t(N=(0,ie.z$)()){return!("file:"!==qe()&&"ionic:"!==qe()&&"capacitor:"!==qe()||!N.toLowerCase().match(/iphone|ipad|ipod|android/))}function cn(){try{const N=self.localStorage,F=L.aL();if(N)return N.setItem(F,"1"),N.removeItem(F),!function Mt(N=(0,ie.z$)()){return function mt(){return(0,ie.w1)()&&11===document?.documentMode}()||function it(N=(0,ie.z$)()){return/Edge\/\d+/.test(N)}(N)}()||(0,ie.hl)()}catch{return Dn()&&(0,ie.hl)()}return!1}function Dn(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function hn(){return(function He(){return"http:"===qe()||"https:"===qe()}()||(0,ie.ru)()||$t())&&!function ut(){return(0,ie.b$)()||(0,ie.UG)()}()&&cn()&&!Dn()}function Hn(){return $t()&&typeof document<"u"}function wr(){return(wr=(0,u.Z)(function*(){return!!Hn()&&new Promise(N=>{const F=setTimeout(()=>{N(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),N(!0)})})})).apply(this,arguments)}const $n={LOCAL:"local",NONE:"none",SESSION:"session"},tr=L.aA,js="persistence";function Rt(N){return At.apply(this,arguments)}function At(){return(At=(0,u.Z)(function*(N){yield N._initializationPromise;const F=nr(),k=L.aD(js,N.config.apiKey,N.name);F&&F.setItem(k,N._getPersistence())})).apply(this,arguments)}function nr(){var N;try{return(null===(N=function er(){return typeof window<"u"?window:null}())||void 0===N?void 0:N.sessionStorage)||null}catch{return null}}const Ur=L.aA;class zt{constructor(){this.browserResolver=L.aC(L.k),this.cordovaResolver=L.aC(de),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aE,this._overrideRedirectResult=L.aF}_initialize(F){var k=this;return(0,u.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,k,ee,Ie){var Ge=this;return(0,u.Z)(function*(){return yield Ge.selectUnderlyingResolver(),Ge.assertedUnderlyingResolver._openPopup(F,k,ee,Ie)})()}_openRedirect(F,k,ee,Ie){var Ge=this;return(0,u.Z)(function*(){return yield Ge.selectUnderlyingResolver(),Ge.assertedUnderlyingResolver._openRedirect(F,k,ee,Ie)})()}_isIframeWebStorageSupported(F,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,k)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return Hn()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Ur(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,u.Z)(function*(){if(F.underlyingResolver)return;const k=yield function Vr(){return wr.apply(this,arguments)}();F.underlyingResolver=k?F.cordovaResolver:F.browserResolver})()}}function Gn(N){return N.unwrap()}function rn(N){return Ot(N)}function Ot(N){const{_tokenResponse:F}=N instanceof ie.ZR?N.customData:N;if(!F)return null;if(!(N instanceof ie.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return L.P.credentialFromResult(N);const k=F.providerId;if(!k||k===L.p.PASSWORD)return null;let ee;switch(k){case L.p.GOOGLE:ee=L.V;break;case L.p.FACEBOOK:ee=L.U;break;case L.p.GITHUB:ee=L.W;break;case L.p.TWITTER:ee=L.Z;break;default:const{oauthIdToken:Ie,oauthAccessToken:Ge,oauthTokenSecret:It,pendingToken:Xe,nonce:en}=F;return Ge||It||Ie||Xe?Xe?k.startsWith("saml.")?L.aO._create(k,Xe):L.L._fromParams({providerId:k,signInMethod:k,pendingToken:Xe,idToken:Ie,accessToken:Ge}):new L.X(k).credential({idToken:Ie,accessToken:Ge,rawNonce:en}):null}return N instanceof ie.ZR?ee.credentialFromError(N):ee.credentialFromResult(N)}function Wn(N,F){return F.catch(k=>{throw k instanceof ie.ZR&&function Uo(N,F){var k;const ee=null===(k=F.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===F?.code)F.resolver=new zs(N,L.aq(N,F));else if(ee){const Ie=Ot(F),Ge=F;Ie&&(Ge.credential=Ie,Ge.tenantId=ee.tenantId||void 0,Ge.email=ee.email||void 0,Ge.phoneNumber=ee.phoneNumber||void 0)}}(N,k),k}).then(k=>{const Ie=k.user;return{operationType:k.operationType,credential:rn(k),additionalUserInfo:L.ao(k),user:xi.getOrCreate(Ie)}})}function rs(N,F){return ss.apply(this,arguments)}function ss(){return(ss=(0,u.Z)(function*(N,F){const k=yield F;return{verificationId:k.verificationId,confirm:ee=>Wn(N,k.confirm(ee))}})).apply(this,arguments)}class zs{constructor(F,k){this.resolver=k,this.auth=function no(N){return N.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Wn(Gn(this.auth),this.resolver.resolveSignIn(F))}}class xi{constructor(F){this._delegate=F,this.multiFactor=L.ar(F)}static getOrCreate(F){return xi.USER_MAP.has(F)||xi.USER_MAP.set(F,new xi(F)),xi.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var k=this;return(0,u.Z)(function*(){return Wn(k.auth,L.a0(k._delegate,F))})()}linkWithPhoneNumber(F,k){var ee=this;return(0,u.Z)(function*(){return rs(ee.auth,L.l(ee._delegate,F,k))})()}linkWithPopup(F){var k=this;return(0,u.Z)(function*(){return Wn(k.auth,L.d(k._delegate,F,zt))})()}linkWithRedirect(F){var k=this;return(0,u.Z)(function*(){return yield Rt(L.aH(k.auth)),L.g(k._delegate,F,zt)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var k=this;return(0,u.Z)(function*(){return Wn(k.auth,L.a1(k._delegate,F))})()}reauthenticateWithPhoneNumber(F,k){return rs(this.auth,L.r(this._delegate,F,k))}reauthenticateWithPopup(F){return Wn(this.auth,L.e(this._delegate,F,zt))}reauthenticateWithRedirect(F){var k=this;return(0,u.Z)(function*(){return yield Rt(L.aH(k.auth)),L.h(k._delegate,F,zt)})()}sendEmailVerification(F){return L.ae(this._delegate,F)}unlink(F){var k=this;return(0,u.Z)(function*(){return yield L.an(k._delegate,F),k})()}updateEmail(F){return L.aj(this._delegate,F)}updatePassword(F){return L.ak(this._delegate,F)}updatePhoneNumber(F){return L.u(this._delegate,F)}updateProfile(F){return L.ai(this._delegate,F)}verifyBeforeUpdateEmail(F,k){return L.af(this._delegate,F,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xi.USER_MAP=new WeakMap;const Ei=L.aA;let Oi=(()=>{class N{constructor(k,ee){if(this.app=k,ee.isInitialized())return this._delegate=ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ie}=k.options;Ei(Ie,"invalid-api-key",{appName:k.name}),Ei(Ie,"invalid-api-key",{appName:k.name});const Ge=typeof window<"u"?zt:void 0;this._delegate=ee.initialize({options:{persistence:Pn(Ie,k.name),popupRedirectResolver:Ge}}),this._delegate._updateErrorMap(L.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,ee){L.I(this._delegate,k,ee)}applyActionCode(k){return L.a5(this._delegate,k)}checkActionCode(k){return L.a6(this._delegate,k)}confirmPasswordReset(k,ee){return L.a4(this._delegate,k,ee)}createUserWithEmailAndPassword(k,ee){var Ie=this;return(0,u.Z)(function*(){return Wn(Ie._delegate,L.a8(Ie._delegate,k,ee))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return L.ad(this._delegate,k)}isSignInWithEmailLink(k){return L.ab(this._delegate,k)}getRedirectResult(){var k=this;return(0,u.Z)(function*(){Ei(hn(),k._delegate,"operation-not-supported-in-this-environment");const ee=yield L.j(k._delegate,zt);return ee?Wn(k._delegate,Promise.resolve(ee)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function be(N,F){(0,L.aH)(N)._logFramework(F)}(this._delegate,k)}onAuthStateChanged(k,ee,Ie){const{next:Ge,error:It,complete:Xe}=xr(k,ee,Ie);return this._delegate.onAuthStateChanged(Ge,It,Xe)}onIdTokenChanged(k,ee,Ie){const{next:Ge,error:It,complete:Xe}=xr(k,ee,Ie);return this._delegate.onIdTokenChanged(Ge,It,Xe)}sendSignInLinkToEmail(k,ee){return L.aa(this._delegate,k,ee)}sendPasswordResetEmail(k,ee){return L.a3(this._delegate,k,ee||void 0)}setPersistence(k){var ee=this;return(0,u.Z)(function*(){let Ie;switch(function gt(N,F){tr(Object.values($n).includes(F),N,"invalid-persistence-type"),(0,ie.b$)()?tr(F!==$n.SESSION,N,"unsupported-persistence-type"):(0,ie.UG)()?tr(F===$n.NONE,N,"unsupported-persistence-type"):Dn()?tr(F===$n.NONE||F===$n.LOCAL&&(0,ie.hl)(),N,"unsupported-persistence-type"):tr(F===$n.NONE||cn(),N,"unsupported-persistence-type")}(ee._delegate,k),k){case $n.SESSION:Ie=L.a;break;case $n.LOCAL:Ie=(yield L.aC(L.i)._isAvailable())?L.i:L.b;break;case $n.NONE:Ie=L.N;break;default:return L.av("argument-error",{appName:ee._delegate.name})}return ee._delegate.setPersistence(Ie)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return Wn(this._delegate,L._(this._delegate))}signInWithCredential(k){return Wn(this._delegate,L.$(this._delegate,k))}signInWithCustomToken(k){return Wn(this._delegate,L.a2(this._delegate,k))}signInWithEmailAndPassword(k,ee){return Wn(this._delegate,L.a9(this._delegate,k,ee))}signInWithEmailLink(k,ee){return Wn(this._delegate,L.ac(this._delegate,k,ee))}signInWithPhoneNumber(k,ee){return rs(this._delegate,L.s(this._delegate,k,ee))}signInWithPopup(k){var ee=this;return(0,u.Z)(function*(){return Ei(hn(),ee._delegate,"operation-not-supported-in-this-environment"),Wn(ee._delegate,L.c(ee._delegate,k,zt))})()}signInWithRedirect(k){var ee=this;return(0,u.Z)(function*(){return Ei(hn(),ee._delegate,"operation-not-supported-in-this-environment"),yield Rt(ee._delegate),L.f(ee._delegate,k,zt)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return L.a7(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return N.Persistence=$n,N})();function xr(N,F,k){let ee=N;"function"!=typeof N&&({next:ee,error:F,complete:k}=N);const Ie=ee;return{next:It=>Ie(It&&xi.getOrCreate(It)),error:F,complete:k}}function Pn(N,F){const k=function on(N,F){const k=nr();if(!k)return[];const ee=L.aD(js,N,F);switch(k.getItem(ee)){case $n.NONE:return[L.N];case $n.LOCAL:return[L.i,L.a];case $n.SESSION:return[L.a];default:return[]}}(N,F);if(typeof self<"u"&&!k.includes(L.i)&&k.push(L.i),typeof window<"u")for(const ee of[L.b,L.a])k.includes(ee)||k.push(ee);return k.includes(L.N)||k.push(L.N),k}class io{constructor(){this.providerId="phone",this._delegate=new L.P(Gn(V.Z.auth()))}static credential(F,k){return L.P.credential(F,k)}verifyPhoneNumber(F,k){return this._delegate.verifyPhoneNumber(F,k)}unwrap(){return this._delegate}}io.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,io.PROVIDER_ID=L.P.PROVIDER_ID;const jr=L.aA;class Ss{constructor(F,k,ee=V.Z.app()){var Ie;jr(null===(Ie=ee.options)||void 0===Ie?void 0:Ie.apiKey,"invalid-api-key",{appName:ee.name}),this._delegate=new L.R(F,k,ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function H(N){N.INTERNAL.registerComponent(new Se.wA("auth-compat",F=>{const k=F.getProvider("app-compat").getImmediate(),ee=F.getProvider("auth");return new Oi(k,ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.Q,FacebookAuthProvider:L.U,GithubAuthProvider:L.W,GoogleAuthProvider:L.V,OAuthProvider:L.X,SAMLAuthProvider:L.Y,PhoneAuthProvider:io,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:Ss,TwitterAuthProvider:L.Z,Auth:Oi,AuthCredential:L.J,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),N.registerVersion("@firebase/auth-compat","0.4.2")}(V.Z)},5861:(dt,Ee,P)=>{"use strict";function u(L,ie,ye,ne,Se,Ce,we){try{var j=L[Ce](we),z=j.value}catch(re){return void ye(re)}j.done?ie(z):Promise.resolve(z).then(ne,Se)}function V(L){return function(){var ie=this,ye=arguments;return new Promise(function(ne,Se){var Ce=L.apply(ie,ye);function we(z){u(Ce,ne,Se,we,j,"next",z)}function j(z){u(Ce,ne,Se,we,j,"throw",z)}we(void 0)})}}P.d(Ee,{Z:()=>V})},7582:(dt,Ee,P)=>{"use strict";function ie(de,fe){var be={};for(var ce in de)Object.prototype.hasOwnProperty.call(de,ce)&&fe.indexOf(ce)<0&&(be[ce]=de[ce]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var _e=0;for(ce=Object.getOwnPropertySymbols(de);_e<ce.length;_e++)fe.indexOf(ce[_e])<0&&Object.prototype.propertyIsEnumerable.call(de,ce[_e])&&(be[ce[_e]]=de[ce[_e]])}return be}function re(de,fe,be,ce){return new(be||(be=Promise))(function(Ae,qe){function He(mt){try{ut(ce.next(mt))}catch(it){qe(it)}}function $t(mt){try{ut(ce.throw(mt))}catch(it){qe(it)}}function ut(mt){mt.done?Ae(mt.value):function _e(Ae){return Ae instanceof be?Ae:new be(function(qe){qe(Ae)})}(mt.value).then(He,$t)}ut((ce=ce.apply(de,fe||[])).next())})}function J(de){return this instanceof J?(this.v=de,this):new J(de)}function ve(de,fe,be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var _e,ce=be.apply(de,fe||[]),Ae=[];return _e={},qe("next"),qe("throw"),qe("return"),_e[Symbol.asyncIterator]=function(){return this},_e;function qe(Mt){ce[Mt]&&(_e[Mt]=function(cn){return new Promise(function(Dn,hn){Ae.push([Mt,cn,Dn,hn])>1||He(Mt,cn)})})}function He(Mt,cn){try{!function $t(Mt){Mt.value instanceof J?Promise.resolve(Mt.value.v).then(ut,mt):it(Ae[0][2],Mt)}(ce[Mt](cn))}catch(Dn){it(Ae[0][3],Dn)}}function ut(Mt){He("next",Mt)}function mt(Mt){He("throw",Mt)}function it(Mt,cn){Mt(cn),Ae.shift(),Ae.length&&He(Ae[0][0],Ae[0][1])}}function se(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,fe=de[Symbol.asyncIterator];return fe?fe.call(de):(de=function Te(de){var fe="function"==typeof Symbol&&Symbol.iterator,be=fe&&de[fe],ce=0;if(be)return be.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&ce>=de.length&&(de=void 0),{value:de&&de[ce++],done:!de}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),be={},ce("next"),ce("throw"),ce("return"),be[Symbol.asyncIterator]=function(){return this},be);function ce(Ae){be[Ae]=de[Ae]&&function(qe){return new Promise(function(He,$t){!function _e(Ae,qe,He,$t){Promise.resolve($t).then(function(ut){Ae({value:ut,done:He})},qe)}(He,$t,(qe=de[Ae](qe)).done,qe.value)})}}}P.d(Ee,{FC:()=>ve,KL:()=>se,_T:()=>ie,mG:()=>re,qq:()=>J}),"function"==typeof SuppressedError&&SuppressedError}},dt=>{dt(dt.s=2168)}]);